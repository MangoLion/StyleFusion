/*!
 * Controls.js
 * http://controlsjs.com/
 *
 * Copyright (c) 2014 Position s.r.o.  All rights reserved.
 *
 * This version of Controls.js is licensed under the terms of Commercial Software License.
 * http://controlsjs.com/license.html
 *
 */

var ColorsConverter={RGBToHSV:function(a,b,c){if("number"!==typeof a||0>a||255<a||"number"!==typeof b||0>b||255<b||"number"!==typeof c||0>c||255<c)return null;a=Math.round(a)/255;b=Math.round(b)/255;c=Math.round(c)/255;var d=Math.min(a,Math.min(b,c)),e=Math.max(a,Math.max(b,c));return d===e?{H:0,S:0,V:d}:{H:60*((a===d?3:c===d?1:5)-(a===d?b-c:c===d?a-b:c-a)/(e-d)),S:(e-d)/e,V:e}},HSVToRGB:function(a,b,c){if("number"!==typeof a||0>a||360<a||"number"!==typeof b||0>b||1<b||"number"!==typeof c||0>c||1<
c)return null;if(0===b)return{R:Math.round(255*c),G:Math.round(255*c),B:Math.round(255*c)};a/=60;i=Math.floor(a);f=a-i;p=c*(1-b);q=c*(1-b*f);t=c*(1-b*(1-f));var d=b=a=null;switch(i){case 0:a=c;b=t;d=p;break;case 1:a=q;b=c;d=p;break;case 2:a=p;b=c;d=t;break;case 3:a=p;b=q;d=c;break;case 4:a=t;b=p;d=c;break;case 5:a=c;b=p;d=q;break;case 6:a=c,b=t,d=p}a=Math.round(255*a);b=Math.round(255*b);d=Math.round(255*d);return{R:a,G:b,B:d}},HexToRGB:function(a){if("string"!==typeof a||7!==a.length)return null;
var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16);a=parseInt(a.substr(5,2),16);return isNaN(b)||isNaN(c)||isNaN(a)?null:{R:b,G:c,B:a}},HexToRGBA:function(a){if("string"!==typeof a||9!==a.length)return null;var b=parseInt(a.substr(1,2),16),c=parseInt(a.substr(3,2),16),d=parseInt(a.substr(5,2),16);a=parseInt(a.substr(7,2),16)/255;return isNaN(a)||isNaN(b)||isNaN(c)||isNaN(d)?null:{R:b,G:c,B:d,A:a}},RGBToHex:function(a,b,c){if("number"!==typeof a||0>a||255<a||"number"!==typeof b||0>b||255<
b||"number"!==typeof c||0>c||255<c)return null;a=Math.round(a);b=Math.round(b);c=Math.round(c);a=a.toString(16);b=b.toString(16);c=c.toString(16);a=1===a.length?"0"+a:a;b=1===b.length?"0"+b:b;c=1===c.length?"0"+c:c;return"#"+a+b+c},RGBAToHex:function(a,b,c,d){if("number"!==typeof d||0>d||1<d||"number"!==typeof a||0>a||255<a||"number"!==typeof b||0>b||255<b||"number"!==typeof c||0>c||255<c)return null;d=Math.round(255*d);a=Math.round(a);b=Math.round(b);c=Math.round(c);d=d.toString(16);a=a.toString(16);
b=b.toString(16);c=c.toString(16);d=1===d.length?"0"+d:d;a=1===a.length?"0"+a:a;b=1===b.length?"0"+b:b;c=1===c.length?"0"+c:c;return"#"+a+b+c+d},HexToHSV:function(a){a=ColorsConverter.HexToRGB(a);return"object"!==typeof a||null===a?null:ColorsConverter.RGBToHSV(a.R,a.G,a.B)},HexToHSVA:function(a){a=ColorsConverter.HexToRGBA(a);if("object"!==typeof a||null===a)return null;var b=ColorsConverter.RGBToHSV(a.R,a.G,a.B);if("object"!==typeof b||null===b)return null;b.A=a.A;return b},HexToContrast:function(a){a=
ColorsConverter.HexToRGB(a);return"object"!==typeof a||null===a?null:128<=(299*a.R+587*a.G+114*a.B)/1E3?"#000000":"#ffffff"},RGBToContrast:function(a,b,c){return"number"!==typeof a||0>a||255<a||"number"!==typeof b||0>b||255<b||"number"!==typeof c||0>c||255<c?null:128<=(299*a+587*b+114*c)/1E3?"#000000":"#ffffff"},MergeRGBAColors:function(a){if("[object Array]"!==Object.prototype.toString.call(a))return null;var b=1,c=0,d=0,e=0,g=0,k;for(k in a)if(g=a[k],"object"===typeof g&&null!==g&&"number"===typeof g.R&&
"number"===typeof g.G&&"number"===typeof g.B&&"number"===typeof g.A){var n=g.A>b?b:g.A,b=b-n,c=c+n*g.R,d=d+n*g.G,e=e+n*g.B;if(0>=b)break}g=1-b;return{R:0>c?0:255<c?255:c,G:0>d?0:255<d?255:d,B:0>e?0:255<e?255:e,A:0>g?0:1<g?1:g}},MergeHexColors:function(a){if("[object Array]"!==Object.prototype.toString.call(a))return null;var b=!1,c;for(c in a){var d=a[c].Color;if(9===d.length)b=!0,d=ColorsConverter.HexToRGBA(d);else if(d=ColorsConverter.HexToRGB(d),null!==d){var e=a[c].Opacity;d.A="number"!==typeof e||
0>e?0:1<e?1:e}a[c]=d}a=ColorsConverter.MergeRGBAColors(a);return b?ColorsConverter.RGBAToHex(a.R,a.G,a.B,a.A):ColorsConverter.RGBToHex(a.R,a.G,a.B)},RGBToHSL:function(a,b,c){if("number"!==typeof a||0>a||255<a||"number"!==typeof b||0>b||255<b||"number"!==typeof c||0>c||255<c)return null;a/=255;b/=255;c/=255;var d=Math.max(a,b,c),e=Math.min(a,b,c),g,k=(d+e)/2;if(d===e)g=e=0;else{var n=d-e,e=.5<k?n/(2-d-e):n/(d+e);switch(d){case a:g=(b-c)/n+(b<c?6:0);break;case b:g=(c-a)/n+2;break;case c:g=(a-b)/n+4}g*=
60}return{H:g,S:e,L:k}},HSLToRGB:function(a,b,c){if("number"!==typeof a||0>a||360<a||"number"!==typeof b||0>b||1<b||"number"!==typeof c||0>c||1<c)return null;var d,e;0===b?a=e=b=255*c:(b=.5>=c?c*(b+1):c+b-c*b,c=2*c-b,d=a/360,a=Math.round(ColorsConverter.HueToRGB(c,b,d+1/3)),e=Math.round(ColorsConverter.HueToRGB(c,b,d)),b=Math.round(ColorsConverter.HueToRGB(c,b,d-1/3)));return{R:a,G:e,B:b}},HueToRGB:function(a,b,c){0>c?c+=1:1<c&&--c;return 255*(1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a)}};"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.locale_language="Czech";ngc_Lang.cs.locale_language_native="\u010de\u0161tina";ngc_Lang.cs.decimal_separator=",";ngc_Lang.cs.thousands_separator="\u00a0";ngc_Lang.cs.date_format="d.M.yyyy";ngc_Lang.cs.date_shortformat="d.M.yy";ngc_Lang.cs.date_format_parse="d.M.y";ngc_Lang.cs.time_format="H:mm:ss";ngc_Lang.cs.time_shortformat="H:mm";ngc_Lang.cs.time_format_parse=["H:m:s","H:m"];
ngc_Lang.cs.datetime_format="d.M.yyyy H:mm:ss";ngc_Lang.cs.datetime_shortformat="d.M.yyyy H:mm";ngc_Lang.cs.datetime_format_parse=["d.M.y H:m:s","d.M.y H:m"];ngc_Lang.cs.calendar_months="leden \u00fanor b\u0159ezen duben kv\u011bten \u010derven \u010dervenec srpen z\u00e1\u0159\u00ed \u0159\u00edjen listopad prosinec".split(" ");ngc_Lang.cs.calendar_months_short="led \u00fano b\u0159e dub kv\u011b \u010dvn \u010dvc srp z\u00e1\u0159 \u0159\u00edj lis pro".split(" ");ngc_Lang.cs.calendar_days="ned\u011ble pond\u011bl\u00ed \u00fater\u00fd st\u0159eda \u010dtvrtek p\u00e1tek sobota".split(" ");
ngc_Lang.cs.calendar_days_short="ne po \u00fat st \u010dt p\u00e1 so".split(" ");"undefined"===typeof ngc_Lang&&(ngc_Lang={});(function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});ngc_Lang[c].date_format="dd/MM/yyyy";ngc_Lang[c].date_shortformat="dd/MM/yy";ngc_Lang[c].date_format_parse="d/M/y";ngc_Lang[c].datetime_format="dd/MM/yyyy h:mm:ss a";ngc_Lang[c].datetime_shortformat="dd/MM/yyyy h:mm a";ngc_Lang[c].datetime_format_parse=["d/M/y h:m:s a","d/M/y h:m a"]}})("en-ag en-zm en-ws en-vu en-vg en-vc en-tt en-to en-tc en-sz en-ss en-sl en-sd en-sb en-pw en-pk en-ph en-pg en-ng en-na en-mw en-mo en-ls en-lr en-lc en-ky en-kn en-ki en-gy en-gm en-gh en-gd en-fm en-fj en-er en-dm en-cy en-bw en-bs en-bm en-bb".split(" "));
(function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});ngc_Lang[c].date_format="dd/MM/yyyy";ngc_Lang[c].date_shortformat="dd/MM/yy";ngc_Lang[c].date_format_parse="d/M/y";ngc_Lang[c].time_format="HH:mm:ss";ngc_Lang[c].time_shortformat="HH:mm";ngc_Lang[c].time_format_parse=["H:m:s","H:m"];ngc_Lang[c].datetime_format="dd/MM/yyyy HH:mm:ss";ngc_Lang[c].datetime_shortformat="dd/MM/yyyy HH:mm";ngc_Lang[c].datetime_format_parse=["d/M/y H:m:s","d/M/y H:m"]}})("en-ai en-ug en-tz en-tv en-tk en-sx en-sh en-sc en-rw en-pn en-nu en-nr en-nf en-mu en-mt en-ms en-mg en-ke en-je en-io en-im en-ie en-gi en-gg en-fk en-cx en-cm en-ck en-cc en-bz".split(" "));
(function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});ngc_Lang[c].decimal_separator=",";ngc_Lang[c].thousands_separator=".";ngc_Lang[c].date_format="dd/MM/yyyy";ngc_Lang[c].date_shortformat="dd/MM/yy";ngc_Lang[c].date_format_parse="d/M/y";ngc_Lang[c].time_format="HH:mm:ss";ngc_Lang[c].time_shortformat="HH:mm";ngc_Lang[c].time_format_parse=["H:m:s","H:m"];ngc_Lang[c].datetime_format="dd/MM/yyyy HH:mm:ss";ngc_Lang[c].datetime_shortformat="dd/MM/yyyy HH:mm";
ngc_Lang[c].datetime_format_parse=["d/M/y H:m:s","d/M/y H:m"]}})("en-at en-si en-nl en-de en-ch en-be".split(" "));
(function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});ngc_Lang[c].date_format="d/MM/yyyy";ngc_Lang[c].date_shortformat="d/MM/yy";ngc_Lang[c].date_format_parse="d/M/y";ngc_Lang[c].datetime_format="d/MM/yyyy h:mm:ss a";ngc_Lang[c].datetime_shortformat="d/MM/yyyy h:mm a";ngc_Lang[c].datetime_format_parse=["d/M/y h:m:s a","d/M/y h:m a"]}})(["en-au","en-nz"]);"undefined"===typeof ngc_Lang["en-ca"]&&(ngc_Lang["en-ca"]={});
ngc_Lang["en-ca"].date_format="yyyy-MM-dd";ngc_Lang["en-ca"].date_shortformat="yy-MM-dd";ngc_Lang["en-ca"].date_format_parse="y-M-d";ngc_Lang["en-ca"].datetime_format="yyyy-MM-dd h:mm:ss a";ngc_Lang["en-ca"].datetime_shortformat="yyyy-MM-dd h:mm a";ngc_Lang["en-ca"].datetime_format_parse=["y-M-d h:m:s a","y-M-d h:m a"];"undefined"===typeof ngc_Lang["en-dk"]&&(ngc_Lang["en-dk"]={});ngc_Lang["en-dk"].decimal_separator=",";ngc_Lang["en-dk"].thousands_separator=".";ngc_Lang["en-dk"].date_format="dd/MM/yyyy";
ngc_Lang["en-dk"].date_shortformat="dd/MM/yy";ngc_Lang["en-dk"].date_format_parse="d/M/y";ngc_Lang["en-dk"].time_format="HH.mm.ss";ngc_Lang["en-dk"].time_shortformat="HH.mm.ss";ngc_Lang["en-dk"].time_format_parse="H.m.s";ngc_Lang["en-dk"].datetime_format="dd/MM/yyyy HH.mm.ss";ngc_Lang["en-dk"].datetime_shortformat="dd/MM/yyyy HH.mm.ss";ngc_Lang["en-dk"].datetime_format_parse=["H.m.s H","H.m.s .","H.m.s m","H.m.s s"];"undefined"===typeof ngc_Lang["en-fi"]&&(ngc_Lang["en-fi"]={});
ngc_Lang["en-fi"].decimal_separator=",";ngc_Lang["en-fi"].thousands_separator="\u00a0";ngc_Lang["en-fi"].date_format="dd/MM/yyyy";ngc_Lang["en-fi"].date_shortformat="dd/MM/yy";ngc_Lang["en-fi"].date_format_parse="d/M/y";ngc_Lang["en-fi"].time_format="H.mm.ss";ngc_Lang["en-fi"].time_shortformat="H.mm.ss";ngc_Lang["en-fi"].time_format_parse="H.m.s";ngc_Lang["en-fi"].datetime_format="dd/MM/yyyy H.mm.ss";ngc_Lang["en-fi"].datetime_shortformat="dd/MM/yyyy H.mm.ss";
ngc_Lang["en-fi"].datetime_format_parse=["H.m.s H","H.m.s .","H.m.s m","H.m.s s"];
(function(a){for(var b=a.length-1;0<=b;b--){var c=a[b];"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});ngc_Lang[c].date_format="d/M/yyyy";ngc_Lang[c].date_shortformat="d/M/yy";ngc_Lang[c].date_format_parse="d/M/y";ngc_Lang[c].datetime_format="d/M/yyyy h:mm:ss a";ngc_Lang[c].datetime_shortformat="d/M/yyyy h:mm a";ngc_Lang[c].datetime_format_parse=["d/M/y h:m:s a","d/M/y h:m a"]}})(["en-hk","en-zw","en-sg","en-my","en-jm"]);"undefined"===typeof ngc_Lang["en-il"]&&(ngc_Lang["en-il"]={});
ngc_Lang["en-il"].date_format="dd/MM/yyyy";ngc_Lang["en-il"].date_shortformat="dd/MM/yy";ngc_Lang["en-il"].date_format_parse="d/M/y";ngc_Lang["en-il"].time_format="H:mm:ss";ngc_Lang["en-il"].time_shortformat="H:mm";ngc_Lang["en-il"].time_format_parse=["H:m:s","H:m"];ngc_Lang["en-il"].datetime_format="dd/MM/yyyy H:mm:ss";ngc_Lang["en-il"].datetime_shortformat="dd/MM/yyyy H:mm";ngc_Lang["en-il"].datetime_format_parse=["d/M/y H:m:s","d/M/y H:m"];
"undefined"===typeof ngc_Lang["en-in"]&&(ngc_Lang["en-in"]={});ngc_Lang["en-in"].date_format="dd-MM-yyyy";ngc_Lang["en-in"].date_shortformat="dd-MM-yy";ngc_Lang["en-in"].date_format_parse="d-M-y";ngc_Lang["en-in"].time_format="HH:mm:ss";ngc_Lang["en-in"].time_shortformat="HH:mm";ngc_Lang["en-in"].time_format_parse=["H:m:s","H:m"];ngc_Lang["en-in"].datetime_format="dd-MM-yyyy HH:mm:ss";ngc_Lang["en-in"].datetime_shortformat="dd-MM-yyyy HH:mm";
ngc_Lang["en-in"].datetime_format_parse=["d-M-y H:m:s","d-M-y H:m"];"undefined"===typeof ngc_Lang["en-se"]&&(ngc_Lang["en-se"]={});ngc_Lang["en-se"].decimal_separator=",";ngc_Lang["en-se"].thousands_separator="\u00a0";ngc_Lang["en-se"].date_format="yyyy-MM-dd";ngc_Lang["en-se"].date_shortformat="yy-MM-dd";ngc_Lang["en-se"].date_format_parse="y-M-d";ngc_Lang["en-se"].time_format="HH:mm:ss";ngc_Lang["en-se"].time_shortformat="HH:mm";ngc_Lang["en-se"].time_format_parse=["H:m:s","H:m"];
ngc_Lang["en-se"].datetime_format="yyyy-MM-dd HH:mm:ss";ngc_Lang["en-se"].datetime_shortformat="yyyy-MM-dd HH:mm";ngc_Lang["en-se"].datetime_format_parse=["y-M-d H:m:s","y-M-d H:m"];"undefined"===typeof ngc_Lang["en-za"]&&(ngc_Lang["en-za"]={});ngc_Lang["en-za"].decimal_separator=",";ngc_Lang["en-za"].thousands_separator="\u00a0";ngc_Lang["en-za"].date_format="yyyy/MM/dd";ngc_Lang["en-za"].date_shortformat="yy/MM/dd";ngc_Lang["en-za"].date_format_parse="y/M/d";ngc_Lang["en-za"].datetime_format="yyyy/MM/dd h:mm:ss a";
ngc_Lang["en-za"].datetime_shortformat="yyyy/MM/dd h:mm a";ngc_Lang["en-za"].datetime_format_parse=["y/M/d h:m:s a","y/M/d h:m a"];"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.locale_language="English";ngc_Lang.en.locale_language_native="English";ngc_Lang.en.decimal_separator=".";ngc_Lang.en.thousands_separator=",";ngc_Lang.en.date_format="M/d/yyyy";ngc_Lang.en.date_shortformat="M/d/yy";ngc_Lang.en.date_format_parse="M/d/y";ngc_Lang.en.time_format="h:mm:ss a";ngc_Lang.en.time_shortformat="h:mm a";ngc_Lang.en.time_format_parse="h:m:s a;h:m a;h:m:sa;h:ma;H:m:s;H:m".split(";");
ngc_Lang.en.datetime_format="M/d/yyyy h:mm:ss a";ngc_Lang.en.datetime_shortformat="M/d/yyyy h:mm a";ngc_Lang.en.datetime_format_parse="M/d/y h:m:s a;M/d/y h:m a;M/d/y h:m:sa;M/d/y h:ma;M/d/y H:m:s;M/d/y H:m".split(";");ngc_Lang.en.calendar_months="January February March April May June July August September October November December".split(" ");ngc_Lang.en.calendar_months_short="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");ngc_Lang.en.calendar_days="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");
ngc_Lang.en.calendar_days_short="Sun Mon Tue Wed Thu Fri Sat".split(" ");"undefined"===typeof ngc_Lang["en-gb"]&&(ngc_Lang["en-gb"]={});ngc_Lang["en-gb"].date_format="dd/MM/yyyy";ngc_Lang["en-gb"].date_shortformat="dd/MM/yy";ngc_Lang["en-gb"].date_format_parse="d/M/y";ngc_Lang["en-gb"].time_format="HH:mm:ss";ngc_Lang["en-gb"].time_shortformat="HH:mm";ngc_Lang["en-gb"].time_format_parse="H:m:s;H:m;h:m:s a;h:m a;h:m:sa;h:ma".split(";");ngc_Lang["en-gb"].datetime_format="dd/MM/yyyy HH:mm:ss";
ngc_Lang["en-gb"].datetime_shortformat="dd/MM/yyyy HH:mm";ngc_Lang["en-gb"].datetime_format_parse="d/M/y H:m:s;d/M/y H:m;d/M/y h:m:s a;d/M/y h:m a;d/M/y h:m:sa;d/M/y h:ma".split(";");"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.locale_language="Slovak";ngc_Lang.sk.locale_language_native="sloven\u010dina";ngc_Lang.sk.decimal_separator=",";ngc_Lang.sk.thousands_separator="\u00a0";ngc_Lang.sk.date_format="d.M.yyyy";ngc_Lang.sk.date_shortformat="d.M.yy";ngc_Lang.sk.date_format_parse="d.M.y";ngc_Lang.sk.time_format="H:mm:ss";ngc_Lang.sk.time_shortformat="H:mm";ngc_Lang.sk.time_format_parse=["H:m:s","H:m"];
ngc_Lang.sk.datetime_format="d.M.yyyy H:mm:ss";ngc_Lang.sk.datetime_shortformat="d.M.yyyy H:mm";ngc_Lang.sk.datetime_format_parse=["d.M.y H:m:s","d.M.y H:m"];ngc_Lang.sk.calendar_months="janu\u00e1r febru\u00e1r marec apr\u00edl m\u00e1j j\u00fan j\u00fal august september okt\u00f3ber november december".split(" ");ngc_Lang.sk.calendar_months_short="jan feb mar apr m\u00e1j j\u00fan j\u00fal aug sep okt nov dec".split(" ");ngc_Lang.sk.calendar_days="nede\u013ea pondelok utorok streda \u0161tvrtok piatok sobota".split(" ");
ngc_Lang.sk.calendar_days_short="ne po ut st \u0161t pi so".split(" ");var ngHTTPProtocol="http://",ua=navigator.userAgent.toLowerCase(),ngOpera=-1!=ua.indexOf("opera"),ngOperaVersion=ngOpera?parseFloat(window.opera.version()):void 0,ngIExplorer=eval("/*@cc_on!@*/false"),ngIExplorerVersion=ngIExplorer?parseInt(ua.match(/msie (\d+)/)[1]):void 0;if(!ngIExplorer&&ua.match(/trident/)){var v=ua.match(/rv\:(\d+)/);v||(v=ua.match(/msie (\d+)/));v&&(ngIExplorer=!0,ngIExplorerVersion=parseInt(v[1]))}
var ngIExplorer6=ngIExplorer&&7>ngIExplorerVersion,ngEdge=-1!=ua.indexOf("edge"),ngEdgeVersion=ngEdge?parseInt(ua.match(/edge\/(.*)$/)[1]):void 0,ngFireFox=-1!=ua.indexOf("firefox"),ngFireFoxVersion=ngFireFox?parseInt(ua.match(/firefox\/(.*)$/)[1]):void 0,ngFireFox1x=ngFireFox&&-1!=ua.indexOf("firefox/1."),ngFireFox2x=ngFireFox&&-1!=ua.indexOf("firefox/2."),ngChrome=-1!=ua.indexOf("chrome"),ngSafari=-1!=ua.indexOf("safari"),ngAndroid=-1!=ua.indexOf("android"),ngiOS=ua.match(/(ipad|iphone|ipod)/g)?
!0:!1,ngWindowsPhone=-1!=ua.indexOf("windows phone"),ngFireFoxOS=ngFireFox&&-1!=ua.indexOf("mobile"),ngCordova="undefined"!==typeof window.cordova,ngWinStoreApp="undefined"!==typeof Windows,ngSupportsTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints?!0:!1,ngUsingTouch=ngSupportsTouch&&(ngAndroid||ngiOS||ngWindowsPhone||-1!=ua.indexOf("mobile")||-1!=ua.indexOf("tablet")),ngFirebug=!(!window.console||!window.console.firebug&&!window.console.exception),
ngDEBUG="undefined"===typeof ngDEBUG?0:ngDEBUG,ngASSERT,ngDEBUGLOG,ngDEBUGWARN,ngDEBUGERROR;
(function(){if(ngDEBUG&&"undefined"!==typeof console){var a=function(a,b){return"undefined"===typeof a.bind||"unknown"===typeof a.bind?"function"===typeof Function.prototype.bind?Function.prototype.bind.call(a,b):a:a.bind(b)},b=console;ngDEBUGLOG=a(b.log,b);ngDEBUGWARN=a(b.warn,b);ngDEBUGERROR=a(b.error,b);ngASSERT=b.assert?a(b.assert,b):function(a,b){a||ngDEBUGERROR("Assertion failed"+("undefined"===typeof b?"":": "+b))}}else a=function(){},ngDEBUG=0,ngDEBUGERROR=ngDEBUGWARN=ngDEBUGLOGEX=ngDEBUGLOG=
ngASSERT=a;"undefined"===typeof window.cl&&(window.cl=ngDEBUGLOG)})();function ngHASDEBUG(){return ngDEBUG}function ngHammerJS(){return"function"===typeof Hammer&&("undefined"===typeof ngHammerJSDisabled||!ngHammerJSDisabled)&&(!ngIExplorer||9<=ngIExplorerVersion)&&(!ngOpera||10.5<=ngOperaVersion)}function ngHammerJSVer(){if(ngHammerJS())return parseInt(Hammer.VERSION,10)}var ngPointerStartEvents;
function ngPtrStartEvents(){"undefined"===typeof ngPointerStartEvents&&(1===ngHammerJSVer()?(Hammer.READY||Hammer.event.determineEventTypes(),ngPointerStartEvents=Hammer.EVENT_TYPES[Hammer.EVENT_START].split(" ")):ngPointerStartEvents=["mousedown"]);return ngPointerStartEvents}function ngPtrHTMLStartEvents(a,b){var c=ngPtrStartEvents();if(ng_IsObjVar(a)){if(a&&a.append)for(var d=0;d<c.length;d++)a.append(" on"+c[d]+'="'+b+'"')}else for(d=0;d<c.length;d++)a+=" on"+c[d]+'="'+b+'"';return a}
var ngURLParams={},ngURLParamsParsed=!1,ngURLDefaultEscaping="undefined"!==typeof ngURLDefaultEscaping?ngURLDefaultEscaping:0,URL_ESCAPING_UTF8=0,URL_ESCAPING_UNICODE=1,ngURLSafeChars={45:1,46:1,95:1,126:1},ngHashSafeChars={33:1,36:1,95:1,39:1,40:1,41:1,42:1,44:1,45:1,46:1,38:1,47:1,58:1,59:1,126:1};function ScreenPt(a,b){this.x=a;this.y=b}function ngVal(a,b){return void 0===a?b:a}function ngNullVal(a,b){return void 0===a||null===a?b:a}
function ngLibPath(a,b){if(""==a)return ngVal(b,"");if(ng_IsFullURL(b))return b;b=ngVal(b,"");"/"===b.charAt(0)&&(b=b.substr(1));a=a.toLowerCase();var c=ng_IsObjVar(window.ngLib)?window.ngLib[a]:null,d,e="";ng_IsObjVar(c)?ng_IsFullURL(c.path)?(e=c.path,d=""):(d=ngVal(c.path,""),"/"===d.charAt(0)?"undefined"!==typeof c.URL&&(e=c.URL,d=d.substr(1)):e=ngVal(c.URL,ngLibsURL)):(e=ngLibsURL,d=a+"/");e&&0<e.length&&"/"!==e.charAt(e.length-1)&&(e+="/");return ng_URL(e+d+b)}
function ngLibVersion(a){if(""==a||"undefined"===typeof ngLib)return!1;a=a.toLowerCase();a=ngLib[a];return ng_IsObjVar(a)?ngVal(a.version,!1):!1}function ng_SetLibsURL(a){""!=a&&("/"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),ngEmptyURL.substring(0,ngLibsURL.length)==ngLibsURL&&(ngEmptyURL=ng_URL(a+ngEmptyURL.substring(ngLibsURL.length,ngEmptyURL.length))),ngLibsURL=a)}
function ng_DetectLibsURL(){"object"===typeof ngLib&&ngLib||(ngLib={});if("undefined"===typeof ngLib["controls.js"]&&"undefined"===typeof ngLib.ng_basic)for(var a=function(a){for(var d=-1,k,n=0;n<c.length;n++)if(k=c[n].src,""!=ngVal(k,""))switch(a){case 0:case 3:d=k.indexOf(0===a?"/ng_controls/":"/ng_basic/");if(0<=d)return"undefined"===typeof ngLibsURL&&(ngLibsURL=k.substring(0,d+1)),!0;break;case 4:case 5:d=k.indexOf(4===a?"basic.js":"empty.js");if(0<=d)return b("ng_basic",k.substr(0,d)),!0;break;
case 1:d=k.lastIndexOf("#");0<=d&&(k=k.substr(0,d));d=k.lastIndexOf("?");0<=d&&(k=k.substr(0,d));d=k.lastIndexOf("controls");if(0<=d){var r=k.indexOf(".js",d);if(0>r)break;if(0<=k.substr(d,r).indexOf("/"))break;k=k.substr(0,d);"/debug/"===k.substr(k.length-7,7)&&(k=k.substr(0,k.length-7));"/release/"===k.substr(k.length-9,9)&&(k=k.substr(0,k.length-9));b("controls.js",k.substr(0,d));return!0}break;case 2:if(d=k.indexOf("apploader="),0<=d)return"undefined"===typeof ngLibsURL&&(d=k.lastIndexOf("/",
d),0<d&&(ngLibsURL=k.substring(0,d+1)+"libs/")),!0}return!1},b=function(a,b){if("undefined"===typeof ngLib[a]){var c={};ng_IsFullURL(b)?(c.URL=b,c.path=""):(c.path=b,c.URL="");ngLib[a]=c}},c=document.getElementsByTagName("script"),d=0;6>d&&!a(d);d++);a=ngLib["controls.js"];"object"===typeof a&&a&&(d={path:a.path+(ngDEBUG?"debug":"release")+"/libs/ng_basic/"},"undefined"!==typeof a.URL&&(d.URL=a.URL),ngLib.ng_basic=d);"undefined"===typeof ngLibsURL&&(ngLibsURL="libs/")}
var ngPreloadedImages={},ngPreloadImgCnt=0,ngPreloadImgCallback=null;function ng_PreloadImage(a){var b=ngPreloadedImages[a];"undefined"===typeof b&&(b=new Image,b.onload=ng_PreloadImgDone,b.onfailure=ng_PreloadImgDone,b.onerror=ng_PreloadImgDone,ngPreloadImgCnt++,ngPreloadedImages[a]=b,b.src=ng_URL(a));return b}
function ng_PreloadImgDone(){ngPreloadImgCnt--;if(0>=ngPreloadImgCnt&&"function"===typeof ngPreloadImgCallback){ngPreloadImgCnt=0;var a=ngPreloadImgCallback;ngPreloadImgCallback=null;a()}}function ng_PreloadImagesBegin(){ngPreloadImgCnt++}function ng_PreloadImagesEnd(a){ngPreloadImgCallback=ngAddEvent(ngPreloadImgCallback,a);ng_PreloadImgDone()}function ng_ReloadImage(a){delete ngPreloadedImages[a];return ng_PreloadImage(a)}
function ng_AddURLParam(a,b){a=-1!=a.indexOf("?")?a+"&":a+"?";return a+b}function ng_StripURLParams(a){var b=a.indexOf("?");0<=b&&(a=a.substr(0,b));b=a.indexOf("#");0<=b&&(a=a.substr(0,b));return a}function ng_IsFullURL(a){if("string"!==typeof a||""==a)return!1;if("//"===a.substr(0,2))return!0;a=ng_StripURLParams(a);return 0<a.indexOf("://")}function ng_IsAbsPath(a){if("string"!==typeof a||""==a)return!1;var b=a.charAt(0);return"/"===b||"\\"===b||ng_IsFullURL(a)}
function ng_URLCWP(a){return"file://"!==a.substr(0,7)&&ng_IsFullURL(a)?a:ng_StripURLParams(a)}function ng_URLStd(a){return a}var ng_URL=ngCordova&&ngWindowsPhone?ng_URLCWP:ng_URLStd;
function ng_unescape(a,b){"undefined"===typeof b&&(b=/%u[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]/.test(a)?1:ngURLDefaultEscaping);switch(b){case 0:return ng_UTF8ParamDecode(a);case 1:a=""+a;for(var c=a.indexOf("+");0<=c;)a=a.substring(0,c)+"%20"+a.substring(c+1,a.length),c=a.indexOf("+");return unescape(a)}return a}
function ng_htmlEncode(a,b){var c=""+a;if(""==c)return c;c=c.replace(/&/g,"&amp;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");c=c.replace(/"/g,"&quot;");ngVal(b,!1)&&(c=c.replace(/\r\n|[\r\n]/g,"<br />"));return c}
function ng_htmlDecode(a,b,c){a=""+a;if(""==a)return a;a=a.replace(/\<\/div\>\</g,"</div>\n<");ngVal(b,!1)&&(a=a.replace(/\r\n|[\r\n]/g," "));a=a.replace(/\<br(|[/ \t].*?)\>/g,"\n");a=a.replace(/\<p.*?\>/g,"\n");a=a.replace(/\<\/p\>/g,"\n\n");a=a.replace(/\<.*?\>/g,"");c&&(a=a.replace(/[ \t]*([\r\n])/g,"$1"),a=a.replace(/[ \t]+/g," "));a=a.replace(/&amp;/g,"&");a=a.replace(/&lt;/g,"<");a=a.replace(/&gt;/g,">");a=a.replace(/&quot;/g,'"');return a=a.replace(/&nbsp;/g," ")}
function ng_sprintf(){if(arguments&&!(1>arguments.length)){var a=arguments[0],a=a.replace(/\n/g,"\\n"),a=a.replace(/\r/g,"\\r"),b=/([^%]*)%('.|0|\x20)?(-)?(\d+)?(\.\d+)?(%|b|c|d|u|f|o|s|x|X)(.*)/,c,d,e=0,g=0;for(d=[];c=b.exec(a);){var k=c[1],n=c[2],r=c[3],u=c[4],x=c[5],w=c[6];c=c[7];g++;if("%"==w)x="_",d[d.length]=k.length,a="";else{e++;if(e>=arguments.length){ngDEBUGERROR("Error! Not enough function arguments ("+(arguments.length-1)+', excluding the string) for the number of substitution parameters in string "'+
arguments[0]+'".');break}var y=arguments[e],a="";n&&"'"==n.substr(0,1)?a=n.substr(1,1):n&&(a=n);var A=!0;r&&"-"===r&&(A=!1);n=-1;u&&(n=parseInt(u));u=-1;x&&"f"==w&&(u=parseInt(x.substring(1)));x=y;switch(w){case "b":x=parseInt(y).toString(2);break;case "c":x=String.fromCharCode(parseInt(y));break;case "d":x=parseInt(y)?parseInt(y):0;break;case "u":x=Math.abs(y);break;case "o":x=parseInt(y).toString(8);break;case "s":x=(""+y).replace(/%/g,"%%");break;case "x":x=(""+parseInt(y).toString(16)).toLowerCase();
break;case "X":x=(""+parseInt(y).toString(16)).toUpperCase();break;case "f":if(y=parseFloat(y),isNaN(y)&&(y=0),-1<u){w=0>y?"-":"";for(x=Math.round(Math.abs(y)*Math.pow(10,u)).toString();x.length<=u;)x="0"+x;x=w+x.substr(0,x.length-u)+(0<u?"."+x.substr(x.length-u,u):"")}else x=y}w=n-x.toString().length;a=0<w?Array(w+1).join(a?a:" "):""}a=k+(A?a+x:x+a)+c}for(b=0;b<d.length;b++)a=a.substring(0,d[b])+"%"+a.substring(d[b]+1,a.length);a=a.replace(/\\n/g,"\n");return a=a.replace(/\\r/g,"\r")}}
function ng_URLEncode(a,b,c,d){var e="";a=""+a;switch(ngVal(d,ngURLDefaultEscaping)){case 0:e=ng_UTF8Encode(a,c);break;case 1:d=a.length;var g;"undefined"===typeof c&&(c=ngURLSafeChars);b=ngVal(b,!1);for(var k=0;k<d;k++)g=a.charCodeAt(k),65<=g&&90>=g||97<=g&&122>=g||48<=g&&57>=g||c[g]?e+=a.charAt(k):37==g?e+="%u0025":(b?(e+="%u",255>=g&&(e+="00")):(e+="%",255<g&&(e+="u")),g=g.toString(16),1==g.length%2&&(g="0"+g),e+=g);break;default:e=a}return e}
function ng_HashEncode(a,b,c){return ng_URLEncode(a,!0,ngVal(b,ngHashSafeChars),c)}var utf8_decToHexChar="0123456789ABCDEF".split(""),utf8_charCodeToDec={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,65:10,66:11,67:12,68:13,69:14,70:15,97:10,98:11,99:12,100:13,101:14,102:15};function utf8_decToStrHex(a){return utf8_decToHexChar[a>>4]+utf8_decToHexChar[a&15]}
function utf8_strHexToDec(a,b){if(37==a.charCodeAt(b)){var c=utf8_charCodeToDec[a.charCodeAt(++b)];if("undefined"!=typeof c){var d=utf8_charCodeToDec[a.charCodeAt(++b)];if("undefined"!==typeof d)return(c<<4)+d}}return 0}
function ng_UTF8Encode(a,b){var c=a.length,d=new String,e=new String,g=new Number,k=0;"undefined"===typeof b&&(b=ngURLSafeChars);for(i=0;i<c;i++)g=a.charCodeAt(i),65<=g&&90>=g||97<=g&&122>=g||48<=g&&57>=g||b[g]||(128>g?e="%"+utf8_decToStrHex(g):(2048>g?e="%"+utf8_decToStrHex(g>>6|192):(65536>g?e="%"+utf8_decToStrHex(g>>12|224):(e="%"+utf8_decToStrHex(g>>18|240),e+="%"+utf8_decToStrHex(g>>12&63|128)),e+="%"+utf8_decToStrHex(g>>6&63|128)),e+="%"+utf8_decToStrHex(g&63|128)),k<i&&(d+=a.substring(k,i)),
d+=e,k=i+1);return k?(k<c&&(d+=a.substring(k,c)),d):a}
function ng_UTF8Decode(a){for(var b=a.length,c=new String,d=0,e=0,g=0,k=0,n=0,r=0,u=0,x=0;u<b;)(g=utf8_strHexToDec(a,u))?(d=0,128>g?(e=3,d=g):192>g?e=3:224>g?(e=6,k=utf8_strHexToDec(a,u+3),127<k&&192>k&&(d=(g&31)<<6|k&63)):240>g?(e=9,k=utf8_strHexToDec(a,u+3),127<k&&192>k&&(n=utf8_strHexToDec(a,u+6),127<n&&192>n&&(d=(g&15)<<12|(k&63)<<6|n&63))):(e=12,k=utf8_strHexToDec(a,u+3),127<k&&192>k&&(n=utf8_strHexToDec(a,u+6),127<n&&192>n&&(r=utf8_strHexToDec(a,u+9),127<r&&192>r&&(d=(g&7)<<18|(k&63)<<12|(n&
63)<<6|r&63)))),d?(x<u&&(c+=a.substring(x,u)),c+=String.fromCharCode(d),x=u+=e):u+=e):u++;return x?(x<b&&(c+=a.substring(x,b)),c):a}function ng_UTF8ParamEncode(a){return ng_UTF8Encode(a)}function ng_UTF8ParamDecode(a){a=""+a;for(var b=a.indexOf("+");0<=b;)a=a.substring(0,b)+"%20"+a.substring(b+1,a.length),b=a.indexOf("+");return ng_UTF8Decode(a)}function ng_inDOM(a){if(ng_IsObjVar(a))for(;a;){if("BODY"==a.tagName)return!0;a=a.parentNode}return!1}
function ng_containsDOM(a,b){var c=!1;do{if(c=a==b)break;b=b.parentNode}while(null!=b);return c}function ng_WindowWidth(){var a=0;"number"==typeof window.innerWidth?a=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?a=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(a=document.body.clientWidth);a||(a=100);return a}
function ng_WindowHeight(){var a=0;"number"==typeof window.innerHeight?a=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight);a||(a=100);return a}
function ng_DocumentClientWidth(){var a=1E10;document.documentElement&&document.documentElement.clientWidth&&(a=document.documentElement.clientWidth);document.body&&document.body.clientWidth&&(a=Math.min(document.body.clientWidth,a));return 1E10===a||isNaN(a)?ng_WindowWidth():a}
function ng_DocumentClientHeight(){var a=1E10;document.documentElement&&document.documentElement.clientHeight&&(a=document.documentElement.clientHeight);document.body&&document.body.clientHeight&&(a=Math.min(document.body.clientHeight,a));return 1E10===a||isNaN(a)?ng_WindowHeight():a}function ng_SetInnerHTML_Std(a,b,c){if(c){if(""===b)return;b=a.innerHTML+b}a.innerHTML=b}
function ng_SetInnerHTML_WinStore(a,b,c){MSApp.execUnsafeLocalFunction(function(){if(c){if(""===b)return;b=a.innerHTML+b}a.innerHTML=b})}var ng_SetInnerHTML=ngWinStoreApp?ng_SetInnerHTML_WinStore:ng_SetInnerHTML_Std;function ng_AppendInnerHTML(a,b){ng_SetInnerHTML(a,b,!0)}function ng_DocumentDeselect(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}
function ng_DocumentScrollX(){var a=0;"number"===typeof window.pageYOffset?a=window.pageXOffset:document.body&&(document.body.scrollLeft||document.body.scrollTop)?a=document.body.scrollLeft:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(a=document.documentElement.scrollLeft);return a}
function ng_DocumentScrollY(){var a=0;"number"===typeof window.pageYOffset?a=window.pageYOffset:document.body&&(document.body.scrollLeft||document.body.scrollTop)?a=document.body.scrollTop:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(a=document.documentElement.scrollTop);return a}function ng_ScrollX(a){return a===document.body||a&&"HTML"===a.nodeName?ng_DocumentScrollX():a?a.scrollLeft:0}
function ng_ScrollY(a){return a===document.body||a&&"HTML"===a.nodeName?ng_DocumentScrollY():a?a.scrollTop:0}
function ng_ParentPosition(a,b,c){var d,e=0,g=0;"undefined"===typeof b&&(b=document.body);for(var k=document.documentElement;a&&a!=b&&a!=k;)d=a.offsetParent,e+=a.offsetLeft+a.clientLeft,g+=a.offsetTop+a.clientTop,d&&(d!=k&&d!=document.body?(e-=d.scrollLeft,g-=d.scrollTop):c&&(e-=ng_DocumentScrollX(),g-=ng_DocumentScrollY()),ngFireFox?(e+=ng_GetCurrentStylePx(d,"border-left-width"),g+=ng_GetCurrentStylePx(d,"border-top-width")):ngOpera&&(e-=ng_GetCurrentStylePx(d,"border-left-width"),g-=ng_GetCurrentStylePx(d,
"border-top-width"))),a=d;return{x:e,y:g}}function ng_nullAttr(a){return"number"===typeof a?!1:"string"===typeof a&&""==a||"object"===typeof a&&null==a?!0:!1}function ng_GetStylePx2(a){a=ngVal(a,"");if(""!=a)return 2<a.length&&"px"==a.substring(a.length-2)&&(a=ng_GetStylePx(a.substring(0,a.length-2))),a}function ng_GetStylePx(a){var b=typeof a;if("number"===b)return a;if(""==a||"undefined"===b)return 0;a=parseInt(a,10);return isNaN(a)?0:a}function ng_IE7RedrawFix(a){return a.offsetLeft}
function ng_GetCurrentStyle(a,b){var c;if(document.defaultView&&document.defaultView.getComputedStyle){var d=document.defaultView.getComputedStyle(a,"");d&&(c=d.getPropertyValue(b))}else a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]);return c}
function ng_BeginMeasureElement(a){if(a&&a!==document.body&&(!a.offsetHeight||!a.offsetWidth)){if("undefined"!==typeof a.measure_info)return a.measure_info;for(var b=[],c=a,d=ngIExplorer?"":"inherit";c&&c!=document&&"undefined"===typeof c.measure_info;)c&&c.style&&"none"===c.style.display&&(b.push(c),c.style.display=d),c=c.parentNode;ng_IE7RedrawFix(a);if(b.length)return a.measure_info=b}}
function ng_EndMeasureElement(a){if(a&&"undefined"!==typeof a.measure_info){var b=a.measure_info;a.measure_info=void 0;for(var c=b.length-1;0<=c;c--)(a=b[c])&&a.style&&(a.style.display="none")}}function ng_GetCurrentStylePx(a,b){return ng_GetStylePx(ng_GetCurrentStyle(a,b))}function ng_StyleWidth(a){return"undefined"!==typeof a.style.pixelWidth?ng_GetStylePx(a.style.pixelWidth):ng_GetStylePx(a.style.width)}
function ng_StyleHeight(a){return"undefined"!==typeof a.style.pixelHeight?ng_GetStylePx(a.style.pixelHeight):ng_GetStylePx(a.style.height)}function ng_SetStyleWidth(a,b){"undefined"!==typeof a.style.pixelWidth?a.style.pixelWidth=b:a.style.width=b+"px"}function ng_SetStyleHeight(a,b){"undefined"!==typeof a.style.pixelHeight?a.style.pixelHeight=b:a.style.height=b+"px"}
function ng_OuterWidth(a){ng_IE7RedrawFix(a);var b=ng_GetStylePx(a.offsetWidth);b||(ng_BeginMeasureElement(a),b=ng_GetStylePx(a.offsetWidth),ng_EndMeasureElement(a));return b+ng_GetCurrentStylePx(a,"margin-left")+ng_GetCurrentStylePx(a,"margin-right")}
function ng_OuterHeight(a){ng_IE7RedrawFix(a);var b=ng_GetStylePx(a.offsetHeight);b||(ng_BeginMeasureElement(a),b=ng_GetStylePx(a.offsetHeight),ng_EndMeasureElement(a));return b+ng_GetCurrentStylePx(a,"margin-top")+ng_GetCurrentStylePx(a,"margin-bottom")}
function ng_SetOuterWidth(a,b){b-=ng_GetCurrentStylePx(a,"margin-left")+ng_GetCurrentStylePx(a,"margin-right");b-=ng_GetCurrentStylePx(a,"border-left-width")+ng_GetCurrentStylePx(a,"border-right-width");b-=ng_GetCurrentStylePx(a,"padding-left")+ng_GetCurrentStylePx(a,"padding-right");ng_SetStyleWidth(a,b)}
function ng_SetOuterHeight(a,b){b-=ng_GetCurrentStylePx(a,"margin-top")+ng_GetCurrentStylePx(a,"margin-bottom");b-=ng_GetCurrentStylePx(a,"border-top-width")+ng_GetCurrentStylePx(a,"border-bottom-width");b-=ng_GetCurrentStylePx(a,"padding-top")+ng_GetCurrentStylePx(a,"padding-bottom");ng_SetStyleHeight(a,b)}
function ng_ClientWidth(a){if(!a)return 0;ng_IE7RedrawFix(a);var b=ng_GetStylePx(a.clientWidth);b||(ng_BeginMeasureElement(a),b=ng_GetStylePx(a.clientWidth),ng_EndMeasureElement(a),b||""==a.style.width||(b=ng_StyleWidth(a),b+=ng_GetCurrentStylePx(a,"padding-left")+ng_GetCurrentStylePx(a,"padding-right")));return b}function ng_ClientWidthEx(a){return a===document.body||a&&"HTML"===a.nodeName?ng_DocumentClientWidth():ng_ClientWidth(a)}
function ng_ClientHeight(a){if(!a)return 0;ng_IE7RedrawFix(a);var b=ng_GetStylePx(a.clientHeight);b||(ng_BeginMeasureElement(a),b=ng_GetStylePx(a.clientHeight),ng_EndMeasureElement(a),b||""==a.style.height||(b=ng_StyleHeight(a),b+=ng_GetCurrentStylePx(a,"padding-top")+ng_GetCurrentStylePx(a,"padding-bottom")));return b}function ng_ClientHeightEx(a){return a===document.body||a&&"HTML"===a.nodeName?ng_DocumentClientHeight():ng_ClientHeight(a)}
function ng_SetClientWidth(a,b){b-=ng_GetCurrentStylePx(a,"padding-left")+ng_GetCurrentStylePx(a,"padding-right");ng_SetStyleWidth(a,b)}function ng_SetClientHeight(a,b){b-=ng_GetCurrentStylePx(a,"padding-top")+ng_GetCurrentStylePx(a,"padding-bottom");ng_SetStyleHeight(a,b)}function ng_setLeftTopNotIE(a,b,c){a.style.left=b+"px";a.style.top=c+"px"}function ng_setLeftTopIE(a,b,c){a.style.pixelLeft=b;a.style.pixelTop=c}var ng_setLeftTop=ngIExplorer?ng_setLeftTopIE:ng_setLeftTopNotIE;
function ng_setBoundsNotIE(a,b,c,d,e){a.style.left=b+"px";a.style.top=c+"px";a.style.width=d+"px";a.style.height=e+"px"}function ng_setBoundsIE(a,b,c,d,e){a.style.pixelLeft=b;a.style.pixelTop=c;a.style.pixelWidth=d;a.style.pixelHeight=e}var ng_setBounds=ngIExplorer?ng_setBoundsIE:ng_setBoundsNotIE;
function ng_ProcessURLParams2(a,b){if(""!=a)for(var c,d=a.split(b),e=0;e<d.length;e++)c=d[e].split("="),"amp;"==c[0].substr(0,4)&&(c[0]=c[0].substr(4)),ngURLParams[ng_unescape(c[0])]=1<c.length?ng_unescape(c[1]):null}function ng_ProcessURLParams(a){ngURLParams={};a=ngVal(a,window.location.href);var b=a.indexOf("?"),c=a.indexOf("#"),d="",e="";0<=c&&(e=a.substr(c+1),a=a.substr(0,c));0<=b&&(d=a.substr(b+1));ng_ProcessURLParams2(d,"&");ng_ProcessURLParams2(e,"@");ngURLParamsParsed=!0}
function ng_GET(a){ngURLParamsParsed||ng_ProcessURLParams();return ngURLParams[a]}function ng_GetURLSafeCharsEncoded(){if("undefined"==typeof ngURLSafeCharsEncoded){ngURLSafeCharsEncoded={};for(var a in ngURLSafeChars)ngURLSafeCharsEncoded["%"+parseInt(a).toString(16)]=String.fromCharCode(a)}return ngURLSafeCharsEncoded}
function ng_Redirect(a,b){a=ng_URL(a);b=ngVal(b,!0);try{var c=parent;if(b&&c!=window){for(;c&&c.parent!=c;)c=c.parent;c.location.href=a}else document.location.href=a;return!0}catch(d){return!1}}function ng_InIFRAME(){return parent!=window}function ng_SetByRef(a,b,c){a&&b&&""!=b&&("undefined"===typeof a._byRef&&(a._byRef={}),a._byRef[b]=!0,2<arguments.length&&(a[b]=c))}function ng_SetByVal(a,b,c){a&&b&&""!=b&&(a._byRef&&delete a._byRef[b],2<arguments.length&&(a[b]=ng_CopyVar(c)))}
function ng_CopyVar(a){var b={cnt:0,src:[],dst:[]};a=ng_copyvar_int(a,b);0!=b.cnt&&b.src.length&&ng_copyvar_fixref(a,b);return a}function ng_type_date(a){return"[object Date]"===Object.prototype.toString.call(a)}
function ng_copyvar_int(a,b){if(a&&"object"===typeof a){if(ng_type_date(a))return new Date(a);var c;if(ng_IsArrayVar(a)){c=[];for(var d in a)c[d]=ng_copyvar_int(a[d],b);return c}c={};b.src[b.src.length]=a;b.dst[b.dst.length]=c;var e=a._byRef;if(e)for(d in a)e[d]?(c[d]=a[d],b.cnt++):c[d]=ng_copyvar_int(a[d],b);else for(d in a)c[d]=ng_copyvar_int(a[d],b);"function"===typeof c.__clone&&c.__clone(a);return c}return a}
function ng_copyvar_fixref(a,b){if(a&&"object"===typeof a&&!ng_type_date(a)){if("number"===typeof a.length){var c,d=!0,e;for(e in a)if(a.hasOwnProperty(e)){c="number"!==typeof e?parseInt(e):e;if(isNaN(c)||0>c||c>=a.length){d=!1;break}ng_copyvar_fixref(a[e],b)}if(d)return}if(c=a._byRef)for(e in a){if(c[e]){for(d=0;d<b.src.length;d++)if(a[e]==b.src[d]){a[e]=b.dst[d];break}b.cnt--}else ng_copyvar_fixref(a[e],b);if(!b.cnt)break}else for(e in a)if(ng_copyvar_fixref(a[e],b),!b.cnt)break}}var merge_undefined;
function ng_MergeVar(a,b,c,d){if(a&&"object"===typeof a&&!ng_type_date(a)&&"object"===typeof b&&!ng_type_date(b)&&(ngVal(c,!1)||(b=ng_CleanUndefined(ng_CopyVar(b))),"function"!==typeof d||ngVal(d(a,b),!0))&&("function"!==typeof a.__merge||ngVal(a.__merge(b),!0))){c=a._byRef;var e={},g;for(g in a)e[g]=!0;if(b&&(c||b._byRef)){var k=b._byRef;for(g in b)!0!==e[g]?a[g]=k&&k[g]||c&&c[g]?b[g]:ng_CopyVar(b[g]):k&&k[g]||c&&c[g]||ng_IsArrayVar(a[g])||ng_MergeVar(a[g],b[g],!0,d)}else for(g in b)!0!==e[g]?a[g]=
ng_CopyVar(b[g]):ng_IsArrayVar(a[g])||ng_MergeVar(a[g],b[g],!0,d)}}
function ng_MergeVarReplace(a,b,c,d){if(a&&"object"===typeof a&&!ng_type_date(a)&&"object"===typeof b&&!ng_type_date(b)){if("function"!==typeof d||ngVal(d(a,b),!0))if("function"!==typeof a.__mergereplace||ngVal(a.__mergereplace(b),!0)){var e=a._byRef,g=b?b._byRef:null,k;for(k in b)if(g&&g[k]||!b[k]||"object"!==typeof b[k]||ng_type_date(b[k])||ng_IsArrayVar(b[k]))g&&g[k]?ng_SetByRef(a,k,b[k]):(e&&delete e[k],a[k]=ng_CopyVar(b[k]));else{if(!a[k]||"object"!==typeof a[k]||e&&e[k])e&&delete e[k],a[k]=
{};ng_MergeVarReplace(a[k],b[k],!0,d)}}ngVal(c,!1)||ng_CleanUndefined(a)}}function ng_CleanUndefined(a){if(!a||"object"!==typeof a||ng_type_date(a))return a;var b=a._byRef,c=[],d;for(d in a)"undefined"===typeof a[d]?c.push(d):b&&b[d]||ng_IsArrayVar(a[d])||ng_CleanUndefined(a[d]);for(d=c.length-1;0<=d;d--)delete a[c[d]];return a}
function ng_VarEquals(a,b,c){if(a===b)return!0;if(typeof a!==typeof b)return a==b;if("object"!==typeof a)return!1;var d=ng_type_date(a),e=ng_type_date(b);if(d||e)return d==e&&a.getTime()==b.getTime();if(a||b){if(!a||!b||c)return!1;if("function"===typeof a.__equals)return ngVal(a.__equals(b),!1);if("function"===typeof b.__equals)return ngVal(b.__equals(a),!1);c={};for(var g in a)c[g]=!0;for(g in b)c[g]=!0;delete c._byRef;d=a._byRef;e=b._byRef;for(g in c)if(!ng_VarEquals(a[g],b[g],d&&d[g]||e&&e[g]))return!1}return!0}
Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});function ng_IsObjVar(a){return"object"===typeof a&&a}window.ng_IsArrayVar=Array.isArray;function ng_EmptyVar(a){switch(typeof a){case "undefined":return!0;case "string":return""==a;case "integer":return 0==a;case "object":if(!a)return!0;if(0<a.length)break;for(var b in a)return!1;return!0;case "boolean":return!a}return!1}
function ngAddEvent(a,b){return"function"==typeof b?"function"==typeof a?function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);return typeof c===typeof d&&c==d?c:void 0}:b:a}
function ngObjAddEvent(a,b,c){var d=!1;"string"===typeof b&&(d=b,b=a,a=d,d=!0);if(ng_IsArrayVar(b))if(d)for(var e=b.length-1;0<=e;e--)ngObjAddEvent.apply(this,[b[e],a,c]);else for(e=0;e<b.length;e++)ngObjAddEvent.apply(this,[a,b[e],c]);else if("function"===typeof b)if("function"===typeof this[a]){var g=this[a].events;if("undefined"===typeof g){e=this[a];if(c&&b===e)return;var g=[],k=this,n=function(){var b,c,d=n.inprocess;n.inprocess=!0;try{for(var e=0;e<g.length;e++)g[e]&&(b=g[e].apply(k,arguments),
e?b!==c&&(c=void 0):c=b)}finally{if(n.changed){delete n.changed;for(e=g.length-1;0<=e;e--)g[e]||g.splice(e,1);g.length?1==g.length&&(k[a]&&(k[a]=g[0]),delete n.events):(k[a]&&(k[a]=null),delete n.events)}n.inprocess=d}return c};n.events=g;this[a]=n;g.push(e)}if(c)for(e=0;e<g.length;e++)if(g[e]===b)return;d?g.splice(0,0,b):g.push(b)}else this[a]=b;else null===b&&"undefined"===typeof this[a]&&(this[a]=null)}
function ngObjRemoveEvent(a,b){if("string"===typeof b){var c=b;b=a;a=c}if(ng_IsArrayVar(b))for(c=0;c<b.length;c++)ngObjRemoveEvent.apply(this,[a,b[c]]);else if("function"==typeof b){var d=this[a];if(d)if(d===b)this[a]=null;else{var e=d.events;if("undefined"!==typeof e){for(var g=d.inprocess,c=e.length-1;0<=c;c--)e[c]===b&&(g?(d.changed=!0,e[c]=null):e.splice(c,1));g||(e.length?1==e.length&&(this[a]=e[0],delete d.events):(this[a]=null,delete d.events))}}}}
function ng_OverrideMethod(a,b,c){if(ng_IsArrayVar(c))for(var d=0;d<c.length;d++)ng_OverrideMethod(a,b,c[d]);else if(d=a[b],"function"===typeof d&&"function"===typeof c){var e=d.overrides,g=0;if("undefined"===typeof e)e=[c,d],c=function(){var b,c=g;g=0;try{b=e[0].apply(a,arguments)}finally{g=c}return b},c.hasParent=function(){return g+1<e.length},c.callParent=function(){var b;try{b=e[++g].apply(a,arguments)}finally{g--}return b},c.removeOverride=function(a){for(var b=e.length-2;0<=b;b--)if(e[b]===
a){if(0<g&&g>=b)throw Error("Cannot remove override of function in the middle of its invocation.");e.splice(b,1)}},c.overrides=e,a[b]=c;else{if(0<g)throw Error("Cannot override function in the middle of its invocation.");e.splice(0,0,c)}}else a[b]=c}
function ng_OverrideFunction(a,b,c){if("function"!==typeof a||"function"!==typeof b)return"function"===typeof b&&c?b.bind(c):b;c||(c=this);var d=function(){return a.apply(c,arguments)},e=function(){e.callParent=d;return b.apply(c,arguments)};return e}function ng_IsOverriden(a){return"function"===typeof a&&"function"===typeof a.callParent&&("object"!==typeof a.overrides||1<a.overrides.length)}function ng_CallParent(a,b,c,d){b=a[b];return ng_IsOverriden(b)&&b.hasParent()?b.callParent.apply(a,c):d}
function ng_CallParentEx(a,b,c){b=a[b];return ng_IsOverriden(b)&&b.hasParent()?{ReturnValue:b.callParent.apply(a,c)}:null}function ngSetCookie(a,b,c,d,e,g,k){k=ngVal(k,!0);a=a+"="+(k?ng_URLEncode(b):b);"undefined"!==typeof c&&(a+="; expires="+c.toGMTString());d&&(a+="; path="+escape(d));e&&(a+="; domain="+escape(e));g&&(a+="; secure");document.cookie=a}function ngCookieExpires(a){var b=new Date;b.setTime(b.getTime()+1E3*a);return b}
function ngDeleteCookie(a,b,c,d){ngSetCookie(a,"",ngCookieExpires(-1),b,c,d)}function ngGetCookie(a){return(a=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)"))?ng_unescape(a[2]):void 0}
function ngSetCookieByURL(a,b,c,d,e){var g=!1,k,n;d=ng_StripURLParams(d);var r=d.indexOf("//");0<=r?("https:"==d.substring(0,r)&&(g=!0),d=d.substring(r+2,d.length),r=d.indexOf("/"),0<=r?(k=d.substring(0,r),n=d=d.substring(r,d.length)):k=d,"string"===typeof k&&(r=k.indexOf("."),0<=r&&k.substring(r+1,k.length))):n=d;ngSetCookie(a,b,c,n,void 0,g,e)}
var rpcNone=0,rpcAuto=1,rpcScript=2,rpcIFrame=3,rpcHttpRequest=4,rpcHttpRequestPOST=5,rpcHttpRequestGET=6,rpcJSON=7,rpcJSONPOST=8,rpcJSONGET=9,rpcData=10,rpcDataPOST=11,rpcDataGET=12,rpcUser=99,rpcMaxGetLength=2E3,ngOnRPCCreated=null,ngOnAnyRPCRequest=null,ngRPCLastID=0,ngRPCByID={};function getRPCByID(a){a=""+ngVal(a,"");return""!=a&&ngRPCByID?ngVal(ngRPCByID[a],null):null}var rpcHeadElement=null;
function ngrpc_sendScriptRequest(a){if(this.OnSendRequest&&!ngVal(this.OnSendRequest(this,a,null),!1))return!0;if(!rpcHeadElement&&(rpcHeadElement=document.getElementsByTagName("head").item(0),!rpcHeadElement))return!1;var b=this.id+"S",c=document.getElementById(b);c&&rpcHeadElement.removeChild(c);c=document.createElement("script");c.setAttribute("src",ng_URL(a));c.setAttribute("id",b);rpcHeadElement.appendChild(c);this.OnRequestSent&&this.OnRequestSent(this,a,null);return!0}
function ngrpc_sendIFrameRequest(a,b){var c=this.id+"F",d=document.getElementById(c);d||(d=document.createElement("iframe"),d.id=c,d.style.visibility="hidden",document.body.appendChild(d),ng_IE7RedrawFix(document.body));c=d.contentDocument?d.contentDocument:d.contentWindow.document;if(!c)return!1;try{c.open();c.write('<html><body><form action="'+ng_URL(a)+'" method="'+(ng_EmptyVar(this.HTTPMethod)?"POST":this.HTTPMethod)+'" id="'+this.id+'">');var e;if(ng_IsObjVar(b)){0==ngURLDefaultEscaping&&(ngURLDefaultEscaping=
-1);try{for(var g in b)e=this.EncodeParam(g,b[g]),"undefined"!==typeof e&&c.write('<input type="hidden" name="'+ng_htmlEncode(g)+'" value="'+ng_htmlEncode(e)+'" />')}finally{-1==ngURLDefaultEscaping&&(ngURLDefaultEscaping=0)}}if(this.OnIFrameRequest&&!ngVal(this.OnIFrameRequest(this,c,a),!1))return!1;c.write("</form></body></html>");c.close()}catch(k){return ngDEBUGERROR("ngRPC: Failed to create IFRAME form!",k),!1}return this.OnSendRequest&&!ngVal(this.OnSendRequest(this,a,c),!1)?!0:(e=c.getElementById(this.id))?
(e.submit(),this.OnRequestSent&&this.OnRequestSent(this,a,c),!0):!1}
function ngrpc_sendHttpRequest(a,b,c){c.URL=a;if(this.OnSendRequest&&!ngVal(this.OnSendRequest(this,c.URL,c),!1))return!0;c.PostParams=ngVal(c.PostParams,null);c.ReqHeaders=ngVal(c.ReqHeaders,null);c.Method=ngVal(c.Method,ng_EmptyVar(this.HTTPMethod)?"string"===typeof c.PostParams?"POST":"GET":this.HttpMethod);var d=null;try{if(window.XMLHttpRequest)d=new XMLHttpRequest;else try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(k){d=new ActiveXObject("Microsoft.XMLHTTP")}!d&&window.createRequest&&(d=window.createRequest())}catch(k){return ngDEBUGERROR("ngRPC: Failed to create XMLHttpRequest!",
k),!1}if(!d)return!1;c.XMLHttp=d;if(b){var e=this;d.onreadystatechange=function(){(!e.OnHTTPReadyStateChanged||ngVal(e.OnHTTPReadyStateChanged(e,d,c),!1))&&4==d.readyState&&(200==d.status||304==d.status||0==d.status?b(e,d.responseText,d,c):e.OnHTTPRequestFailed&&e.OnHTTPRequestFailed(e,d,c))}}"string"===typeof c.PostParams&&(c.ReqHeaders||(c.ReqHeaders={}),"undefined"===typeof c.ReqHeaders["Content-type"]&&(c.ReqHeaders["Content-type"]="application/x-www-form-URLencoded"),"undefined"===typeof c.ReqHeaders["Content-length"]&&
(c.ReqHeaders["Content-length"]=c.PostParams.length),"undefined"===typeof c.ReqHeaders.Connection&&(c.ReqHeaders.Connection="close"));if(this.OnHTTPRequest&&!ngVal(this.OnHTTPRequest(this,c),!1))return!1;d.open(c.Method,ng_URL(c.URL),b?!0:!1);if(c.ReqHeaders)for(var g in c.ReqHeaders)d.setRequestHeader(g,c.ReqHeaders[g]);d.send(c.PostParams);this.OnRequestSent&&this.OnRequestSent(this,c.URL,c);return b?!0:d.responseText}
function ngrpc_EncodeParam(a,b){if("undefined"===typeof b)return b;this.OnEncodeParam?b=this.OnEncodeParam(this,a,b):("object"===typeof b&&b&&("function"===typeof b.GetText?b=b.GetText():"function"===typeof b.toString&&(b=b.toString())),b=ng_URLEncode(b));return b}function ngrpc_GetURLParams(){var a,b="",c;for(c in this.Params)a=this.EncodeParam(c,this.Params[c]),"undefined"!==typeof a&&(""!=b&&(b+="&"),b+=c+"="+a);return b}
function ngrpc_domain(a){a=ng_StripURLParams(a);var b=a.indexOf("//");if(0>b)return window.location.hostname;a=a.substring(b+2,a.length);b=a.indexOf("/");0<=b&&(a=a.substring(0,b));b=a.indexOf(":");0<=b&&(a=a.substring(0,b));return a}
function ngrpc_sendRequest(a,b){if(this.Type==rpcNone)return!1;a=ngVal(a,this.URL);b=ngVal(b,this.nocache);if(this.OnRequest||ngOnAnyRPCRequest){var c={URL:a,nocache:b};if(this.OnRequest&&!ngVal(this.OnRequest(this,c),!1)||ngOnAnyRPCRequest&&!ngVal(ngOnAnyRPCRequest(this,c),!1))return!1;a=c.URL;b=c.nocache}b&&(a=ng_AddURLParam(a,"_t="+(new Date).getTime()));var c="",d=this.Type;switch(this.Type){case rpcAuto:case rpcScript:case rpcHttpRequest:case rpcHttpRequestPOST:case rpcHttpRequestGET:case rpcJSON:case rpcJSONPOST:case rpcJSONGET:case rpcData:case rpcDataPOST:case rpcDataGET:if(c=
this.GetURLParams(),d===rpcAuto||d===rpcHttpRequest||d===rpcJSON||d===rpcData)if(d!==rpcAuto||ngCordova||ngrpc_domain(a)==window.location.hostname){var d=rpcHttpRequest,e=a.indexOf("?");0<=e&&(c=ng_AddURLParam(a.substr(e,a.length),c),c.length&&"?"===c.charAt(0)&&(c=c.substr(1,c.length)),a=a.substr(0,e));if(c.length>rpcMaxGetLength)switch(this.Type){case rpcAuto:case rpcHttpRequest:d=rpcHttpRequestPOST;break;case rpcJSON:d=rpcJSONPOST;break;case rpcData:d=rpcDataPOST}else switch(this.Type){case rpcAuto:case rpcHttpRequest:d=
rpcHttpRequestGET;break;case rpcJSON:d=rpcJSONGET;break;case rpcData:d=rpcDataGET}}else d=rpcScript}switch(d){case rpcScript:return""!=c&&(a=ng_AddURLParam(a,c)),this.sendScriptRequest(a);case rpcIFrame:return this.sendIFrameRequest(a,this.Params);case rpcHttpRequestPOST:case rpcHttpRequestGET:case rpcJSONPOST:case rpcJSONGET:case rpcDataPOST:case rpcDataGET:return e={ReqHeaders:{RPC:1}},d===rpcHttpRequestGET||d===rpcJSONGET||d===rpcDataGET?""!=c&&(a=ng_AddURLParam(a,c)):e.PostParams=c,this.sendHttpRequest(a,
function(a,b,c,e){if(!a.OnReceivedData||ngVal(a.OnReceivedData(a,b,c,e),!1))switch(d){case rpcHttpRequestGET:case rpcHttpRequestPOST:ngWinStoreApp?MSApp.execUnsafeLocalFunction(function(){window.eval.call(window,"(function() {"+b+"})();")}):(new Function(b))();break;case rpcJSONGET:case rpcJSONPOST:try{var u=JSON.parse(b)}catch(x){ngDEBUGERROR("ngRPC: JSON parsing failed!",x);a.OnHTTPRequestFailed&&a.OnHTTPRequestFailed(a,c);break}a.OnReceivedJSON&&a.OnReceivedJSON(a,u,c)}},e);case rpcUser:if(!this.OnSendRequest)break;
if(!ngVal(this.OnSendRequest(this,a),!1))break;this.OnRequestSent&&this.OnRequestSent(this,a,null);return!0}return!1}function ngrpc_clearParams(){this.Params={}}function ngrpc_SetParam(a,b){"undefined"!==typeof a&&""!=a&&(this.Params[a]=b)}function ngrpc_GetParam(a){return this.Params[a]}
function ngRPC(a,b,c){""==ngVal(a,"")&&(ngRPCLastID++,a="ngRPC"+ngRPCLastID);this.id=a+"_RPC";ngRPCByID[a]=this;this.sendScriptRequest=ngrpc_sendScriptRequest;this.sendIFrameRequest=ngrpc_sendIFrameRequest;this.sendHttpRequest=ngrpc_sendHttpRequest;this.GetURLParams=ngrpc_GetURLParams;this.EncodeParam=ngrpc_EncodeParam;this.nocache=ngVal(c,!1);this.Type=rpcAuto;this.HTTPMethod="";this.URL=ngVal(b,"");this.Params={};this.SetParam=ngrpc_SetParam;this.GetParam=ngrpc_GetParam;this.sendRequest=ngrpc_sendRequest;
this.clearParams=ngrpc_clearParams;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.OnReceivedData=this.OnReceivedJSON=this.OnHTTPRequestFailed=this.OnHTTPReadyStateChanged=this.OnHTTPRequest=this.OnIFrameRequest=this.OnRequestSent=this.OnSendRequest=this.OnRequest=this.OnEncodeParam=null;ngOnRPCCreated&&ngOnRPCCreated(this)}
function ngRDS(a,b,c,d){this.__rpc=ngRPC;this.__rpc(a,b,d);delete this.__rpc;this.Type=rpcJSON;"function"===typeof c&&(this.OnReceivedJSON=function(a,b,d){c(a,b,d)},this.OnReceivedData=function(a,b,d){if(a.Type===rpcJSON||a.Type===rpcJSONGET||a.Type===rpcJSONPOST)return!0;c(a,b,d)})}
function ngStringBuilder(a){this.strings=[""];this.append=function(a){if(a)if("string"===typeof a)this.strings.push(a);else if(a.strings)for(var c=0;c<a.strings.length;c++)this.strings.push(a.strings[c]);else for(c=0;c<a.length;c++)this.strings.push(a[c]);return this};this.clear=function(){this.strings.length=1};this.empty=function(){return 1>=this.strings.length};this.toString=function(){return this.strings.join("")};this.append(a)}
(function(){var a=document.location.href,b=a.indexOf("://");0<=b&&(ngHTTPProtocol=a.substring(0,b+3),"file://"==ngHTTPProtocol&&(ngHTTPProtocol="http://"))})();ng_DetectLibsURL();ngEmptyURL=ngLibPath("ng_basic","empty.gif?nop");var ngTypesLang="en";function ngTypesTxt(a,b){if("object"===typeof ngApp&&ngApp&&"function"===typeof ngApp.Text)return ngApp.Text(a,b);"undefined"===typeof ngc_Lang&&(ngc_Lang={});var c=ngc_Lang[ngTypesLang];"undefined"===typeof c&&(c=ngc_Lang.en);return"undefined"===typeof c?ngVal(b,a):ngVal(c[a],ngVal(b,a))}
var SBYTE_MIN=-127,SBYTE_MAX=127,BYTE_MIN=0,BYTE_MAX=255,SHORT_MIN=-32767,SHORT_MAX=32767,USHORT_MIN=0,USHORT_MAX=65535,LONG_MIN=-2147483647,LONG_MAX=2147483647,ULONG_MIN=0,ULONG_MAX=4294967295,ng_SIUnits=ng_SIUnits||[{name:"yotta",prefix:"Y",ex:Math.pow(10,24),binex:Math.pow(1024,8),notcommon:!0},{name:"zetta",prefix:"Z",ex:Math.pow(10,21),binex:Math.pow(1024,7),notcommon:!0},{name:"exa",prefix:"E",ex:1E18,binex:0x1000000000000000,notcommon:!0},{name:"peta",prefix:"P",ex:1E15,binex:0x4000000000000},
{name:"tera",prefix:"T",ex:1E12,binex:1099511627776},{name:"giga",prefix:"G",ex:1E9,binex:1073741824},{name:"mega",prefix:"M",ex:1E6,binex:1048576},{name:"kilo",prefix:"k",ex:1E3,binex:1024},{name:"hekto",prefix:"h",ex:100,binex:0,notcommon:!0},{name:"deka",prefix:"da",ex:10,binex:0,notcommon:!0},{name:"",prefix:"",ex:1,binex:1},{name:"deci",prefix:"d",ex:.1,binex:0,notcommon:!0},{name:"centi",prefix:"c",ex:.01,binex:0},{name:"mili",prefix:"m",ex:.001,binex:0},{name:"mikro",prefix:"\u00b5",ex:1E-6,
binex:0},{name:"nano",prefix:"n",ex:1E-9,binex:0},{name:"piko",prefix:"p",ex:1E-12,binex:0},{name:"femto",prefix:"f",ex:1E-15,binex:0},{name:"atto",prefix:"a",ex:1E-18,binex:0,notcommon:!0},{name:"zepto",prefix:"z",ex:1E-21,binex:0,notcommon:!0},{name:"yokto",prefix:"y",ex:1E-24,binex:0,notcommon:!0}];
function ng_GetDecimalSeparator(){var a;return function(){var b=ngTypesTxt("decimal_separator","");if(""!=b)return b;"undefined"===typeof a&&(a="function"===typeof(1.1).toLocaleString?(1.1).toLocaleString().substring(1,2):".");return a}}var ng_DecimalSeparator=ng_DecimalSeparator||ng_GetDecimalSeparator();
function ng_decodeSIUnits(a){a=""+a;if(1<a.length)switch(a.charAt(a.length-1)){case "2":case "\u00b2":return{units:a.substring(0,a.length-1),exp:2};case "3":case "\u00b3":return{units:a.substring(0,a.length-1),exp:3}}return{units:a,exp:1}}function ng_CompareSIUnits(a,b){a=ng_decodeSIUnits(a);b=ng_decodeSIUnits(b);return a.units==b.units&&a.exp==b.exp}
function ng_StripSIUnits(a,b){var c=ng_StripSuffix(a,b);if(c!=a)return c;c=ng_StripSuffix(a,b+"2");if(c!=a)return c;c=ng_StripSuffix(a,b+"3");if(c!=a)return c;c=ng_StripSuffix(a,b+"\u00b2");if(c!=a)return c;c=ng_StripSuffix(a,b+"\u00b3");return c!=a?c:a}
function ng_getSIUnits(a,b,c){if(""!=ngVal(b,"")){var d,e=-1;a=""+a;for(var g=0;g<ng_SIUnits.length;g++)if(""==ng_SIUnits[g].prefix)e=g;else if(d=ng_SIUnits[g].prefix+b,ng_CompareSIUnits(a.substr(-d.length,d.length),d))return ng_SIUnits[g];if(0<=e&&(d=ng_SIUnits[e].prefix+b,ng_CompareSIUnits(a.substr(-d.length,d.length),d)))return ng_SIUnits[e]}return ngVal(c,null)}
function ng_parseHMS(a,b,c){a=ng_toString(a);b=ngVal(b,":");a=a.split(b);if(3<a.length)return ngVal(c,null);for(b=0;b<a.length;b++){if(b==a.length-1){if(!ng_isNumber(a[b]))return ngVal(c,null);p=ng_toFloat(a[b])}else{if(!ng_isInteger(a[b]))return ngVal(c,null);p=ng_toInteger(a[b])}if((0>p||60<=p)&&0<b)return ngVal(c,null);a[b]=p}return a}function ng_typeString(a){return"string"===typeof a||"[object String]"===Object.prototype.toString.call(a)}function ng_typeNumber(a){return"number"===typeof a}
function ng_typeNumberInt(a){return"number"===typeof a&&!isNaN(a)&&0===a%1}function ng_typeNumberFloat(a){return"number"===typeof a&&!isNaN(a)&&0!==a%1}function ng_typeDate(a){return"[object Date]"===Object.prototype.toString.call(a)}function ng_typeObject(a){return"object"===typeof a&&null!==a}function ng_typeArray(a){return ng_IsArrayVar(a)}function ng_isEmpty(a){return"undefined"===typeof a}function ng_isNull(a){return null===a}function ng_isEmptyOrNull(a){return ng_isEmpty(a)||ng_isNull(a)}
function ng_isEmptyObject(a){if(ng_isEmptyOrNull(a))return!0;if("object"!==typeof a)return!1;var b,c;for(c in a)if(b=a[c],!(ng_isEmptyOrNull(b)||"object"===typeof b&&ng_isEmptyObject(b)))return!1;return!0}function ng_isInvalid(a){return null===a||"undefined"===typeof a||"number"===typeof a&&isNaN(a)||ng_typeDate(a)&&isNaN(a.getTime())}function ng_isNumber(a){a=ng_toNumber(a);return!isNaN(a)}function ng_isInteger(a){a=ng_toNumber(a);return isNaN(a)?!1:ng_typeNumberInt(a)}
function ng_isFloat(a){a=ng_toNumber(a);return isNaN(a)?!1:ng_typeNumberFloat(a)}function ng_isSByte(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toSByte(a))}function ng_isByte(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toByte(a))}function ng_isShort(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toShort(a))}function ng_isUShort(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toUShort(a))}
function ng_isLong(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toLong(a))}function ng_isULong(a){var b=ng_toNumber(a);return!isNaN(b)&&ng_typeNumberInt(b)&&!isNaN(ng_toULong(a))}function ng_isDate(a,b){return null!==ng_toDate(a,null,b)}function ng_isNVARCHAR(a,b){a=ng_toNVARCHAR(a,void 0,null);return null===a||!ng_isEmpty(b)&&(b=ngVal(b,0),a.length>b)?!1:!0}function ng_isDECIMAL(a,b,c){return null!==ng_toDECIMAL(a,b,c,null)}
function ng_isDateISO8601(a){return null!==ng_parseDateISO8601(a,null)}function ng_isSIUnits(a,b,c){return null!==ng_parseSIUnits(a,b,null,c)}function ng_isDistance(a){return null!==ng_parseDistance(a,null)}function ng_isArea(a){return null!==ng_parseArea(a,null)}function ng_isSeconds(a){return null!==ng_parseSeconds(a,null)}function ng_isMinutes(a){return null!==ng_parseMinutes(a,null)}function ng_isHex(a){return/^([0-9]|A|B|C|D|E|F)+$/i.test(""+a)}
function ng_isDigits(a){return/^[0-9]+$/.test(""+a)}function ng_isEmail(a){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test((""+a).toLowerCase())}function ng_isURL(a){return 0<=(""+a).toLowerCase().indexOf("://")}
function ng_isWWW(a){if(ng_isURL(a))return!0;a=(""+a).toLowerCase();if("localhost"==a||"127.0.0.1"==a)return!0;if(1>a.indexOf("."))return!1;var b=a.lastIndexOf(".");if(0>b)return!1;a=a.substring(b+1,a.length);b="aero asia biz cat com coop gov info int jobs mobi museum name net org pro tel travel xxx".split(" ");return 2==a.length||ng_inArray(a,b)}function ng_isIP4(a){return/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i.test(""+a)}
function ng_isIP6(a){return/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(a)}
function ng_isUnicode(a){var b;for(a=""+a;0<a.length;a++)if(b=a.charCodeAt(0),255<b)return!0;return!1}function ng_isASCII(a){var b;for(a=""+a;0<a.length;a++)if(b=a.charCodeAt(0),127<b)return!1;return!0}function ng_toBool(a){return ng_typeString(a)&&0<a.length?(a=a.toLowerCase(),"0"==a||"false"==a||"f"==a||"n"==a||"no"==a||"off"==a||"disabled"==a?!1:!0):!!a}
function ng_toString(a,b){if(ng_isEmptyOrNull(a))return ngVal(b,"");if(ng_typeDate(a))return ng_FormatDateTime(a,void 0,ngVal(b,""));if(ng_typeObject(a)){if("function"===typeof a.FormatString)return a.FormatString(a,b);if("undefined"!==typeof JSON&&"function"===typeof JSON.stringify)try{return JSON.stringify(a)}catch(c){}return ngVal(b,"")}return ng_isNumber(a)?(""+a).replace(".",ng_DecimalSeparator()):""+a}
function ng_toObject(a,b){if(ng_typeDate(a))return ng_isInvalid(a)?ngVal(b,null):{year:a.getFullYear(),mon:a.getMonth()+1,mday:a.getDate(),hour:a.getHours(),min:a.getMinutes(),sec:a.getSeconds(),ms:a.getMilliseconds(),tzoffset:a.getTimezoneOffset()};if("object"===typeof a)return a;if(ng_typeString(a)&&"undefined"!==typeof JSON&&"function"===typeof JSON.parse)try{return window.JSON.parse(a)}catch(c){}return ngVal(b,null)}
function ng_toNumber(a,b){if(ng_isEmptyOrNull(a)||ng_typeString(a)&&(a=(""+a).replace(ng_DecimalSeparator(),"."),""==a))return ngVal(b,NaN);a=+a;return isNaN(a)?ngVal(b,NaN):a}function ng_toSByte(a,b){a=parseInt(a,10);return isNaN(a)||a<SBYTE_MIN||a>SBYTE_MAX?ngVal(b,NaN):a}function ng_toByte(a,b){a=parseInt(a,10);return isNaN(a)||a<BYTE_MIN||a>BYTE_MAX?ngVal(b,NaN):a}function ng_toShort(a,b){a=parseInt(a,10);return isNaN(a)||a<SHORT_MIN||a>SHORT_MAX?ngVal(b,NaN):a}
function ng_toUShort(a,b){a=parseInt(a,10);return isNaN(a)||a<USHORT_MIN||a>USHORT_MAX?ngVal(b,NaN):a}function ng_toLong(a,b){a=parseInt(a,10);return isNaN(a)||a<LONG_MIN||a>LONG_MAX?ngVal(b,NaN):a}function ng_toULong(a,b){a=parseInt(a,10);return isNaN(a)||a<ULONG_MIN||a>ULONG_MAX?ngVal(b,NaN):a}function ng_toInteger(a,b){a=parseInt(a,10);return isNaN(a)?ngVal(b,NaN):a}
function ng_toFloat(a,b){if("object"===typeof a)return ngVal(b,NaN);a=parseFloat((""+a).replace(ng_DecimalSeparator(),"."));return isNaN(a)?ngVal(b,NaN):a}
function ng_toDate(a,b,c){if(ng_isEmptyOrNull(a))return ngVal(b,null);if(ng_typeDate(a))return isNaN(a.getTime())?ngVal(b,null):a;if(ng_typeString(a)){var d=ng_ParseDateTime(a,c,null);ng_isInvalid(d)&&"undefined"===typeof c&&(d=ng_ParseDate(a,c,null),ng_isInvalid(d)&&(d=ng_ParseTime(a,c,null)));return ng_isInvalid(d)?ngVal(b,null):d}if(ng_typeObject(a))return d=new Date(0),ng_isInvalid(a.year)||(c=a.year+"",4>c.length&&(c=70<parseInt($y,10)?""+(c-0+1900):""+(c-0+2E3)),d.setFullYear(c)),ng_isInvalid(a.mon)||
d.setMonth(a.mon-1),ng_isInvalid(a.mday)||d.setDate(a.mday),ng_isInvalid(a.hour)||d.setHours(a.hour),ng_isInvalid(a.min)||d.setMinutes(a.min),ng_isInvalid(a.sec)||d.setSeconds(a.sec),ng_isInvalid(a.ms)||d.setMilliseconds(1E3*Number("0."+a.ms)),ng_isInvalid(a.tzoffset)||(a=6E4*(d.getTimezoneOffset()-a.tzoffset),0!=a&&d.setTime(d.getTime()-a)),ng_isInvalid(d)?ngVal(b,null):d;a=ng_fromUnixTimestamp(a);return ng_isInvalid(a)?ngVal(b,null):a}
function ng_toDateOnly(a,b,c){a=ng_toDate(a,b,c);return!ng_typeDate(a)||ng_isInvalid(a)?ngVal(b,null):ng_ExtractDate(a)}function ng_toNVARCHAR(a,b,c){if(!ng_typeDate(a)&&ng_typeObject(a))return ngVal(c,"");a=ng_toString(a,null);if(ng_isInvalid(a))return ngVal(c,"");a=ng_RTrim(a);if("undefined"===typeof b)return a;0>b&&(b=0);return a.substring(0,b)}
function ng_toDECIMAL(a,b,c,d){function e(a,b){for(var c="",d=b;0<d;d--)c+=a;return c}0<c&&b++;var g;if(ng_typeString(a)&&(a=ng_Trim(a.replace(ng_DecimalSeparator(),".")),""!=a)){var k=a,n=0;0<a.length&&("+"==a.charAt(0)?n=1:"-"==a.charAt(0)&&(n=-1));n&&(a=a.substr(1,a.length));var r=a.length;for(g=0;g<r&&"0"==a.charAt(g);g++);a=a.substr(g,a.length);if(g==r||"."==a.charAt(0))a="0"+a;if(/^-?(0|([1-9]\d*))(\.\d+)?$/.test(a)){g=a.indexOf(".");r=a.length;g==r-1&&(a=a.substr(0,r-1),g=-1);if(0>g)0<c&&(a+=
"."+e("0",c));else if(k=r-(g+1),k!=c)if(k<c)a+=e("0",c-k);else{for(var u=0,x=r-1;x>g&&k>=c;x--)r=parseInt(a.charAt(x)),u&&(r++,a=a.substr(0,x)+r+a.substr(x+1,a.length)),u=5>r?0:1,k--;c?a=a.substr(0,g+1+c):u&&0<g?(r=parseInt(a.charAt(g-1)),r++,a=a.substr(0,g-1)+r):a=a.substr(0,g)}if(a.length>b)return ngVal(d,"");0>n&&"0"!=a&&(a="-"+a);return a}a=k}a=ng_toNumber(a);if(isNaN(a))return ngVal(d,"");a=""+a.toFixed(c);if(0<=a.indexOf("e"))return ngVal(d,"");n=0;0<a.length&&("+"==a.charAt(0)?n=1:"-"==a.charAt(0)&&
(n=-1));n&&(a=a.substr(1));g=a.indexOf(".");0>g?0<c&&(a=a+"."+e("0",c)):(r=a.length,k=r-(g+1),k<c&&(a+=e("0",c-k)));if(a.length>b)return ngVal(d,"");0>n&&(a="-"+a);return a}function ng_toUTCDate(a,b){a=ng_toDate(a);if(ng_isInvalid(a))return ngVal(b,null);a=new Date(a.getTime());var c=6E4*a.getTimezoneOffset();a.setTime(a.getTime()+c);return ng_isInvalid(a)?ngVal(b,null):a}
function ng_fromUTCDate(a,b){a=ng_toDate(a);if(ng_isInvalid(a))return ngVal(b,null);a=new Date(a.getTime());var c=6E4*a.getTimezoneOffset();a.setTime(a.getTime()-c);return ng_isInvalid(a)?ngVal(b,null):a}function ng_toUnixTimestamp(a,b){a=ng_toDate(a);return ng_isInvalid(a)?ngVal(b,NaN):Math.round(a.getTime()/1E3)}function ng_fromUnixTimestamp(a,b){a=ng_toNumber(a);return isNaN(a)?ngVal(b,null):new Date(1E3*a)}
function ng_formatDateISO8601(a,b){function c(a){return 10>a?"0"+a:a}a=ng_toDate(a);return ng_isInvalid(a)?ngVal(b,""):a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z"}
function ng_parseDateISO8601(a,b){function c(a){a=""+a;for(var b=0;b<a.length;b++)if("0"!=a.charAt(b)){a=a.substring(b,a.length);break}return a}var d=(""+a).match(/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/);if(null===d)return ngVal(b,null);var e=0,g=new Date(0,0,1),k=parseInt(d[1],10),n=parseInt(c(d[3]),10),r=parseInt(c(d[5]),10);if(isNaN(k)||isNaN(n)||isNaN(r)||1E3>k||1>n||12<n||1>r||r>ng_DaysInMonth(n,k))return ngVal(b,
null);g.setFullYear(k);g.setMonth(n-1);g.setDate(r);var k=parseInt(c(d[7]),10),n=parseInt(c(d[8]),10),r=parseInt(c(d[10]),10),u=parseInt(c(d[12]),10);if(!(isNaN(k)&&isNaN(n)&&isNaN(r)&&isNaN(u))||d[14]){if(isNaN(k))k=0;else if(0>k||23<k)return ngVal(b,null);if(isNaN(n))n=0;else if(0>n||59<n)return ngVal(b,null);if(isNaN(r))r=0;else if(0>r||59<r)return ngVal(b,null);g.setHours(k);g.setMinutes(n);g.setSeconds(r);isNaN(u)||g.setMilliseconds(1E3*ng_toNumber("0."+d[12]));d[14]&&(e=60*ng_toNumber(d[16])+
ng_toNumber(d[17]),e*="-"==d[15]?1:-1)}e-=g.getTimezoneOffset();g.setTime(Number(Number(g)+6E4*e));return g}
function ng_parseSIUnits(a,b,c,d,e){if(ng_typeNumber(a))return a;var g=ng_decodeSIUnits(b),k=ng_getSIUnits(a,b,null);if(null===k)return a=ng_toNumber(a),isNaN(a)?ngVal(c,NaN):a;if(ng_typeString(d)){var n=[];n.push(d);d=n}if(""!=k.prefix&&d&&!ng_inArray(k.prefix,d))return ngVal(c,NaN);a=ng_StripSIUnits(a,k.prefix+b);a=ng_toNumber(a);if(isNaN(a))return ngVal(c,NaN);if(e){if(1!=g.exp||0==k.binex)return ngVal(c,NaN);a*=k.binex}else a*=Math.pow(k.ex,g.exp);return isNaN(a)?ngVal(c,NaN):a}
function ng_formatSIUnits(a,b,c,d,e,g,k,n){if(ng_typeString(a)){var r=ng_parseSIUnits(a,b);isNaN(r)||(a=r)}a=ng_toNumber(a);if(isNaN(a))return ngVal(c,"");ng_typeString(d)&&(r=[],r.push(d),d=r);var r=null,u=1,x=1,w=ng_decodeSIUnits(b);if(n&&1!=w.exp)return ngVal(c,"");for(var y=ng_SIUnits.length-2;0<=y;y--){if(n)if(0==ng_SIUnits[y].binex)continue;else u=ng_SIUnits[y].binex;else u=Math.pow(ng_SIUnits[y].ex,w.exp);a>=u&&(d&&(""==ng_SIUnits[y].prefix||ng_inArray(ng_SIUnits[y].prefix,d))||!d&&!ng_SIUnits[y].notcommon)&&
(r=ng_SIUnits[y],x=u)}if(!ng_typeObject(r))return ng_toString(a)+" "+b;a/=x;return isNaN(a)?ngVal(c,""):"function"===typeof g?g(a,r,b,c,d,k):"undefined"!==typeof e?ng_toString(ng_toFloat(a.toFixed(e)))+" "+r.prefix+b:ng_toString(a)+" "+r.prefix+b}function ng_parseBytes(a,b){return ng_parseSIUnits(ng_Unformat3Num(a),"B",b,!1,!0)}function ng_formatBytes(a,b,c,d,e){return ng_Format3Num(ng_formatSIUnits(a,"B",b,!1,c,d,e,!0))}
function ng_parseDistance(a,b){return ng_parseSIUnits(ng_Unformat3Num(a),"m",b,["m","c","d","k"])}function ng_formatDistance(a,b,c,d,e){c=ngVal(c,2);return ng_Format3Num(ng_formatSIUnits(a,"m",b,["m","c","k"],c,d,e))}function ng_parseArea(a,b){return ng_parseSIUnits(ng_Unformat3Num(a),"m\u00b2",b,["m","c","d","k"])}function ng_formatArea(a,b,c,d,e){c=ngVal(c,2);return ng_Format3Num(ng_formatSIUnits(a,"m\u00b2",b,["m","c","k"],c,d,e))}
function ng_parseSeconds(a,b){var c=ng_parseHMS(a);if(null===c)return ngVal(b,NaN);for(var d=0,e=0,g=c.length-1;0<=g;g--)switch(e++){case 0:d+=c[g];break;case 1:d+=60*c[g];break;case 2:d+=3600*c[g]}return ng_isInvalid(d)?ngVal(b,NaN):d}
function ng_formatSeconds(a,b,c){if(!ng_isNumber(a))return ngVal(b,"");var d=Math.floor(a/3600);a-=3600*d;var e=Math.floor(a/60);a-=60*e;var g=Math.floor(a);a-=g;return ng_isInvalid(d)||ng_isInvalid(e)||ng_isInvalid(g)?ngVal(b,""):ng_sprintf("%02d:%02d:%02d",d,e,g)+(0<a&&!ng_isInvalid(a)&&c?(""+ng_toFloat(a.toFixed(3))).substr(1,4):"")}
function ng_parseMinutes(a,b){var c=ng_parseHMS(a);if(null===c)return ngVal(b,NaN);for(var d=0,e=3==c.length?-1:0,g=c.length-1;0<=g;g--)switch(e++){case -1:d+=c[g]/60;break;case 0:d+=c[g];break;case 1:d+=60*c[g]}return ng_isInvalid(d)?ngVal(b,NaN):d}
function ng_formatMinutes(a,b,c){if(!ng_isNumber(a))return ngVal(b,"");var d=Math.floor(a/60);a-=60*d;var e=Math.floor(a);a-=e;return ng_isInvalid(d)||ng_isInvalid(e)?ngVal(b,""):ng_sprintf("%02d:%02d",d,e)+(0<a&&!ng_isInvalid(a)&&c?(""+ng_toFloat(a.toFixed(3))).substr(1,4):"")}function ng_formatWWW(a,b){return ng_isWWW(a)?ng_isURL(a)?a:"http://"+a:ngVal(b,"")}function ng_toASCII(a,b){return ng_isASCII(a)?a:ngVal(b,"")}function ng_toNonUnicode(a,b){return ng_isUnicode(a)?ngVal(b,""):a}
function ng_toHex(a,b,c){b=ng_toNumber(b);if(ng_typeString(a)){var d="";b=isNaN(b)||4<=b?4:2;for(var e=0;e<a.length;e++)c=a.charCodeAt(e),255<c&&2==b&&(c=255),d+=(65536+c).toString(16).substr(-b).toUpperCase();return d}a=ng_toNumber(a);if(isNaN(a))return ngVal(c,"");a=a.toString(16).toUpperCase();if(isNaN(b)||1>b)b=1;for(;a.length<b;)a="0"+a;return a}
function ng_Hex2Str(a,b,c){a=""+a;b=ng_toNumber(b);b=isNaN(b)||4<=b?4:2;for(var d=a.length/b,e="",g,k=0;k<d;k++){g=parseInt(a.substr(k*b,b),16);if(isNaN(g))return ngVal(c,"");e+=String.fromCharCode(g)}return e}function ng_idxInArray(a,b,c,d,e,g){"function"!==typeof e&&(e=function(a,b){return a===b});d=ngVal(d,b.length);d>b.length&&(d=b.length);for(c=ngVal(c,0);c<d;c++)if(e(b[c],a,g))return c;return-1}function ng_inArray(a,b,c,d,e,g){return 0<=ng_idxInArray(a,b,c,d,e,g)}
function ng_DefaultDateFormat(a,b){a&&(b=!1);var c=ngTypesTxt("date_"+(b?"short":"")+"format"+(a?"_parse":""),"");""==c&&(c=ngTypesTxt("date_"+(b?"short":"")+"format",""));return""==c&&b?ng_DefaultDateFormat(a,!1):c}function ng_DefaultTimeFormat(a,b){a&&(b=!1);var c=ngTypesTxt("time_"+(b?"short":"")+"format"+(a?"_parse":""),"");""==c&&(c=ngTypesTxt("time_"+(b?"short":"")+"format",""));return""==c&&b?ng_DefaultTimeFormat(a,!1):c}
function ng_DefaultDateTimeFormat(a,b){a&&(b=!1);var c=ngTypesTxt("datetime_"+(b?"short":"")+"format"+(a?"_parse":""),"");""==c&&(c=ngTypesTxt("datetime_"+(b?"short":"")+"format",""));return""==c&&b?ng_DefaultDateTimeFormat(a,!1):c}var ng_DateFormat=ng_DefaultDateFormat,ng_TimeFormat=ng_DefaultTimeFormat,ng_DateTimeFormat=ng_DefaultDateTimeFormat;function ng_ExtractDate(a){if(ng_typeDate(a))return new Date(a.getFullYear(),a.getMonth(),a.getDate())}
function ng_LeapYear(a){return 0==a%4&&0!=a%100||0==a%400}function ng_DaysInMonth(a,b){switch(a){case 2:return"undefined"===typeof b&&(b=(new Date).getFullYear()),ng_LeapYear(b)?29:28;case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;default:return 30}}function ng_FormatTime(a,b,c){if("undefined"===typeof b||""==b)b=ng_TimeFormat(!1);return ng_FormatDateTime(a,b,c)}function ng_FormatDate(a,b,c){if("undefined"===typeof b||""==b)b=ng_DateFormat(!1);return ng_FormatDateTime(a,b,c)}
function ng_FormatDateTime(a,b,c){function d(a){return 10>a?"0"+a:a}function e(a){a="000"+a%1E3;return a.substr(a.length-3,3)}a=ng_toDate(a);if(null===a)return ngVal(c,"");ng_IsArrayVar(b)&&(b=b.length?b[0]:"");c=a.getFullYear();var g=a.getMonth()+1,k=a.getDate(),n=a.getDay(),r=a.getHours(),u=a.getMinutes(),x=a.getSeconds();a=a.getMilliseconds();if("undefined"===typeof b||""==b)b=ng_DateTimeFormat(!1);b+="";var w=r;12<r?w=r-12:r||(w=12);for(var y=11<r?r-12:r,A="",z,B,D=0;D<b.length;){B=b.charAt(D);
for(z="";b.charAt(D)==B&&D<b.length;)z+=b.charAt(D++);switch(z){case "y":case "yyyy":A+=c;break;case "yy":A+=(""+c).substring(2,4);break;case "q":A+=Math.ceil(g/3);break;case "M":A+=g;break;case "MM":A+=d(g);break;case "MMM":A+=ngTypesTxt("calendar_months")[g-1];break;case "NNN":A+=ngTypesTxt("calendar_months_short")[g-1];break;case "d":A+=k;break;case "dd":A+=d(k);break;case "E":A+=ngTypesTxt("calendar_days_short")[n];break;case "EE":A+=ngTypesTxt("calendar_days")[n];break;case "H":A+=r;break;case "HH":A+=
d(r);break;case "h":A+=w;break;case "hh":A+=d(w);break;case "K":A+=y;break;case "k":A+=r+1;break;case "KK":A+=d(y);break;case "kk":A+=d(r+1);break;case "m":A+=u;break;case "mm":A+=d(u);break;case "s":A+=x;break;case "ss":A+=d(x);break;case "a":A+=11<r?"PM":"AM";break;case "u":A+=e(a);break;default:A+=z}}return A}function ng_ParseTime(a,b,c){if("undefined"===typeof b||""==b)b=ng_TimeFormat(!0);return ng_ParseDateTime(a,b,c)}
function ng_ParseDate(a,b,c){if("undefined"===typeof b||""==b)b=ng_DateFormat(!0);a=ng_ParseDateTime(a,b);if(ng_isInvalid(a))return c;a=ng_ExtractDate(a);return ng_isInvalid(a)?c:a}
function ng_ParseDateTime(a,b,c){function d(a,b,c,d){for(var e=d;e>=c;e--){d=a.substring(b,b+e);if(d.length<c)break;if(ng_isDigits(d))return d}return null}if("undefined"===typeof b||""==b)b=ng_DateTimeFormat(!0);if(ng_IsArrayVar(b)){for(var e=0;e<b.length;e++){var g=ng_ParseDateTime(a,b[e],null);if(null!==g&&ng_typeDate(g))return g}return c}a+="";b+="";for(var k,n,r,g=new Date,u=g.getFullYear(),x,w,y=0,A=0,z=0,B=0,D="",C,E=0,F=0;F<b.length;){e=b.charAt(F);for(r="";b.charAt(F)==e&&F<b.length;)r+=b.charAt(F++);
switch(r){case "yyyy":case "yy":case "y":"yyyy"==r&&(n=k=4);"yy"==r&&(n=k=2);"y"==r&&(k=2,n=4);u=d(a,E,k,n);if(null==u)return c;E+=u.length;2==u.length&&(u=70<u?1900+(u-0):2E3+(u-0));break;case "MMM":case "NNN":x=0;r="MMM"==r?ngTypesTxt("calendar_months"):ngTypesTxt("calendar_months_short");for(e=0;e<r.length;e++)if(C=r[e],a.substring(E,E+C.length).toLowerCase()==C.toLowerCase()){x=e+1;E+=C.length;break}if(1>x||12<x)return c;break;case "EE":case "E":r="E"==r?ngTypesTxt("calendar_days_short"):ngTypesTxt("calendar_days");
for(e=0;e<r.length;e++)if(C=r[e],a.substring(E,E+C.length).toLowerCase()==C.toLowerCase()){E+=C.length;break}break;case "q":x=d(a,E,1,1);if(null==x||1>x||4<x)return c;x=3*(x-1)+1;E+=1;break;case "MM":case "M":x=d(a,E,r.length,2);if(null==x||1>x||12<x)return c;E+=x.length;break;case "dd":case "d":w=d(a,E,r.length,2);if(null==w||1>w||31<w)return c;E+=w.length;break;case "hh":case "h":y=d(a,E,r.length,2);if(null==y||1>y||12<y)return c;E+=y.length;break;case "HH":case "H":y=d(a,E,r.length,2);if(null==
y||0>y||23<y)return c;E+=y.length;break;case "KK":case "K":y=d(a,E,r.length,2);if(null==y||0>y||11<y)return c;E+=y.length;break;case "kk":case "k":y=d(a,E,r.length,2);if(null==y||1>y||24<y)return c;E+=y.length;y--;break;case "mm":case "m":A=d(a,E,r.length,2);if(null==A||0>A||59<A)return c;E+=A.length;break;case "ss":case "s":z=d(a,E,r.length,2);if(null==z||0>z||59<z)return c;E+=z.length;break;case "a":if("am"==a.substring(E,E+2).toLowerCase())D="AM";else if("pm"==a.substring(E,E+2).toLowerCase())D=
"PM";else return c;E+=2;break;case "u":B=d(a,E,1,3);if(null==B)return c;E+=B.length;B=(B+"000").substr(0,3);if(0>B||1E3<=B)return c;break;default:if(a.substring(E,E+r.length)!=r)return c;E+=r.length}}if(E!=a.length)return c;a=ng_isEmpty(w);b=ng_isEmpty(x);a&&(w=b?g.getDate():1);b&&(x=g.getMonth()+1);if(2==x&&28<w&&(!ng_LeapYear(u)||29<w)||30<w&&(4==x||6==x||9==x||11==x))return c;12>y&&"PM"==D?y=y-0+12:11<y&&"AM"==D&&(y-=12);return new Date(u,x-1,w,y,A,z,B)}
function ng_ParseJSONDateTime(a,b){var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(a);if(c)return new Date(Date.UTC(+c[1],+c[2]-1,+c[3],+c[4],+c[5],+c[6]));if(c=/^\/Date\(([+-]?[0-9]*)(([+-]?)([0-9]{2})([0-9]{2}))?\)\/$/.exec(a)){var d=0;c[2]&&(d=60*ng_toNumber(c[4])+ng_toNumber(c[5]),d*="-"==c[3]?1:-1);c=new Date(parseInt(c[1]));d-=c.getTimezoneOffset();c.setTime(Number(Number(c)+6E4*d));return c}return b}
function ng_GetDateFormat(a,b){if(""==a)return"";b=ngVal(b,!0);for(var c="M/d/y M-d-y M.d.y MMM-d M/d M-d".split(" "),d="d/M/y d-M-y d.M.y d-MMM d/M d-M".split(" "),c=["y-M-d;MMM d, y;MMM d,y;y-MMM-d;d-MMM-y;MMM d".split(";"),b?d:c,b?c:d],d=null,e=0;e<c.length;e++)for(var g=c[e],k=0;k<g.length;k++)if(d=ng_ParseDate(a,g[k]),"undefined"!==typeof d)return g[k];return""}
function ng_Trim(a){if(!0===a)return"1";if(!1===a||null===a)return"";var b=typeof a;return"string"!=b&&"number"!=b?b:(""+a).replace(/^\s+|\s+$/g,"")}function ng_LTrim(a){return(""+a).replace(/^\s+/,"")}function ng_RTrim(a){return(""+a).replace(/\s+$/,"")}function ng_StripPrefix(a,b,c){a=""+a;b=""+b;var d=a.substring(0,b.length);c&&(d=d.toLowerCase(),b=b.toLowerCase());return d==b?a.substring(b.length,a.length):a}
function ng_StripSuffix(a,b,c){a=""+a;b=""+b;if(a.length<b.length)return a;var d=a.substring(a.length-b.length,a.length);c&&(d=d.toLowerCase(),b=b.toLowerCase());return d==b?a.substring(0,a.length-b.length):a}function ng_AddPrefix(a,b,c){return""+b+ng_StripPrefix(a,b,c)}function ng_AddSuffix(a,b,c){return ng_StripSuffix(a,b,c)+b}function ng_AddSlash(a){return ng_AddSuffix(a,"/")}function ng_StripSlash(a){return ng_StripSuffix(a,"/")}function ng_AddBackslash(a){return ng_AddSuffix(a,"\\")}
function ng_StripBackslash(a){return ng_StripSuffix(a,"\\")}function ng_StripQuotes(a,b){if(ng_isEmpty(b)){var c=ng_StripQuotes(a,'"');return c.length<a.length?c:ng_StripQuotes(a,"'")}b=""+b;return a.length>=2*b.length&&a.substring(0,b.length)==b&&a.substring(a.length-b.length,a.length)==b?a.substring(b.length,a.length-b.length):a}function ng_QuoteStr(a,b){a=ng_StripQuotes(a,b);ng_isEmpty(b)&&(b='"');b=""+b;return b+a+b}
function ng_Unformat3Num(a,b){if(!ng_typeString(a))return a;"undefined"===typeof b&&(b=ngTypesTxt("thousands_separator"," "));return ng_Format3Num(a,"",b)}
function ng_Format3Num(a,b,c){"undefined"===typeof b&&(b=ngTypesTxt("thousands_separator"," "));if(ng_isInvalid(a)||ng_typeObject(a))return"";a=ng_toString(a);c=ngVal(c,b);var d=a.lastIndexOf(ng_DecimalSeparator());0>d&&"."!=b&&"."!=c&&(d=a.lastIndexOf("."));if(0>d)for(var e,d=a.length-1;0<=d&&!(e=a.charAt(d),"0"<=e&&"9">=e);d--);else d--;for(var g="",k=0,n=a.length-1;0<=n;n--){e=a.charAt(n);if(n<=d){if(e==c)continue;!(k++%3)&&n<d&&(g=b+g)}g=e+g}return g};function ngclip_SetTextNone(a){return!1}function ngclip_SetTextIE(a){try{return window.clipboardData.setData("Text",a),!0}catch(b){}return!1}function ngClipboard(){ngIExplorer?(this.SetText=ngclip_SetTextIE,this.IsSupported=!0):(this.IsSupported=!1,this.SetText=ngclip_SetTextNone)}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.clipboard={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){"object"===typeof ngApp&&ngApp&&(ngApp.Clipboard=new ngClipboard)}};var ngControlsVer=5,ngControlsSubVer=0,ngControlsVersion=ngControlsVer+"."+ngControlsSubVer,ngControlsCopyright="Copyright &copy 2008-2016 Position s.r.o.",ngApp=null,ngDESIGNINFO="undefined"===typeof ngDESIGNINFO?0:ngDESIGNINFO,ngDESIGNINFOCnt=0,ngDesignInfoNotInheritedProps=["MissingDI","ControlCategory","Image","IsContainer"];function ngHASDESIGNINFO(){return ngHASDEBUG()&&ngDESIGNINFO&&0<ngDESIGNINFOCnt}function ngDesignInfoBegin(){ngDESIGNINFOCnt++}
function ngDesignInfoEnd(){ngDESIGNINFOCnt--;0>ngDESIGNINFOCnt&&(ngDESIGNINFOCnt=0)}"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.ngAppOldControlsVersion="Application requires newer version of Controls.js!\nRequired %s.%s, used %s.%s.\n\nApplication terminated!";ngc_Lang.en.ngEmptyString="";"undefined"===typeof ngc_SupportedLangs&&(ngc_SupportedLangs={});"undefined"===typeof ngc_SupportedLangsLocked&&(ngc_SupportedLangsLocked=!1);
"undefined"===typeof ngIE6AlignFix&&(ngIE6AlignFix=!0);"undefined"===typeof ngDefaultHTMLEncoding&&(ngDefaultHTMLEncoding=!1);
function ngLang(a,b,c,d){if("undefined"!==typeof a&&("undefined"===typeof c&&(c=ng_cur_lng),"undefined"===typeof d&&(d=!0),c=""+c,""!=c)){"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang[c]&&(ngc_Lang[c]={});if("undefined"===typeof ngc_Lang[c][a]||d)ngc_Lang[c][a]=b;a=ngExtractLangId(c);"undefined"===typeof ngc_Lang[a.Lang]&&(ngc_Lang[a.Lang]={});a=ngMakeLangId(a.Lang,a.LangCountry);"undefined"===typeof ngc_Lang[a]&&(ngc_Lang[a]={})}}
var ng_cur_lng="en",ng_cur_lng_stack=[];function ngBeginLang(a){ng_cur_lng_stack.push(ng_cur_lng);ng_cur_lng=a}function ngEndLang(){0<ng_cur_lng_stack.length&&(ng_cur_lng=ng_cur_lng_stack.pop());return ng_cur_lng}function ngNormalizeLang(a){return a=(""+ngExtractLangId(a).Lang).replace(/^\s+|\s+$/g,"").toLowerCase()}
function ngExtractLangId(a){var b,c,d;if(a=/([a-z]*)([-._|]([a-z]*)([-._|]([a-z]*))?)?/.exec((""+a).toLowerCase()))b=a[1],c=a[3],d=a[5],""==c&&(d=""),""==b&&(d=c="");return{Lang:b,LangCountry:c,LangVariant:d}}function ngMakeLangId(a,b,c,d){d||(d="-");return a+(b?d+b+(c?d+c:""):"")}
function ngGetSupportedLangs(){var a=[];"object"===typeof ngc_SupportedLangs&&ngc_SupportedLangs||(ngc_SupportedLangs={});for(var b in ngc_SupportedLangs)a.push(b);if(0==a.length&&"object"===typeof ngc_Lang&&ngc_Lang){var c;for(b in ngc_Lang){"cz"===b&&(b="cs");b=ngNormalizeLang(b);for(c=a.length-1;0<=c&&a[c]!==b;c--);0>c&&a.push(b)}}return a}
function ngGetSupportedLang(a){a=""+ngNullVal(a,"en");var b=!1;if("object"===typeof ngc_SupportedLangs&&ngc_SupportedLangs)for(var c in ngc_SupportedLangs){b=!0;break}else ngc_SupportedLangs={};a=ngNormalizeLang(a);if(""==a||b&&!ngc_SupportedLangs[a]||!b&&"undefined"===typeof ngc_Lang[a]){switch(a){case "cs":if(b&&ngc_SupportedLangs.cz||!b&&"undefined"!==typeof ngc_Lang.cz)return a;break;case "cz":if(b&&ngc_SupportedLangs.cs||!b&&"undefined"!==typeof ngc_Lang.cs)return a;break;case "sk":if(b&&(ngc_SupportedLangs.cs||
ngc_SupportedLangs.cz)||!b&&("undefined"!==typeof ngc_Lang.cs||"undefined"!==typeof ngc_Lang.cz))return"cs"}if(("cs"==a||"cz"==a)&&(b&&ngc_SupportedLangs.sk||!b&&"undefined"!==typeof ngc_Lang.sk))return"sk";if(b&&ngc_SupportedLangs.en||!b)a="en";else for(c in ngc_SupportedLangs){a=c;break}}return a}function ngIsSupportedLang(a){return ngGetSupportedLang(a)===ngNormalizeLang(a)}
function ngSetSupportedLang(){if(ngc_SupportedLangsLocked)return!1;ngc_SupportedLangs={};ngAddSupportedLang.apply(this,arguments);return!0}
function ngAddSupportedLang(){if(ngc_SupportedLangsLocked)return!1;var a,b,c;for(c in arguments)if(a=arguments[c],"string"===typeof a&&(a=a.split(";")),"object"===typeof a&&a){"object"===typeof ngc_SupportedLangs&&ngc_SupportedLangs||(ngc_SupportedLangs={});for(var d in a)b="string"===typeof a[d]?ngNormalizeLang(a[d]):ngNormalizeLang(d),""!==b&&(ngc_SupportedLangs[b]=!0)}return!0}
function ngTxt(a,b){function c(a,b,c,d){var e=a[b];if("undefined"===typeof e)return e;e=e[c];"undefined"!==typeof e&&d&&d!==b&&("undefined"===typeof a[d]&&(a[d]={}),a[d][c]=ng_CopyVar(e));return e}function d(a,b){var d;if(e&&(d=c(a,e,b),"undefined"!==typeof d)||g&&(d=c(a,g,b,e),"undefined"!==typeof d))return d;if(k){d=c(a,k,b,e?e:g);if("undefined"!==typeof d)return d;switch(k){case "cs":d=c(a,"cz",b,g?g:k);if("undefined"!==typeof d)return d;break;case "cz":if(d=c(a,"cs",b,g?g:k),"undefined"!==typeof d)return d}}"en"!==
k&&(d=c(a,"en",b,k));return d}var e,g,k;"object"===typeof ngApp&&ngApp?(k=ngApp.Lang,ngApp.LangCountry&&(g=ngApp.Lang+"-"+ngApp.LangCountry),ngApp.LangVariant&&(e=ngApp.Lang+"-"+ngApp.LangCountry+"-"+ngApp.LangVariant)):k="en";var n;"undefined"!==typeof ngDevice&&"undefined"!==typeof ngc_Lang["DEV_"+ngDevice]?(n=d(ngc_Lang["DEV_"+ngDevice],a),"undefined"===typeof n&&(n=d(ngc_Lang,a))):n=d(ngc_Lang,a);"undefined"===typeof n&&(n=b,"undefined"===typeof n&&(n=a,ngHASDEBUG()&&ngDEBUGWARN('[ngTxt] Missing string for ID "%s"',
a)));return n}
function ngRes(a){function b(a,b,c,d){a=a[b];if("undefined"===typeof a)return a;c=a[c];if("undefined"===typeof c)return c;c=ng_CopyVar(c);d&&ng_MergeDef(c,d,!0);return c}function c(a,c,k){var x;x=a.en;var w="undefined"===typeof x?x:x[c];if(d&&(x=b(a,d,c,w),"undefined"!==typeof x)||e&&(x=b(a,e,c,w),"undefined"!==typeof x))return x;if(g&&"en"!==g){x=b(a,g,c,w);if("undefined"!==typeof x)return x;switch(g){case "cs":x=b(a,"cz",c,w);if("undefined"!==typeof x)return x;break;case "cz":if(x=b(a,"cs",c,w),
"undefined"!==typeof x)return x}}ngHASDEBUG()&&"undefined"===typeof w&&k&&ngDEBUGWARN('[ngRes] Missing resource for ID "%s"',c);return ng_CopyVar(w)}var d,e,g;"object"===typeof ngApp&&ngApp?(g=ngApp.Lang,ngApp.LangCountry&&(e=ngApp.Lang+"-"+ngApp.LangCountry),ngApp.LangVariant&&(d=ngApp.Lang+"-"+ngApp.LangCountry+"-"+ngApp.LangVariant)):g="en";if("undefined"!==typeof ngDevice&&"undefined"!==typeof ngc_Lang["DEV_"+ngDevice]){var k=c(ngc_Lang["DEV_"+ngDevice],a,!1);if("undefined"!==typeof k)return k}return c(ngc_Lang,
a,!0)}var OnStartModal=OnStartModal||null,OnStopModal=OnStopModal||null,OnModalChanged=OnModalChanged||null,ngModalClassName="ngModalCurtain",ngModalZIndexDelta=1E4,ngModalCnt=0;
function ngStartModalControl(){if(!ngModalCnt&&(!OnStartModal||ngVal(OnStartModal(),!1))){var a=document.getElementById("NGMODALWINDOW_CURTAIN");if(a)b=a.parentNode,a.className=ngModalClassName,a.style.left=ng_ScrollX(b)+"px",a.style.top=ng_ScrollY(b)+"px",a.style.zIndex=ngModalZIndexDelta,a.style.display="block",a.style.visibility="visible",ng_IE7RedrawFix(a);else{var b="object"===typeof ngApp&&ngApp?ngApp.TopElm():document.body,a=document.createElement("div");a.id="NGMODALWINDOW_CURTAIN";a.className=
ngModalClassName;a.style.position="absolute";a.style.left=ng_ScrollX(b)+"px";a.style.top=ng_ScrollY(b)+"px";a.style.width="100%";a.style.height="100%";a.style.display="block";a.style.zIndex=ngModalZIndexDelta;b&&(b.appendChild(a),b.onscroll=ngAddEvent(b.onscroll,function(){0<ngModalCnt&&(a.style.left=ng_ScrollX(b)+"px",a.style.top=ng_ScrollY(b)+"px")}))}}ngModalCnt++;a=document.getElementById("NGMODALWINDOW_CURTAIN");1<ngModalCnt&&a&&(a.style.zIndex=ngModalCnt*ngModalZIndexDelta);OnModalChanged&&
OnModalChanged(a,!0)}function ngStopModalControl(){ngModalCnt--;var a=document.getElementById("NGMODALWINDOW_CURTAIN");if(0>=ngModalCnt){if(ngModalCnt=0,!OnStopModal||ngVal(OnStopModal(),!1))if(a=document.getElementById("NGMODALWINDOW_CURTAIN"))a.style.display="none",a.style.visibility="hidden",ng_IE7RedrawFix(a)}else a&&(a.style.zIndex=ngModalCnt*ngModalZIndexDelta);OnModalChanged&&OnModalChanged(a,!1)}
function ng_IsInactiveModalElm(a){if(!ngModalCnt||!a||a==document||a==window||"BODY"==a.tagName)return!1;var b=ngModalCnt*ngModalZIndexDelta;if(0>=b)return!1;for(var c,d=0;a&&a!=document;){try{c=ng_GetCurrentStylePx(a,"z-index"),c>d&&(d=c)}catch(e){}a=a.parentNode}return d<b}function ngw_OnDOMFocus(a){a||(a=window.event);a=a.srcElement||a.target;if(ng_IsInactiveModalElm(a))try{a.blur()}catch(b){}}
window.addEventListener?window.addEventListener("focus",ngw_OnDOMFocus,!0):window.attachEvent&&window.attachEvent("onfocus",ngw_OnDOMFocus);var ssNone=0,ssDefault=1,ssAuto=2,ssBoth=3,ssHorizontal=4,ssVertical=5;
function ng_SetScrollBars(a,b){if(a)switch(b){case ssNone:a.style.overflow="hidden";a.style.overflowX="hidden";a.style.overflowY="hidden";break;case ssAuto:a.style.overflow="auto";a.style.overflowX="auto";a.style.overflowY="auto";break;case ssBoth:a.style.overflow="scroll";a.style.overflowX="scroll";a.style.overflowY="scroll";break;case ssHorizontal:a.style.overflow="scroll";a.style.overflowX="scroll";a.style.overflowY="hidden";break;case ssVertical:a.style.overflow="scroll";a.style.overflowX="hidden";
a.style.overflowY="scroll";break;case ssDefault:a.style.overflow="visible",a.style.overflowX="visible",a.style.overflowY="visible"}}
function ng_GetScrollBars(a){var b=ng_GetCurrentStyle(a,"overflow-x"),c=ng_GetCurrentStyle(a,"overflow-y");if(""==b||""==c)a=ng_GetCurrentStyle(a,"overflow"),""==a&&(a="hidden"),""==b&&(b=a),""==c&&(c=a);a=ssNone;"auto"==b||"auto"==c?a=ssAuto:"scroll"==b&&"scroll"==c?a=ssBoth:"visible"==b&&"visible"==c?a=ssDefault:"scroll"==b?a=ssHorizontal:"scroll"==c&&(a=ssVertical);return a}
function ng_ToAbsPath(a,b){if("string"!==typeof a||""==a||ng_IsAbsPath(a))return a;a=a.replace(/\\/g,"/");return"undefined"!==typeof b&&""!=b?ngLibPath(b)+a:"object"===typeof ngApp&&ngApp?ngApp.AppPath+a:window.location.href.substr(0,window.location.href.indexOf("#"))+a}function ng_SetOpacity(a,b){"string"===typeof a&&(a=document.getElementById(a));a&&(0>b&&(b=0),1<b&&(b=1),a.style.opacity=b,a.style.filter="alpha(opacity="+100*b+")")}
function ng_Align(a){var b=0,c=0,d,e,g,k;"string"===typeof a&&(a=document.getElementById(a));if(!a)return 0;d=a.getAttribute("FL");g=a.getAttribute("FR");e=a.getAttribute("FT");k=a.getAttribute("FB");ng_nullAttr(d)||ng_nullAttr(g)?ng_nullAttr(g)?""!=a.style.left&&""!=a.style.right?c|=4:""!=a.style.right&&(c|=1):b|=1:b|=4;ng_nullAttr(e)||ng_nullAttr(k)?ng_nullAttr(k)?""!=a.style.top&&""!=a.style.bottom?c|=8:""!=a.style.bottom&&(c|=2):b|=2:b|=8;if(b){var n=a.parentNode;if(b&5){var r;r=ng_ClientWidthEx(n);
b&4?(d=r-g-d,0>d&&(d=0),ng_SetOuterWidth(a,d)):b&1&&(d=ng_OuterWidth(a),a.style.pixelLeft=r-g-d)}b&10&&(g=ng_ClientHeightEx(n),b&8?(e=g-k-e,0>e&&(e=0),ng_SetOuterHeight(a,e)):b&2&&(e=ng_OuterHeight(a),a.style.pixelTop=g-k-e))}return b|c}function ng_CanSelectElm(a){if(a&&"hidden"!==a.style.visibility&&"none"!==a.style.display&&!a.disabled)switch(a.nodeName){case "INPUT":case "TEXTAREA":return!0}return!1}
function ng_CanFocusElm(a){if(a&&"hidden"!==a.style.visibility&&"none"!==a.style.display&&!a.disabled){if(ngIExplorer&&a.attributes.tabIndex&&a.attributes.tabIndex.specified)return!0;switch(a.nodeName){case "A":case "AREA":case "BUTTON":case "FRAME":case "IFRAME":case "INPUT":case "OBJECT":case "SELECT":case "TEXTAREA":return!0}if(null!==a.getAttribute("tabIndex"))return!0}return!1}
var ngControlsIDs={},ngControlImages="",ngRegisteredControlTypes={},ngOnRegisterControlType=ngOnRegisterControlType||null,ngRegisteredControlDesignInfos={},ngOnRegisterControlDesignInfo=ngOnRegisterControlDesignInfo||null,ngMouseInControls={},ngCurrentLib="",ngCurrentUserControls="",ngCurrentControlsGroup="";function ngGetControlById(a,b){if(""==a)return null;var c=ngControlsIDs[a];return!c||"undefined"!==typeof b&&ngVal(c.CtrlType,-1)!=b?null:c}
function ngGetControlByElement(a,b){"string"===typeof a&&(a=document.getElementById(a));if(!a)return null;for(var c,d=a;d&&d!==document&&!(c=ngGetControlById(d.id,b));)d=d.parentNode;return c}
function ngRegisterControlType(a,b){if("string"===typeof a&&(!ngOnRegisterControlType||ngVal(ngOnRegisterControlType(a,b),!1)))switch(typeof b){case "function":"function"===typeof ngRegisteredControlTypes[a]&&ngDEBUGWARN('Duplicated registration of component type "%s".',ngVal(a,""),b);""!=ngCurrentLib&&"undefined"===typeof b.Lib&&(b.Lib=ngCurrentLib);""!=ngCurrentControlsGroup&&"undefined"===typeof b.ControlsGroup&&(b.ControlsGroup=ngCurrentControlsGroup);""!=ngCurrentUserControls&&"undefined"===
typeof b.UserControls&&(b.UserControls=ngCurrentUserControls);ngRegisteredControlTypes[a]=b;break;case "object":if("undefined"===typeof b.Type||b.Type==a)break;ngRegisterControlType(a,function(a,d,e){var g=ng_CopyVar(b),k=g.Type;delete g.Type;ng_MergeDef(a,g,!0);return ngCreateControlAsType(a,k,d,e)});break;case "string":if(a==b)break;ngRegisterControlType(a,function(a,d,e){return ngCreateControlAsType(a,b,d,e)})}}
function ngRegisterControlDesignInfo(a,b){if(ngHASDEBUG()&&ngDESIGNINFO&&"string"===typeof a&&(!ngOnRegisterControlDesignInfo||ngVal(ngOnRegisterControlDesignInfo(a,b),!1)))switch(typeof b){case "function":"function"===typeof ngRegisteredControlDesignInfos[a]&&ngDEBUGWARN('Duplicated registration of design info "%s".',ngVal(a,""),b);""!=ngCurrentLib&&"undefined"===typeof b.Lib&&(b.Lib=ngCurrentLib);""!=ngCurrentControlsGroup&&"undefined"===typeof b.ControlsGroup&&(b.ControlsGroup=ngCurrentControlsGroup);
""!=ngCurrentUserControls&&"undefined"===typeof b.UserControls&&(b.UserControls=ngCurrentUserControls);ngRegisteredControlDesignInfos[a]=b;break;case "object":if(!b)break;b=ng_CopyVar(b);ngRegisterControlDesignInfo(a,function(a,d,e){return b});break;case "string":if(a==b)break;ngRegisterControlDesignInfo(a,function(a,d,e){var g=ngRegisteredControlDesignInfos[b],k;"function"===typeof g&&(k=g.apply(arguments));delete k.IsBasic;return k})}}var ngCtrlCnt=1;
function ngCreateControlId(a){var b="";a=ngVal(a,"");for(var c=0;100>c&&(b=a+ngCtrlCnt,ngCtrlCnt++,ngGetControlById(b));c++);return b}var ngOnCreateControl=ngOnCreateControl||null,ngOnCreateUnknownControl=ngOnCreateUnknownControl||null,ngOnControlCreated=ngOnControlCreated||null;function ngControlCreated(a){ngOnCreateControl&&ngOnCreateControl(a)}"undefined"===typeof ngUserControls&&(ngUserControls={});
function ngUsrCtrlSetImages(a,b){if("object"===typeof a&&a){"undefined"===typeof a._noMerge&&(a._noMerge=!0);"undefined"===typeof a.Src&&(a.Src=b);for(var c in a)"object"===typeof a[c]&&ngUsrCtrlSetImages(a[c],b)}}function ngUsrCtrlSetImagesArray(a,b){if("object"===typeof a&&a){"undefined"===typeof a._noMerge&&(a._noMerge=!0);"undefined"===typeof a.Src?a.Src=b[0]:"number"===typeof a.Src&&(a.Src=b[a.Src]);for(var c in a)"object"===typeof a[c]&&ngUsrCtrlSetImagesArray(a[c],b)}}
function ngInitUserControls(){if("undefined"!==typeof ngUserControls){var a,b=ngCurrentLib,c=ngCurrentUserControls,d=ngCurrentControlsGroup,e;for(e in ngUserControls)if(a=ngUserControls[e],"undefined"!==typeof a&&!a.initialized)try{ngCurrentLib=ngVal(a.Lib,"");ngCurrentUserControls=e;ngCurrentControlsGroup=ngVal(a.ControlsGroup,ngCurrentLib);"function"===typeof a.OnInit&&a.OnInit();if("string"===typeof a.ControlImages&&ngControlImages!=a.ControlImages)a.ControlImages=ng_URL(ng_ToAbsPath(a.ControlImages,
a.Lib)),ng_PreloadImage(a.ControlImages),ngUsrCtrlSetImages(a.Images,a.ControlImages);else if("object"===typeof a.ControlImages&&"number"===typeof a.ControlImages.length){for(var g=0;g<a.ControlImages.length;g++)a.ControlImages[g]=ng_URL(ng_ToAbsPath(a.ControlImages[g],a.Lib)),ngControlImages!=a.ControlImages[g]&&ng_PreloadImage(a.ControlImages[g]);0<a.ControlImages.length&&ngUsrCtrlSetImagesArray(a.Images,a.ControlImages)}a.initialized=!0}finally{ngCurrentLib=b,ngCurrentUserControls=c,ngCurrentControlsGroup=
d}}}
function ng_MergeDef(a,b,c,d){function e(a,b,c,d){var e,x,w,y;for(y in b)if("undefined"===typeof a[y]||!d&&null===a[y])a[y]=b[y];else if(e=ng_IsArrayVar(a[y]),x="function"===typeof a[y],e||x)if(e=ng_IsArrayVar(b[y]),w="function"===typeof b[y],e||w)if(x&&(a[y]=[a[y]]),w)c?a[y].push(b[y]):a[y].splice(0,0,b[y]);else if(c)for(x=0;x<b[y].length;x++)a[y].push(b[y][x]);else for(x=0;x<b[y].length;x++)a[y].splice(x,0,b[y][x])}b=ng_CopyVar(b);ngVal(c,!1)||(b=ng_CleanUndefined(b));ng_MergeVar(a,b,!0,function(a,b){if("function"===
typeof d&&!ngVal(d(a,b),!0)||!0===a._noMerge)return!1;"function"===typeof a.OnCreating&&"function"===typeof b.OnCreating&&(a.OnCreating=ngAddEvent(a.OnCreating,b.OnCreating),delete b.OnCreating);"function"===typeof a.OnCreated&&"function"===typeof b.OnCreated&&(a.OnCreated=ngAddEvent(a.OnCreated,b.OnCreated),delete b.OnCreated);"object"===typeof a.Methods&&"object"===typeof b.Methods&&a.Methods&&b.Methods&&(e(a.Methods,b.Methods,!1,!0),delete b.Methods);"object"===typeof a.Events&&"object"===typeof b.Events&&
a.Events&&b.Events&&(e(a.Events,b.Events,!1),delete b.Events);"object"===typeof a.AfterEvents&&"object"===typeof b.AfterEvents&&a.AfterEvents&&b.AfterEvents&&(e(a.AfterEvents,b.AfterEvents,!1),delete b.AfterEvents);"object"===typeof a.BeforeEvents&&"object"===typeof b.BeforeEvents&&a.BeforeEvents&&b.BeforeEvents&&(e(a.BeforeEvents,b.BeforeEvents,!0),delete b.BeforeEvents);"object"===typeof a.OverrideEvents&&"object"===typeof b.OverrideEvents&&a.OverrideEvents&&b.OverrideEvents&&(e(a.OverrideEvents,
b.OverrideEvents,!1,!0),delete b.OverrideEvents);return!0})}
function ng_MergeDI(a,b,c,d){b=ng_CopyVar(b);ngVal(c,!1)||(b=ng_CleanUndefined(b));b.NewControl&&"object"===typeof b.NewControl&&"undefined"===typeof b.NewControl._noMerge&&(b.NewControl._noMerge=!0);ng_MergeVarReplace(a,b,!0,function(a,b){if("function"===typeof d&&!ngVal(d(a,b),!0))return!1;if(!0===b._noMerge){var c=a._byRef,n=b?b._byRef:null,r={},u;for(u in b)r[u]=!0,n&&n[u]?ng_SetByRef(a,u,b[u]):(c&&delete c[u],a[u]=ng_CopyVar(b[u]));for(u in a)r[u]||delete a[u];delete a._noMerge;return!1}"function"===
typeof a.OnActionsMenuCreating&&"function"===typeof b.OnActionsMenuCreating&&(b.OnActionsMenuCreating=ng_OverrideFunction(a.OnActionsMenuCreating,b.OnActionsMenuCreating,b));return!0})}
function ngCreateControl(a,b,c){var d,e,g=null;a.CtrlInheritanceDepth=ngVal(a.CtrlInheritanceDepth,0)+1;try{for(d in ngUserControls)if(e=ngUserControls[d],"function"===typeof e.OnCreateControl&&(g=e.OnCreateControl(a,b,c)),g)break;if(!g){var k=ngRegisteredControlTypes[a.Type];"function"===typeof k&&(g=k(a,b,c))}g||"function"===typeof ngOnCreateUnknownControl&&(g=ngOnCreateUnknownControl(a,b,c))}finally{a.CtrlInheritanceDepth--}if(!g)return ngDEBUGWARN('Component type "%s" not found.',ngVal(a.Type,
""),a),null;g.CtrlInheritedFrom.push(a.Type);g.DefType=a.Type;g.Owner=b;if("undefined"!==typeof a.Data)for(var n in a.Data)g[n]=a.Data[n];if(!a.CtrlInheritanceDepth){if("undefined"!==typeof a.Methods)for(n in a.Methods)ng_OverrideMethod(g,n,a.Methods[n]);if("undefined"!==typeof a.BeforeEvents)for(n in a.BeforeEvents)g.AddEvent(a.BeforeEvents[n],n);if("undefined"!==typeof a.AfterEvents)for(n in a.AfterEvents)g.AddEvent(n,a.AfterEvents[n]);if("undefined"!==typeof a.Events)for(n in a.Events)g.AddEvent(n,
a.Events[n]);if("undefined"!==typeof a.OverrideEvents)for(n in a.OverrideEvents)ng_OverrideMethod(g,n,a.OverrideEvents[n]);"undefined"!==typeof g.ngText&&""==ngVal(g.Text,"")&&(g.Text=ngTxt(g.ngText));"undefined"===typeof g.ngTextD||g.OnGetText||(g.OnGetText=ngc_GetResText);"undefined"!==typeof g.ngAlt&&""==ngVal(g.Alt,"")&&(g.Alt=ngTxt(g.ngAlt));"undefined"===typeof g.ngAltD||g.OnGetAlt||(g.OnGetAlt=ngc_GetResAlt);"undefined"!==typeof g.ngHint&&""==ngVal(g.Hint,"")&&(g.Hint=ngTxt(g.ngHint));"undefined"===
typeof g.ngHintD||g.OnGetHint||(g.OnGetHint=ngc_GetResHint)}if(c=ngHASDESIGNINFO()){"object"===typeof g.DesignInfo&&g.DesignInfo?delete g.DesignInfo.IsBasic:g.DesignInfo={};e=ngRegisteredControlDesignInfos[a.Type];if("function"===typeof e){for(n=0;n<ngDesignInfoNotInheritedProps.length;n++)delete g.DesignInfo[ngDesignInfoNotInheritedProps[n]];(n=e(a,g,b))&&"object"===typeof n&&ng_MergeDI(g.DesignInfo,n)}else g.DesignInfo.MissingDI=!0;for(d in ngUserControls)e=ngUserControls[d],"function"===typeof e.OnControlDesignInfo&&
(n=e.OnControlDesignInfo(a,g,b))&&"object"===typeof n&&ng_MergeDI(g.DesignInfo,n)}for(d in ngUserControls)e=ngUserControls[d],"function"===typeof e.OnControlCreated&&e.OnControlCreated(a,g,b);c||delete g.DesignInfo;return g}function ngCreateControlAsType(a,b,c,d){var e=a.Type;a.Type=b;b=ngCreateControl(a,c,d);a.Type=e;b&&(b.DefType=a.Type);return b}var ngCreateControlsOptions=null,ngCreateControlsLevel=0,ngOnCreateControlsError=null;
function ngCreateControls(a,b,c,d){var e,g,k,n,r,u,x=null;"undefined"===typeof b&&(b={});if("undefined"===typeof a)return b;var w=ngCreateControlsOptions;d?w&&d!==w&&(w.OnCreated&&ngObjAddEvent.apply(d,["OnCreated",w.OnCreated]),w.OnCreating&&ngObjAddEvent.apply(d,["OnCreating",w.OnCreating])):d=w?w:{};ngCreateControlsLevel&&(d.CreatedControls||w&&w.CreatedControls)?d!==w&&ng_SetByRef(d,"CreatedControls",w.CreatedControls):ng_SetByRef(d,"CreatedControls",[]);ngCreateControlsOptions=d;try{ngCreateControlsLevel++;
try{for(e in"undefined"===typeof c&&(c=ngApp.Elm()),"string"===typeof c?x=ngGetControlById(c):"object"===typeof c&&c&&("function"===typeof c.Elm?(x=c,c=c.Elm()):x=ngGetControlByElement(c)),a){if(d.ModifyControls&&"undefined"!==typeof d.ModifyControls[e]){n=d.ModifyControls[e];delete d.ModifyControls[e];if("object"!==typeof n||!n)continue;ng_MergeDef(n,a[e]);a[e]=n}else if(n=a[e],"object"!==typeof n||!n)continue;"undefined"!==typeof c&&(n.parent=ngVal(n.parent,c));if(n.OnCreating&&(r=n.OnCreating,
delete n.OnCreating,!ngVal(r(n,b,c,d),!1)))continue;if(!d.OnCreating||ngVal(d.OnCreating(n,b,c,d),!1))if((g=ngCreateControl(n,b,c))&&""!=e){ngAddChildControl(x,g);var y={Control:g,Options:null,OnCreated:n.OnCreated,Ref:b};d.OnCreated&&ngObjAddEvent.apply(y,["OnCreated",d.OnCreated]);delete n.OnCreated;u=g.Create(n,b);n.OnCreated=y.OnCreated;ngHASDEBUG()&&"undefined"!==typeof b[e]&&null!==b[e]&&ngDEBUGWARN('Reference "%s" was overwritten by %o. References: %o',e,g,b);b[e]=g;d.CreatedControls.push(y);
var A=ngVal(n.ParentReferences,!0);if(!A){var z;"undefined"!==typeof g.Controls?z=g.Controls:(z={},g.Controls=z);z.Owner=ngVal(z.Owner,g);"function"!==typeof z.Dispose&&(z.Dispose=function(){ngDisposeControls(this)});"function"!==typeof z.AddControls&&(z.AddControls=function(a,b){ngCreateControls(a,this,ngVal(b,ng_EmptyVar(this.Owner)?void 0:this.Owner.ID))})}if("undefined"!==typeof n.Controls){var B=d.ModifyControls;!A&&d.ModifyControls&&delete d.ModifyControls;try{"undefined"!==typeof n.ModifyControls&&
(ng_MergeDef(n.ModifyControls,d.ModifyControls,!0),d.ModifyControls=n.ModifyControls),ngCreateControls(n.Controls,A?b:z,u)}finally{y.OnCreated&&(y.Options=ng_CopyVar(d));if(!B&&ngHASDEBUG()&&d.ModifyControls)for(var D in d.ModifyControls)ngDEBUGWARN('Component referenced by "%s" doesn\'t have an subcomponent "%s" which should be modified.',e,D,b);d.ModifyControls=B}}else y.OnCreated&&(y.Options=ng_CopyVar(d))}else""!=e&&ngDEBUGWARN('Component referenced by "%s" was not created.',e,b)}}catch(C){ngDEBUGERROR(C),
"function"===typeof ngOnCreateControlsError&&ngOnCreateControlsError(C,n,a,b,c,d)}ngCreateControlsLevel--;if(!ngCreateControlsLevel)for(k=d.CreatedControls,e=0;e<k.length;e++){y=k[e];g=y.Control;"undefined"!==typeof g.ChildHandling&&g.SetChildControlsEnabled(g.Enabled);if(r=y.OnCreated)ngCreateControlsOptions=y.Options,g.OnCreated=r,r(g,y.Ref,y.Options),ngCreateControlsOptions=d;ngOnControlCreated&&ngOnControlCreated(g,y.Ref,d)}}finally{ngCreateControlsOptions=w}return b}
function ngCloneRefs(a,b){var c;if(ngHASDEBUG())for(var d in b)c=b[d],c.Owner=a,"undefined"!==typeof a[d]&&null!==a[d]&&ngDEBUGWARN('Reference "%s" was overwritten by %o. References: %o',d,c,a),a[d]=c;else for(d in b)c=b[d],c.Owner=a,a[d]=c}function ngUpdateControls(a){if("undefined"!==typeof a){var b,c={},d=[],e;for(e in a)if(b=a[e])d[d.length]=b,c[b.ID]=!0;for(e=0;e<d.length;e++){b=d[e];for(a=b.ParentControl;a&&!c[a.ID];)a=a.ParentControl;a||"function"!==typeof b.Update||b.Update(!0)}}}
function ngReleaseControls(a){if("undefined"!==typeof a){var b,c;for(c in a)(b=a[c])&&"function"===typeof b.Release&&b.Release()}}function ngDisposeControls(a){if("undefined"!==typeof a){var b,c;for(c in a)if((b=a[c])&&"object"===typeof b&&"Owner"!=c&&"Parent"!=c){"function"===typeof b.Dispose&&b.Dispose();try{delete a[c]}catch(d){}}}}var ngLateUpdateControls=null,ngLateUpdateControlsTimer=null,ngLateUpdateInProgress=!1;
function ngProcessLateUpdates(){if(!ngLateUpdateInProgress&&(ngLateUpdateControlsTimer&&clearTimeout(ngLateUpdateControlsTimer),ngLateUpdateControlsTimer=null,null!==ngLateUpdateControls)){ngUpdatingLateUpdateControls=!0;try{var a,b;for(b in ngLateUpdateControls)(a=ngLateUpdateControls[b])&&"function"===typeof a.Update&&a.Update();ngLateUpdateControls=null}finally{ngLateUpdateInProgress=!1}}}
function ngResetCtrlLateUpdate(a){null!==ngLateUpdateControls&&""!=a.ID&&"undefined"!==typeof ngLateUpdateControls[a.ID]&&(ngLateUpdateControls[a.ID]=null)}
function ngCreateControlHTML(a){"undefined"===typeof a&&(a={});if("string"===typeof a){var b={};b.id=a;a=b}var c=ngVal(a.id,"");""==c&&(c=ngCreateControlId(a.Type));var d=a.L,e=a.T,b=a.R,g=a.B,k=a.W,n=a.H;"number"===typeof d&&(d+="px");"number"===typeof b&&(b+="px");"number"===typeof e&&(e+="px");"number"===typeof g&&(g+="px");"number"===typeof k&&(k+="px");"number"===typeof n&&(n+="px");var r="",c='<DIV id="'+c+'"';"undefined"!==typeof a.className&&(c+=' class="'+a.className+'"');c+=' style="position: absolute; display:none;';
"undefined"!==typeof e&&(c+="top: "+e+";");"undefined"!==typeof d&&(c+="left: "+d+";");"undefined"!==typeof k&&(c+="width: "+k+";");"undefined"!==typeof n&&(c+="height: "+n+";");if("undefined"!==typeof a.B||"undefined"!==typeof a.R)ngIExplorer6?((d=ngVal(a.IE6AlignFix,ngIE6AlignFix))||"undefined"!==typeof a.T&&"undefined"!==typeof a.B?("undefined"!==typeof a.T&&(r+='FT="'+a.T+'" '),"undefined"!==typeof a.B&&(r+='FB="'+a.B+'" ')):"undefined"!==typeof g&&(c+="bottom: "+g+";"),d||"undefined"!==typeof a.L&&
"undefined"!==typeof a.R?("undefined"!==typeof a.R&&(r+='FR="'+a.R+'" '),"undefined"!==typeof a.L&&(r+='FL="'+a.L+'" ')):"undefined"!==typeof b&&(c+="right: "+b+";")):("undefined"!==typeof g&&(c+="bottom: "+g+";"),"undefined"!==typeof b&&(c+="right: "+b+";"));c+=ngVal(a.style,"")+'" '+r+ngVal(a.attrs,"")+">";"undefined"!==typeof a.innerHTML&&(c+=a.innerHTML);return c+"</DIV>"}var ngChildEnabledAsParent=0,ngChildEnabledParentAware=1,ngChildEnabledIndependent=2;
function ngc_Elm(){return document.getElementById(this.ID)}function ngc_CtrlInheritsFrom(a){if("undefined"!==typeof this.CtrlInheritedFrom)for(var b=0;b<this.CtrlInheritedFrom.length;b++)if(this.CtrlInheritedFrom[b]==a)return!0;return!1}
function ngc_Create(a,b){"undefined"===typeof a&&(a={});var c=a.parent,d=ngVal(a.id,"");if("string"===typeof c){var e=document.getElementById(c);if(e)c=e;else switch(c){case "__appelm":c="object"===typeof ngApp&&ngApp?ngApp.Elm():null;break;case "__apptopelm":c="object"===typeof ngApp&&ngApp?ngApp.TopElm():null;break;case "__docbody":c=document.body}}if(!c)return null;""==d&&(d=ngCreateControlId(a.Type));var g=e=document.getElementById(d);if(g){p=e.getAttribute("FT");ng_nullAttr(p)?this.Bounds.T=
ng_GetStylePx(e.style.top):this.Bounds.T=p;p=e.getAttribute("FB");ng_nullAttr(p)?this.Bounds.B=ng_GetStylePx(e.style.bottom):this.Bounds.B=p;p=e.getAttribute("FL");ng_nullAttr(p)?this.Bounds.L=ng_GetStylePx(e.style.left):this.Bounds.L=p;p=e.getAttribute("FR");ng_nullAttr(p)?this.Bounds.R=ng_GetStylePx(e.style.right):this.Bounds.R=p;if(""==ngVal(this.Bounds.L,"")||""==ngVal(this.Bounds.R,""))this.Bounds.W=ng_StyleWidth(e);if(""==ngVal(this.Bounds.T,"")||""==ngVal(this.Bounds.B,""))this.Bounds.H=ng_StyleHeight(e);
ng_SetInnerHTML(e,"")}else{if(a.OnCreateHTMLElement){if(g=a.OnCreateHTMLElement(a,b,this),!g)return null}else g=document.createElement(ngVal(a.DOMTagName,"div"));g.id=d;g.style.display="none"}g.style.position="absolute";"undefined"!==typeof a.className&&(g.className=a.className);var k=ngVal(a.ScrollBars,this.ScrollBars);ng_SetScrollBars(g,ngVal(k,ssNone));this.ScrollBars=k;"undefined"!==typeof a.L&&(this.Bounds.L=a.L);"undefined"!==typeof a.T&&(this.Bounds.T=a.T);"undefined"!==typeof a.R&&(this.Bounds.R=
a.R);"undefined"!==typeof a.B&&(this.Bounds.B=a.B);"undefined"!==typeof a.W&&(this.Bounds.W=a.W);"undefined"!==typeof a.H&&(this.Bounds.H=a.H);"undefined"!==typeof a.innerHTML&&ng_SetInnerHTML(g,a.innerHTML);"undefined"!==typeof a.Opacity&&ng_SetOpacity(g,a.Opacity);if("undefined"!==typeof a.style)for(var n in a.style)g.style[n]=a.style[n];e||c.appendChild(g);""!=d&&(ngControlsIDs[d]=this);this.Visible?!0!==this.IsPopup||ngc_ActivatePopup(this)||(this.Visible=!1):ngc_DeactivatePopup(this);this.Attach(g);
this.SetBounds();this.DoCreate&&this.DoCreate(a,b,g,c);a.OnCreated&&a.OnCreated(this,b);return g}
function ngc_SetBounds(a){var b=!1;if("undefined"!==typeof a){"undefined"===typeof this.Bounds&&(this.Bounds={});for(var c in a)switch(c){case "L":case "T":case "R":case "B":case "W":case "H":if(this.Bounds[c]!=a[c]||typeof this.Bounds[c]!==typeof a[c])this.Bounds[c]=a[c],b=!0;break;case "IE6AlignFix":this.IE6AlignFix!=a.IE6AlignFix&&(this.IE6AlignFix=a.IE6AlignFix,ngIExplorer6&&(b=!0))}}else b=!0;if(b&&(c=this.Elm())){a=this.Bounds;if("undefined"===typeof a)return b;a.IE6AlignFix=this.IE6AlignFix;
ng_SetBounds(c,a);delete a.IE6AlignFix}return b}function ngc_SetScrollBars(a){this.ScrollBars=a;ng_SetScrollBars(this.Elm(),a)}function ngc_SetPopup(a){this.IsPopup!=a&&(this.Visible&&(a?ngc_ActivatePopup(this):ngc_DeactivatePopup(this)),this.IsPopup=a)}function ngc_SetOpacity(a){ng_SetOpacity(this.Elm(),a)}
function ngc_Attach(a){var b;"undefined"===typeof a&&(a=this.ID);"string"===typeof a?(b=a,a=document.getElementById(b)):b=a.id;var c=this.ID;b!=this.ID&&(""!=this.ID&&delete ngControlsIDs[this.ID],""!=b&&(ngControlsIDs[b]=this),this.ID=b);if(a){if(""!=a.className){var d=a.className,e=d.indexOf(" ");0<=e&&(d=d.substr(0,e));this.BaseClassName=d}this.DoSetVisible?this.DoSetVisible(a,this.Visible):a.style.display=this.Visible?"block":"none";var g=this.CtrlType;a.onmouseover=function(a){ngc_Enter(a,this,
g)};a.onmouseout=function(a){ngc_Leave(a,this,g)};a.style.webkitTapHighlightColor="rgba(0,0,0,0)";a.style.webkitTapHighlightColor="transparent";a.style.msTouchAction="none"}""!=b&&this.DoAttach&&this.DoAttach(a,c);c="undefined"!==typeof this.ScrollBars&&this.ScrollBars!==ssNone;if(a&&!a.ngpointers&&(this.DoAcceptGestures||c||"undefined"!==typeof this.Gestures)&&(b="object"===typeof this.Gestures&&this.Gestures?ng_CopyVar(this.Gestures):{},c&&"undefined"===typeof b.drag&&(b.drag=!0),this.DoAcceptGestures&&
this.DoAcceptGestures(a,b),!ng_EmptyVar(b))){var c=[],k;for(k in b)b[k]&&c.push(k);0<c.length&&ngc_PtrListener(this,a,"control",c)}}function ngc_Release(){var a,b=this.ChildControls;if("undefined"!==typeof b)for(var c=b.length-1;0<=c;c--)(a=b[c])&&"function"===typeof a.Release&&a.Release();if(a=this.Elm())b=ngMouseInControls[this.ID],"undefined"!==typeof b&&b.Object==this&&ngc_Leave(null,b.Element,this.CtrlType),this.DoRelease?this.DoRelease(a):(a.style.display="none",ng_SetInnerHTML(a,""))}
function ngc_Dispose(){var a=this.ChildControls;if("undefined"!==typeof a)for(var b,c=a.length-1;0<=c;c--)(b=a[c])&&"function"===typeof b.Dispose&&b.Dispose();a=this.ID;ngc_DeactivatePopup(this);if(!this.DoDispose||ngVal(this.DoDispose(),!1)){ngRemoveChildControl(this.ParentControl,this);if(b=this.Elm())b.style.display="none",ng_SetInnerHTML(b,""),b.parentNode&&b.parentNode.removeChild(b);try{for(c in this)delete this[c]}catch(d){}}""!=a&&delete ngControlsIDs[a]}
function ngc_Enable(){this.SetEnabled(!0)}function ngc_Disable(){this.SetEnabled(!1)}
function ngc_SetChildControlsEnabled(a,b){var c=this.ChildControls;if("undefined"!==typeof c&&c.length)switch(ngVal(this.ChildHandling,0)&7){case 0:this._changingchildenabled=!0;try{if("function"===typeof this.DoSetChildEnabled)for(var d=0;d<c.length;d++)c[d]&&this.DoSetChildEnabled(c[d],a,b);else for(d=0;d<c.length;d++)c[d]&&c[d].SetEnabled(a,b)}finally{delete this._changingchildenabled}break;case 1:this._changingchildenabled=!0;try{var e=function(a){for(var b,c=0;c<a.ChildControls.length;c++)if(b=
a.ChildControls[c]){if("undefined"!==typeof b._intEnabled){var d=b._intEnabled;b.SetEnabled=b._intSetEnabled;"function"===typeof n.DoSetChildEnabled?n.DoSetChildEnabled(b,d,a):b.SetEnabled(d);delete b._intSetEnabled;delete b._intEnabled}"undefined"!==typeof b.ChildControls&&0===(ngVal(b.ChildHandling,0)&7)&&e(b)}},g=function(a){for(var b,c=0;c<a.ChildControls.length;c++)if(b=a.ChildControls[c])"undefined"!==typeof b.ChildControls&&0===(ngVal(b.ChildHandling,0)&7)&&g(b),"function"===typeof b.SetEnabled&&
"undefined"===typeof b._intEnabled&&(b._intEnabled=ngVal(b.Enabled,!0),b._intSetEnabled=b.SetEnabled,"function"===typeof n.DoSetChildEnabled?n.DoSetChildEnabled(b,!1,a):b.SetEnabled(!1),b.SetEnabled=k)},k=function(a,b){if(!n._changingchildenabled){this._intEnabled=ngVal(a,!0);var c=this.ChildControls;if("undefined"!==typeof c&&0===(ngVal(this.ChildHandling,0)&7))for(var d=0;d<c.length;d++)c[d].SetEnabled(a,b)}},n=this;a?e(this):g(this)}finally{delete this._changingchildenabled}}}
function ngc_SetEnabled(a,b){a=ngVal(a,!0);this.Enabled==a||this.OnSetEnabled&&!ngVal(this.OnSetEnabled(this,a,b),!1)||(b=ngVal(b,this),this.SetChildControlsEnabled(a,b),this.DoSetEnabled?this.DoSetEnabled(a):(this.Enabled=a,this.Update&&this.Update()),this.OnEnabledChanged&&this.OnEnabledChanged(this,b))}function ngc_SetFocus(a){var b=this.Elm();if(b)try{ngVal(a,!0)?ng_IsInactiveModalElm(b)||b.focus():b.blur()}catch(c){}}
function ngc_SetVisible(a){a=ngVal(a,!0);if(this.Visible!=a&&(!this.OnSetVisible||ngVal(this.OnSetVisible(this,a),!1))){if(""!=this.ID){var b=this.Elm();if(b){if(a){if(!0===this.IsPopup&&!ngc_ActivatePopup(this))return}else ngc_DeactivatePopup(this);this.DoSetVisible?this.DoSetVisible(b,a):(b.style.display=a?"block":"none",b.style.visibility=a?"visible":"hidden");ng_IE7RedrawFix(document.body)}}if(this.Visible!=a){if((this.Visible=a)&&this.Update(!0),(b=this.Elm())&&ng_IE7RedrawFix(b),this.OnVisibleChanged&&
this.OnVisibleChanged(this),!a&&!ngIExplorer){var c=function(a){a.SetFocus&&a.SetFocus(!1);var b=a.ChildControls;if("undefined"!==typeof b)for(var k=0;k<b.length;k++)c(b[k]);ngc_Leave(d,a.Elm(),a.CtrlType)},d={type:"mouseout"};c(this)}}else ngc_DeactivatePopup(this)}}
function ngc_SetInvalid(a,b){a=ngVal(a,!0);b=ngVal(b,!0);if(this.Invalid==a)return!0;if(this.OnSetInvalid&&!ngVal(this.OnSetInvalid(this,a,b),!1))return!1;this.Invalid=a;"function"===typeof this.DoSetInvalid&&this.DoSetInvalid(a,b);return!0}function ngc_Align(a){var b=0;"undefined"===typeof a&&(a=this.Elm());"string"===typeof a&&(a=document.getElementById(a));"function"!==typeof this.DoResize?b=ng_Align(a):a&&(b=this.DoResize(a));return b}
function ngc_UpdateLater(a){if(ngVal(a,!0))if(ngLateUpdateInProgress)this.Update();else{if(""!=this.ID){var b=function(a){var d=a.ChildControls;if("undefined"!==typeof d)for(var e=0;e<d.length;e++)a=d[e],""!=a.ID&&ngLateUpdateControls[a.ID]&&(delete ngLateUpdateControls[a.ID],ngLateUpdateControls[a.ID]=a),b(a)};ngLateUpdateControls||(ngLateUpdateControls={});ngLateUpdateControls[this.ID]!==this&&(ngLateUpdateControls[this.ID]=this,ngLateUpdateControlsTimer||(ngLateUpdateControlsTimer=setTimeout(function(){nga_ProcessInvokeLater();
ngProcessLateUpdates()},1)),b(this),this.OnUpdateLater&&this.OnUpdateLater(this,!0))}}else null!==ngLateUpdateControls&&""!=this.ID&&"undefined"!==typeof ngLateUpdateControls[this.ID]&&null!==ngLateUpdateControls[this.ID]&&(ngLateUpdateControls[this.ID]=null,this.OnUpdateLater&&!ngLateUpdateInProgress&&this.OnUpdateLater(this,!1))}function ngc_WillUpdateLater(){return""!=this.ID&&null!==ngLateUpdateControls&&ngLateUpdateControls[this.ID]}
function ngc_Update(a){ngResetCtrlLateUpdate(this);if(this.Visible){for(var b=this.ParentControl;b;){if(!b.Visible)return;b=b.ParentControl}if(!this.OnUpdate||ngVal(this.OnUpdate(this),!1)){if(b=this.Elm()){b.style.display=this.Visible?"block":"none";if(ngIExplorer6)var c=ng_ClientWidth(b),d=ng_ClientHeight(b);var e=!0;this.DoUpdate&&(e=ngVal(this.DoUpdate(b),!1))}if(e&&ngVal(a,!0)&&(a=this.ChildControls,"undefined"!==typeof a))for(var g,k=0;k<a.length;k++)g=a[k],g.Update&&g.Update(!0);if(e){if(b){e=
this.Align(b);if(ngIExplorer6){this.DoUpdate&&(e&4||e&8)&&this.DoUpdate(b);var n;ng_BeginMeasureElement(b);for(k=0;2>k;k++){g=ng_ClientWidth(b);n=ng_ClientHeight(b);if(c!=g||d!=n){if(a=this.ChildControls,"undefined"!==typeof a)for(k=0;k<a.length;k++)e=a[k].Align(),(e&4||e&8)&&a[k].Update()}else break;c=g;d=n}ng_EndMeasureElement(b)}ng_IE7RedrawFix(b)}this.Attach();this.OnUpdated&&this.OnUpdated(this,b)}}}}
function ngc_Enter(a,b,c){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))&&(c=ngGetControlByElement(b,c))){var d=c.PointerInfo;if(!(d&&d.Touch&&d.EndTime&&200>(new Date).getTime()-d.EndTime)){d=ngMouseInControls[c.ID];if("undefined"!==typeof d&&d.Element&&d.Object&&ng_inDOM(d.Element)){if(d.Object===c)return;ngc_Leave(a,d.Element,d.Object.CtrlType)}try{d={},d.Object=c,d.Element=c.Elm(),d.EnterElement=b,ngMouseInControls[c.ID]=d,c.DoMouseEnter?c.DoMouseEnter(a,d,d.Element):
c.OnMouseEnter&&c.OnMouseEnter(c)}finally{c.MouseInControl=!0}}}}function ngc_Leave(a,b,c){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))&&(c=ngGetControlByElement(b,c))){var d=ngMouseInControls[c.ID];if("undefined"!==typeof d){delete ngMouseInControls[c.ID];try{d.LeaveElement=b,c.DoMouseLeave?c.DoMouseLeave(a,d,d.Element):c.OnMouseLeave&&c.OnMouseLeave(c)}finally{c.MouseInControl=!1}}}}
function ngc_Focus(a,b,c){a||(a=window.event);!(c=ngGetControlByElement(b,c))||c.ControlHasFocus||ng_IsInactiveModalElm(b)||(c.ControlHasFocus=!0,c.DoFocus?c.DoFocus(a,b):c.OnFocus&&c.OnFocus(c))}
function ngc_Blur(a,b,c){a||(a=window.event);if(ngIExplorer){var d=document.activeElement;if(d&&!ng_CanFocusElm(d))for(d=d.parentNode;d&&d!=document;){if(d==b){b.focus();return}d=d.parentNode}}if((c=ngGetControlByElement(b,c))&&c.ControlHasFocus)try{c.DoBlur?c.DoBlur(a,b):c.DoBlur&&c.DoBlur(c)}finally{c.ControlHasFocus=!1}}function ngc_CtrlBringToFront(a){var b=this.ChildControls;if("undefined"!==typeof b&&b.length)for(var c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);b.splice(0,0,a);break}}
function ngc_CtrlSendToBack(a){var b=this.ChildControls;if("undefined"!==typeof b&&b.length)for(var c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);b[b.length]=a;break}}function ngc_ctrlInsert(a,b,c,d){if(b!=c)for(var e=-1,g=-1,k=0;k<a.length;k++)if(a[k]==c&&(e=k),a[k]==b&&(g=k),0<=e&&0<=g){a.splice(g,1);g<e&&e--;a.splice(e+d,0,b);break}}function ngc_CtrlInsertAfter(a,b){var c=this.ChildControls;"undefined"!==typeof c&&c.length&&ngc_ctrlInsert(c,a,b,1)}
function ngc_CtrlInsertBefore(a,b){var c=this.ChildControls;"undefined"!==typeof c&&c.length&&ngc_ctrlInsert(c,a,b,0)}function ngc_GetResText(){return ngTxt(this.ngTextD)}function ngc_GetResAlt(){return ngTxt(this.ngAltD)}function ngc_GetResHint(){return ngTxt(this.ngHintD)}function ngc_GetText(){return this.OnGetText?ngVal(this.OnGetText(this),""):this.Text}function ngc_GetAlt(){return this.OnGetAlt?ngVal(this.OnGetAlt(this),""):this.Alt}
function ngc_GetImg(){return this.OnGetImg?this.OnGetImg(this):this.Img}function ngc_GetHint(){return this.OnGetHint?ngVal(this.OnGetHint(this),""):this.Hint}function ngc_SetText(a){this.OnSetText&&(a=this.OnSetText(a,this));a!=this.Text&&(this.Text=a,this.Update())}
function ngControl(a,b,c){a.ID=ngVal(b,"");a.CtrlType=c;a.CtrlInheritedFrom=[];a.BaseClassName=c;a.Enabled=!0;a.Visible=!0;a.Bounds={};a.Enable=ngc_Enable;a.Disable=ngc_Disable;a.SetEnabled=ngc_SetEnabled;a.SetChildControlsEnabled=ngc_SetChildControlsEnabled;a.SetVisible=ngc_SetVisible;a.SetFocus=ngc_SetFocus;a.Elm=ngc_Elm;a.CtrlInheritsFrom=ngc_CtrlInheritsFrom;a.Create=ngc_Create;a.Dispose=ngc_Dispose;a.SetBounds=ngc_SetBounds;a.SetScrollBars=ngc_SetScrollBars;a.SetPopup=ngc_SetPopup;a.SetOpacity=
ngc_SetOpacity;a.Align=ngc_Align;a.Attach=ngc_Attach;a.Release=ngc_Release;a.Update=ngc_Update;a.UpdateLater=ngc_UpdateLater;a.WillUpdateLater=ngc_WillUpdateLater;a.AddEvent=ngObjAddEvent;a.RemoveEvent=ngObjRemoveEvent;a.OnSetEnabled=null;a.OnEnabledChanged=null;a.OnSetVisible=null;a.OnVisibleChanged=null;a.OnUpdate=null;a.OnUpdated=null;a.OnUpdateLater=null;a.OnMouseEnter=null;a.OnMouseLeave=null;ngHASDESIGNINFO()&&"function"===typeof ngControlDesignInfo&&ngControlDesignInfo(a)}
function ngcs_Create(a,b){var c=ngVal(a.ID,"");""==c&&("object"===typeof a.Data&&(c=ngVal(a.Data.ID,"")),""==c&&(c=ngCreateControlId(a.Type)));this.ID=c;""!=c&&(ngControlsIDs[c]=this);this.DoCreate&&this.DoCreate(a,b);a.OnCreated&&a.OnCreated(this,b);return null}
function ngSysControl(a,b,c){a.ID=ngVal(b,"");a.CtrlType=c;a.CtrlInheritedFrom=[];a.Enabled=!0;a.CtrlInheritsFrom=ngc_CtrlInheritsFrom;a.Enable=ngc_Enable;a.Disable=ngc_Disable;a.SetEnabled=ngc_SetEnabled;a.SetChildControlsEnabled=ngc_SetChildControlsEnabled;a.Elm=function(){return null};a.Create=ngcs_Create;a.Dispose=ngc_Dispose;a.AddEvent=ngObjAddEvent;a.RemoveEvent=ngObjRemoveEvent;a.OnSetEnabled=null;a.OnEnabledChanged=null;ngHASDESIGNINFO()&&"function"===typeof ngSysControlDesignInfo&&ngSysControlDesignInfo(a)}
var ngOnAddChildControl=ngOnAddChildControl||null;function ngAddChildControl(a,b){a&&b&&("undefined"===typeof a.ChildControls&&(a.ChildControls=[]),ngOnAddChildControl&&ngOnAddChildControl(a,b),a.ChildControls[a.ChildControls.length]=b,b.ParentControl||(b.ParentControl=a))}
function ngRemoveChildControl(a,b){if(a&&b){var c=a.ChildControls;if("undefined"!==typeof c){for(var d,e=c.length-1;0<=e;e--)d=c[e],d==b&&c.splice(e,1);c.length||delete a.ChildControls;b.ParentControl==a&&(b.ParentControl=null)}}}
function ngSavePropState(a,b,c,d){if(!a)return null;"undefined"===typeof b&&(b="Enabled");"undefined"===typeof d&&(d={},d._Prop=b,d._Parent=a);d[a.ID]=a[b];if(ngVal(c,!1)&&"undefined"!==typeof a.ChildControls)for(c=0;c<a.ChildControls.length;c++)ngSavePropState(a.ChildControls[c],b,!0,d);return d}function ngRestorePropState(a,b){var c,d=a._Prop,e;for(e in a)"_"!=e.charAt(0)&&(c=ngGetControlById(e))&&(c[d]=a[e]);(c=a._Parent)&&ngVal(b,!0)&&c.Update(!0)}
function ngcReattachChildren(a){if("undefined"!==typeof a.ChildControls)for(var b,c=0;c<a.ChildControls.length;c++)b=a.ChildControls[c],ngcReattachChildren(b),b.Attach()}var ngc_ActivePopups={},ngc_PopupsInitialized=!1;function ngc_HidePopups(){for(var a in ngc_ActivePopups){var b=ngc_ActivePopups[a];b&&ngc_HidePopup(b)}}function ngc_GetPopupGroup(a){a=a.PopupGroup;if("undefined"===typeof a||""==a)a="default";return a}
function ngc_HidePopup(a){if(!a)return!1;var b=ngc_GetPopupGroup(a),c=!1;ngc_ActivePopups[b]===a&&(a.SetVisible(!1),a.Visible||(c=!0),c&&ngc_ActivePopups[b]===a&&(ngc_ActivePopups[b]=null));return c}function ngc_DeactivatePopup(a){if(a){var b=ngc_GetPopupGroup(a);ngc_ActivePopups[b]===a&&(ngc_ActivePopups[b]=null)}}function ngc_IsActivePopup(a){if(!a)return!1;var b=ngc_GetPopupGroup(a);return ngc_ActivePopups[b]===a}
function ngc_ActivatePopup(a){if(a){var b=ngc_GetPopupGroup(a);if(!ngc_PopupsInitialized){var c=function(a){a||(a=window.event);var b=a.target||a.srcElement||a.originalTarget,c;for(c in ngc_ActivePopups){var k=ngc_ActivePopups[c];if(k){if(ngModalCnt){var n=k.Elm();if(ng_IsInactiveModalElm(n))continue}if((n=b)&&(!k.OnIsInsidePopup||!ngVal(k.OnIsInsidePopup(k,n,1,a),!0)))if("function"===typeof k.IsInsidePopup)ngVal(k.IsInsidePopup(n,1,a),!0)||(n=null);else for(var r=k?k.Elm():null;n&&n!==r;)n=n.parentNode;
n||ngc_HidePopup(k)}}};ngc_PopupsInitialized=!0;document.onmousewheel=ngAddEvent(document.onmousewheel,c);window.addEventListener&&window.addEventListener("DOMMouseScroll",c,!1);ngOnPointerDown=ngAddEvent(ngOnPointerDown,function(a){var b=!0,c=a.GetTarget(),k;for(k in ngc_ActivePopups){var n=ngc_ActivePopups[k];if(n){if(ngModalCnt){var r=n.Elm();if(ng_IsInactiveModalElm(r))continue}if(r=c){if(r&&(!n.OnIsInsidePopup||!ngVal(n.OnIsInsidePopup(n,r,0,a),!0)))if("function"===typeof n.IsInsidePopup)ngVal(n.IsInsidePopup(r,
0,a),!0)||(r=null);else for(var u=n?n.Elm():null;r&&r!==u;)r=r.parentNode;r||("function"===typeof n.DoClickOutside?ngVal(n.DoClickOutside(a),!1)&&ngc_HidePopup(n):n.OnClickOutside&&!ngVal(n.OnClickOutside(n,a),!1)||ngc_HidePopup(n),b&&(ng_DocumentDeselect(),a.EventPreventDefault(),a.StopPropagation=!0,ngc_disabledocselect(a.StartElement),b=!1))}}}return b})}c=ngc_ActivePopups[b];"undefined"===typeof c&&(c=ngc_ActivePopups[b]=null);c!==a&&ngc_HidePopup(c);if(null!==ngc_ActivePopups[b])return!1;ngc_ActivePopups[b]=
a;return!0}}var ngOnPointerDown=ngOnPointerDown||null,ngDblClickMouseTimeout=500,ngDblClickMouseThreshold=10,ngDblClickTouchTimeout=500,ngDblClickTouchThreshold=20,ngCurrentPtrControl=null,ngCurrentPtrDblClick=null,ngPtrIgnoredEvent=null,ngPointersInitialized=!1,ngAcceptMouseGestures,ngc_docselectinfo=null,ngc_elmfromptcheck=!1,ngc_elmfromptrel=!0;
function ngc_enabledocselect(){var a=ngc_docselectinfo;a&&(ngc_docselectinfo=null,"undefined"!=typeof a.oldonselect&&(document.onselectstart=a.oldonselect),a.elm&&(a.elm.style.MozUserSelect=a.oldmozuserselect))}function ngc_disabledocselect(a){ngc_enabledocselect();var b={elm:a,oldonselect:document.onselectstart};document.onselectstart=function(){return!1};a&&(b.oldmozuserselect=a.style.MozUserSelect,a.style.MozUserSelect="none");ngc_docselectinfo=b}
function ngc_eventref(a){if(ngIExplorer&&a&&8>=ngIExplorerVersion){var b={ts:(new Date).getTime()},c;for(c in a)b[c]=a[c];return b}return a}function ngc_ptrevignore(a){a&&a.gesture&&(a=a.gesture.srcEvent);ngPtrIgnoredEvent=ngc_eventref(a)}
function ngc_ptrevisignored(a){var b=ngPtrIgnoredEvent;a&&a.gesture&&(a=a.gesture.srcEvent);return b&&(b===a||ngIExplorer&&8>=ngIExplorerVersion&&b.type===a.type&&b.clientX===a.clientX&&b.clientY===a.clientY&&b.altKey===a.altKey&&b.ctrlKey===a.ctrlKey&&b.srcElement===a.srcElement&&b.button===a.button&&500>(new Date).getTime()-b.ts)?!0:!1}
function ngc_elementFromPoint(a,b){if(!document.elementFromPoint)return null;var c,d;if(!ngc_elmfromptcheck||ngc_elmfromptrel)c=ng_DocumentScrollX(),d=ng_DocumentScrollY();if(!ngc_elmfromptcheck&&(0<d||0<c)){ngc_elmfromptcheck=!0;var e=null,e=0<d?document.elementFromPoint(0,d+ng_DocumentClientHeight()-1):document.elementFromPoint(c+ng_DocumentClientWidth()-1,0);ngc_elmfromptrel=null===e||"HTML"===e.tagName.toUpperCase()}ngc_elmfromptrel&&(a-=c,b-=d);return document.elementFromPoint(a,b)}
function ngc_ptrstart(a,b,c,d,e){function g(){var a=this.Event;if(this.TargetEvent!=a||"undefined"===typeof this.TargetX||"undefined"===typeof this.TargetY||this.TargetX!=this.X||this.TargetY!=this.Y)this.Target=document.elementFromPoint?ngc_elementFromPoint(this.X,this.Y):a.target||a.srcElement||a.originalTarget,this.TargetX=this.X,this.TargetY=this.Y,this.TargetEvent=a;return this.Target}function k(a){var b=this.Target,c=this.GetTarget();if("undefined"!==typeof a)return ngGetControlByElement(c,
a);this.TargetControl&&b===this.Target||(this.TargetControl=ngGetControlByElement(c));return this.TargetControl}function n(a,b){for(var c=a.GetTarget(),d;c;){if(c==b)return!0;if(d=ngGetControlById(c.id)){a.TargetControl=d;break}c=c.parentNode}return!1}function r(){return n(this,this.SrcElement)}function u(){return n(this,this.DstElement)}function x(){d&&(d.gesture?d.gesture.preventDefault():d.preventDefault?d.preventDefault():d.returnValue=!1)}function w(){var a=this.Event;a&&(a.gesture&&a.gesture.stopPropagation&&
a.gesture.stopPropagation(),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}d||(d=window.event);if(!ngc_ptrevisignored(d)){var y=d.gesture&&Hammer&&(d.gesture.pointerType===Hammer.POINTER_TOUCH||d.gesture.pointerType===Hammer.POINTER_PEN);ngUsingTouch=y;if(d.gesture||0==d.button||ngIExplorer&&1==d.button){var A=ngc_DoGetPointerPos(a,d,null);e={Owner:a,X:A.x,Y:A.y,StartX:A.x,StartY:A.y,StartElement:c,StartTime:(new Date).getTime(),StartEvent:ngc_eventref(d),StartEventID:b,Event:d,EventID:b,
CanFocus:!0,Gestures:ng_CopyVar(e),Touch:y,PointerType:d.gesture?d.gesture.pointerType:"mouse",GetTarget:g,GetTargetControl:k,SrcTarget:d.target||d.srcElement||d.originalTarget,SrcElement:c,DstElement:c,IsInSrcElement:r,IsInDstElement:u,PreventDefault:!0,PreventSelect:!0,DocumentDeselect:!0,EventPreventDefault:x,EventStopPropagation:w,OnGesture:null,OnPointerUp:null};a||c!==document.body||"document"!==b||(e.PreventDefault=!1,e.PreventSelect=!1,e.DocumentDeselect=!1);e.SrcTarget&&(e.SrcTarget.onclick?
e.PreventDefault=!1:(ng_CanFocusElm(e.SrcTarget)&&(e.PreventDefault=!1),ng_CanSelectElm(e.SrcTarget)&&(e.PreventSelect=!1)));if(ngOnPointerDown&&!ngVal(ngOnPointerDown(e),!1))e.StopPropagation&&ngc_ptrevignore(d);else{if(a){if(b=a.DblClickInfo)A=e.Touch?ngDblClickTouchThreshold:ngDblClickMouseThreshold,Math.abs(e.X-b.X)<A&&Math.abs(e.Y-b.Y)<A&&(b.Timer&&clearTimeout(b.Timer),e.DblClickInfo=b),delete a.DblClickInfo;if(a.DoPointerDown&&!ngVal(a.DoPointerDown(e),!1)){e.StopPropagation&&ngc_ptrevignore(d);
return}if(a.OnPointerDown&&!ngVal(a.OnPointerDown(a,e),!1)){e.StopPropagation&&ngc_ptrevignore(d);return}a.Enabled&&(ngCurrentPtrControl=a,a.PointerInfo=e,y?(a.Touching=!0,delete a.MouseDown):(a.MouseDown=!0,delete a.Touching));e.Touch&&ngc_Enter(d,c,a.CtrlType);a.Enabled&&(a.DoPtrStart&&a.DoPtrStart(e),a.OnPtrStart&&a.OnPtrStart(a,e))}if(e.CanFocus&&e.PreventDefault){a=document.activeElement;c=!0;for(y=e.SrcTarget;y&&y!=document;){if(ng_CanFocusElm(y)){if(ngIExplorer)try{y.setActive()}catch(z){y.focus()}else y.focus();
c=!1;break}if(y==a){c=!1;break}y=y.parentNode}c&&a&&a.blur()}e.DocumentDeselect&&ng_DocumentDeselect();e.PreventSelect&&ngc_disabledocselect(e.StartElement);e.PreventDefault&&e.EventPreventDefault();("undefined"===typeof e.StopPropagation||e.StopPropagation)&&ngc_ptrevignore(d)}}}}
function ngc_ptrend(a){ngc_enabledocselect();var b=ngCurrentPtrControl;if(b)ngCurrentPtrControl=null;else{b=ngCurrentPtrDblClick;if(!b)return!1;var c=b.DblClickInfo;if(c){var d=b.PointerInfo;if(d){var e=d.Touch?ngDblClickTouchThreshold:ngDblClickMouseThreshold;Math.abs(d.X-c.X)<e&&Math.abs(d.Y-c.Y)<e&&(c.Timer&&clearTimeout(c.Timer),d.DblClickInfo=c)}delete b.DblClickInfo}}a||(a=window.event);ngc_ptrevignore(null);ngCurrentPtrDblClick=null;if(d=b.PointerInfo)e=ngc_eventref(a),d.Event=e,d.EndEvent=
e,d.EndEventID=d.EventID,b.GetPointerPos(a),d.EndX=d.X,d.EndY=d.Y,d.EndTime=(new Date).getTime(),d.Touch&&b.MouseInControl&&ngc_Leave(a,d.StartElement,b.CtrlType),d.OnPointerUp&&d.OnPointerUp(d);a=!1;if(!b.OnPointerUp||ngVal(b.OnPointerUp(b,d),!1)){a=!0;d&&(d.Gestures.tap||d.Gestures.doubletap)&&(d.GetTargetControl()==b||200>d.EndTime-d.StartTime)&&(c=null,d.Gestures.doubletap&&b.DoPtrDblClick?(c=d.DblClickInfo)?(ngCurrentPtrDblClick=null,c.Timer&&clearTimeout(c.Timer),d.DblClickStartTime=c.StartTime,
d.DblClickEndTime=c.EndTime,d.DblClickStartElement=c.StartElement,ng_DocumentDeselect(),"undefined"===typeof d.DblClick&&(d.DblClick=!0),c=null):("undefined"===typeof d.Click&&(d.Click=!0),!1!==d.DblClick&&(c={StartElement:d.StartElement,StartTime:d.StartTime,EndTime:d.EndTime,X:d.X,Y:d.Y})):"undefined"===typeof d.Click&&(d.Click=!0));b.DoPtrEnd&&b.DoPtrEnd(d);b.OnPtrEnd&&b.OnPtrEnd(b,d);var g=d&&d.Click&&b.DoPtrClick;if(c)ngCurrentPtrDblClick=b,b.DblClickInfo=c,c.Timer=setTimeout(function(){clearTimeout(c.Timer);
delete b.DblClickInfo;ngCurrentPtrDblClick=null;g&&b.DoPtrClick&&b.DoPtrClick(d)},Math.round((d.Touch?ngDblClickTouchTimeout:ngDblClickMouseTimeout)/2));else if(g)var k=setTimeout(function(){clearTimeout(k);b.DoPtrClick&&b.DoPtrClick(d)},1);d&&d.DblClick&&b.DoPtrDblClick&&b.DoPtrDblClick(d)}delete b.MouseDown;delete b.Touching;return a}
function ngc_HandleScrollGesture(a,b,c){if("drag"===b.Gesture){var d=Math.round(b.X-b.StartX),e=Math.round(b.Y-b.StartY);if(d||e)if("undefined"===typeof b.ScrollControl){var g=c?c:a.Elm();if(!g)return!1;c?"undefined"!==typeof g.sbtype?c=g.sbtype:(c=ng_GetScrollBars(g),ngAndroid&&(g.sbtype=c)):(c=a.ScrollBars,"undefined"===typeof c&&(c=ng_GetScrollBars(g),a.ScrollBars=c));if(c===ssNone||c===ssDefault)return!1;ngAndroid&&ng_SetScrollBars(g,ssNone);if(g.scrollHeight>g.clientHeight||g.scrollWidth>g.clientWidth){var k=
g.scrollTop,n=g.scrollLeft;if(c===ssAuto||c===ssBoth||c===ssHorizontal)g.scrollLeft=n-d;if(c===ssAuto||c===ssBoth||c===ssVertical)g.scrollTop=k-e;b.ScrollControl=a;b.ScrollElm=g;b.ScrollTop=k;b.ScrollLeft=n;b.ScrollType=c;return!0}}else if(b.ScrollControl===a){c=b.ScrollType;if(c===ssNone)return!1;var r,u;if(c===ssAuto||c===ssBoth||c===ssHorizontal)u=b.ScrollLeft-d;if(c===ssAuto||c===ssBoth||c===ssVertical)r=b.ScrollTop-e;0>u&&(u=0);0>r&&(r=0);"undefined"===typeof u&&"undefined"===typeof r||u==b.ScrollLeft&&
r==b.ScrollTop||(b.ScrollTimer&&clearTimeout(b.ScrollTimer),b.ScrollTimer=setTimeout(function(){clearTimeout(b.ScrollTimer);b.ScrollTimer=null;"undefined"!==typeof r&&(b.ScrollElm.scrollTop=r);"undefined"!==typeof u&&(b.ScrollElm.scrollLeft=u)},1));if(20<Math.abs(d)||20<Math.abs(e))delete b.Gestures.tap,delete b.Gestures.doubletap,b.Scroll=!0;return!0}}else if(b.ScrollControl===a){c=b.ScrollType;if(c===ssNone)return!1;if("swipe"===b.Gesture||c!==ssVertical&&("swipeleft"===b.Gesture||"swiperight"===
b.Gesture)||c!==ssHorizontal&&("swipeup"===b.Gesture||"swipedown"===b.Gesture))return!0}return!1}
function ngc_ptrgesture(a,b){if(a.ngGestureHandled)return!1;var c=ngCurrentPtrControl;if(!c)return!1;var d=c.PointerInfo;if(!d)return!1;b=ngVal(b,a.type);d.Event=a;d.Gesture=b;d.OnGesture&&d.OnGesture(d);var e=!1;if("drag"===b){if(!c.Visible)return ngc_ptrend(a),!1;c.GetPointerPos(a);if(d.Touch){var g=d.GetTargetControl();c.MouseInControl&&g!=c&&ngc_Leave(a,c.Elm(),c.CtrlType);c.MouseInControl||g!=c||ngc_Enter(a,c.Elm(),c.CtrlType)}if(d.Gestures.drag&&(c.DoPtrDrag&&(e=ngVal(c.DoPtrDrag(d),!0)),c.OnPtrDrag&&
(e=ngVal(c.OnPtrDrag(c,d),!0)||e),e))return!1}if(!d.Touch&&"undefined"!==typeof ngAcceptMouseGestures&&!ngAcceptMouseGestures)return!1;var k;try{for(;c&&""!=d.Gesture;){k=!0;"undefined"===typeof c.AcceptGestures||c.AcceptGestures||(k=!1);d.Touch||("undefined"!==typeof c.AcceptMouseGestures?c.AcceptMouseGestures||(k=!1):"undefined"===typeof ngAcceptMouseGestures&&(k=!1));if(k&&(e=!1,c.DoGesture&&(e=ngVal(c.DoGesture(d),!0)||e),c.OnGesture&&(e=ngVal(c.OnGesture(c,d),!0)||e),e||(e=ngc_HandleScrollGesture(c,
d)),e))break;c=c.ParentControl}e&&(a.ngGestureHandled=!0)}finally{delete d.Gesture}return e}
function ngc_PtrListener(a,b,c,d,e){function g(d){ngc_ptrstart(a,c,b,d,k)}"string"===typeof b&&(b=document.getElementById(b));if(b){"undefined"!==typeof d&&d?"string"===typeof d&&(d=d.split(" ")):d=[];"undefined"===typeof c&&(c="");a.DoAcceptPtrGestures&&a.DoAcceptPtrGestures(b,c,d,e);for(var k={},n=0;n<d.length;n++)k[d[n]]?(d.splice(n,1),n--):k[d[n]]=!0;k.touch||(k.touch=!0,d.push("touch"));k.drag||d.push("drag");k.release||(k.release=!0,d.push("release"));if(!b.ngpointers)if(b.ngpointers={},ngPointersInitialized||
ngc_InitPointers(),a.GetPointerPos||(a.GetPointerPos=ngc_GetPointerPos),1===ngHammerJSVer()){var n=function(d){if(d.gesture)switch(d.type){case "touch":ngc_ptrstart(a,c,b,d,k);break;case "release":d.ngReleaseHandled||(d.ngReleaseHandled=!0,ngc_ptrend(d));break;case "tap":case "doubletap":break;default:ngc_ptrgesture(d)}},r={drag_min_distance:1,hold_threshold:30};a.DoGetPtrOptions&&a.DoGetPtrOptions(c,r);var u=Hammer.defaults.stop_browser_behavior.userSelect;try{Hammer.defaults.stop_browser_behavior.userSelect=
"text",b.hammer=Hammer(b,r)}finally{Hammer.defaults.stop_browser_behavior.userSelect=u}for(r=0;r<d.length;r++)b.addEventListener(d[r],n,!1);if(e){d=!1;for(n=b.parentNode;n;){if(n.ngpointers){d=!0;break}n=n.parentNode}d||b.hammer.eventStartHandler(e);return}}else e||(b.addEventListener?b.addEventListener("mousedown",g,!1):b.attachEvent?b.attachEvent("onmousedown",g):b.onmousedown=ngAddEvent(b.onmousedown,g));e&&g(e)}}
function ngc_PtrEvents(a,b,c,d){function e(a){ngc_ptrev(a,d,c,b)}if(!a)return"";"undefined"===typeof c?c="":"string"!==typeof c&&(c=c.join(" "));"undefined"===typeof b&&(b="");"undefined"===typeof d&&(d=a.Elm());a.GetPointerPos||(a.GetPointerPos=ngc_GetPointerPos);a=ngPtrStartEvents();for(var g in a)d.addEventListener?d.addEventListener(a[g],e,!1):d.attachEvent?d.attachEvent("on"+a[g],e):d["on"+a[g]]=ngAddEvent(d.onmousedown,e)}
function ngc_PtrEventsHTML(a,b,c){if(!a)return"";"undefined"===typeof c?c="":"string"!==typeof c&&(c=c.join(" "));"undefined"===typeof b&&(b="");a.GetPointerPos||(a.GetPointerPos=ngc_GetPointerPos);return ngPtrHTMLStartEvents("","ngc_ptrev(event,this,'"+c+"','"+b+"')")}function ngc_ptrev(a,b,c,d){if(!b.hammer){var e=ngGetControlByElement(b);e&&(a||(a=window.event),ngc_PtrListener(e,b,d,c,a))}}
function ngc_DoGetPointerPos(a,b,c){b||(b=window.event);if(b){a&&"undefined"===typeof c&&(c=a.PointerInfo);if(b.gesture&&Hammer){var d=b.gesture.center.pageX,e=b.gesture.center.pageY;"undefined"===typeof d&&(d=b.gesture.center.clientX+ng_DocumentScrollX(),e=b.gesture.center.clientY+ng_DocumentScrollY());a&&(b.gesture.pointerType===Hammer.POINTER_MOUSE?(a.MouseX=d,a.MouseY=e):(a.TouchX=d,a.TouchY=e))}else{var g,k;a?(g=a.MouseX,k=a.MouseY):k=g=0;d=b.pageX;e=b.pageY;"undefined"===typeof d&&(d=b.clientX+
ng_DocumentScrollX(),e=b.clientY+ng_DocumentScrollY());ngIExplorer&&7>=ngIExplorerVersion&&screen.width>document.body.offsetWidth&&(d-=2,e-=2);isNaN(d)&&(d=g);isNaN(e)&&(e=k);a&&(a.MouseX=d,a.MouseY=e)}c&&(c.X=d,c.Y=e);return new ScreenPt(d,e)}}function ngc_GetPointerPos(a){return ngc_DoGetPointerPos(this,a)}
function ngc_InitPointers(){ngPointersInitialized||(1!==ngHammerJSVer()?(ngHammerJS()&&ngDEBUGWARN("Incompatible version of Hammer.js - "+Hammer.VERSION+" (1.x required). Controls.js touch events base support is disabled."),document.onmousedown=ngAddEvent(function(a){ngc_ptrstart(null,"document",document.body,a,["touch"])},document.onmousedown),document.onmousemove=ngAddEvent(function(a){var b=ngCurrentPtrControl;b&&(a||(a=window.event),ngIExplorer&&9>ngIExplorerVersion&&!a.button?ngc_ptrend(a):b.MouseDown&&
ngc_ptrgesture(a,"drag"))},document.onmousemove),document.onmouseup=ngAddEvent(function(a){ngc_ptrend(a)},document.onmouseup),document.onmouseout=ngAddEvent(document.onmouseout,function(a){a||(a=window.event);!ngCurrentPtrControl||ngIExplorer||a.relatedTarget||ngc_ptrend(a);return!0})):(document.hammer=Hammer(document),document.addEventListener("touch",function(a){a.gesture&&"touch"===a.type&&ngc_ptrstart(null,"document",document.body,a,["touch"])},!1)),ngPointersInitialized=!0)}
var ngaStateStopped=0,ngaStateRunning=1,ngaStateInitializing=2,ngaStateTerminated=-1,APPPARAM_SERVER=1,APPPARAM_CLIENT=2,APPPARAM_URL=4;function nga_Elm(){var a=ngVal(this.ElmID,"ngApp");""==a&&(a="ngApp");a=document.getElementById(a);a||(a=document.body);return a}function nga_TopElm(){var a=ngVal(this.TopElmID,null);if(null===a)return this.Elm();var b=null;""!=a&&(b=document.getElementById(a));b||(b=document.body);return b}
function nga_GetLang(){var a=ngc_Lang[this.Lang];"undefined"===typeof a&&(this.Lang="en",a=ngc_Lang.en);return a}function nga_SetLangById(a){a=ngExtractLangId(a);return this.SetLang(a.Lang,a.LangCountry,a.LangVariant)}
function nga_SetLang(a,b,c){var d=!1;a!==this.Lang?d=!0:("undefined"===typeof b?b=this.LangCountry:b!==this.LangCountry&&(d=!0),d||("undefined"===typeof c?c=this.LangVariant:c!==this.LangVariant&&(d=!0)));if(d){b||(c=b=void 0);a||(c=b=a=void 0);var e={Lang:this.Lang,LangCountry:this.LangCountry,LangVariant:this.LangVariant};this.Lang="string"===typeof a?a.toLowerCase():void 0;this.LangCountry="string"===typeof b?b.toLowerCase():void 0;this.LangVariant="string"===typeof c?c.toLowerCase():void 0;this.OnLangChanged&&
this.OnLangChanged(this,e)}return d}function nga_DetectLangEx(a){var b=ngVal(this.StartParams.Lang,"");""==b&&(b=ngVal(ng_GET("lang"),""));""==b&&(b=this.Lang);""==b&&(navigator.userLanguage?b=navigator.userLanguage:navigator.language&&(b=navigator.language));""==b&&(b=ngVal(a,""));return ngExtractLangId(b)}function nga_DetectLang(a){a=this.DetectLangEx(a);return ngNormalizeLang(a.Lang)}function nga_Text(a,b){return ngTxt(a,b)}function nga_Resource(a){return ngRes(a)}var nga_RunTimer=null;
function nga_DoRunFinal(){if(ngApp.OnRun&&!ngVal(ngApp.OnRun(),!1))ngApp.State===ngaStateInitializing&&(ngApp.State=ngaStateTerminated);else{ngApp.State=ngaStateRunning;"function"===typeof ngMain&&ngMain();ngApp.SetOnParamsChanged=nga_SetOnParamsChanged;ngApp.SetOnParamsChanged(ngApp.OnParamsChanged);ngApp.OnRunFinished&&ngApp.OnRunFinished();ngApp.OnRunInternalFinished&&ngApp.OnRunInternalFinished();var a=document.getElementById("ngAppLoading");a&&(a.className="ngAppLoaded");ng_IE7RedrawFix(document.body)}}
function nga_DoRun(){nga_RunTimer&&clearTimeout(nga_RunTimer);nga_RunTimer=null;ngApp.State=ngaStateInitializing;ngAddSupportedLang(ngVal(ngApp.StartParams.SupportedLangs,""));ngc_SupportedLangsLocked=!0===ngApp.StartParams.SupportedLangsLocked;var a=ngApp.DetectLangEx(),b=ngGetSupportedLang(a.Lang);b!==a.Lang?(ngApp.Lang=b,ngApp.LangCountry=void 0,ngApp.LangVariant=void 0):(ngApp.Lang=a.Lang,ngApp.LangCountry=a.LangCountry,ngApp.LangVariant=a.LangVariant);"undefined"===typeof ngApp.StartParams.ReqControlsVer?
(a=ngControlsVer,b=ngControlsSubVer):(a=parseInt(ngApp.StartParams.ReqControlsVer),b=parseInt(ngVal(ngApp.StartParams.ReqControlsSubVer,0)));if(a>ngControlsVer||a==ngControlsVer&&b>ngControlsSubVer){ngApp.State=ngaStateTerminated;var c=document.getElementById("ngAppLoading");c&&(c.style.display="none");alert(ng_htmlDecode(ng_sprintf(ngTxt("ngAppOldControlsVersion"),a,b,ngControlsVer,ngControlsSubVer)))}else{if(b=ngApp.Elm())a=ng_ClientWidth(b),b=ng_ClientHeight(b),ngApp.LastResizeW=a,ngApp.LastResizeH=
b,"function"===typeof ngSetDevice&&("object"===typeof ngAppDeviceInfo&&ngAppDeviceInfo||(ngAppDeviceInfo={}),ngAppDeviceInfo.AppWidth=a,ngAppDeviceInfo.AppHeight=b,ngSetDevice(ngDevice));ng_PreloadImagesBegin();ngControlImages=ng_URL(ngControlImages);ngInitUserControls();""!=ngControlImages&&ng_PreloadImage(ngControlImages);try{window.focus()}catch(d){}"function"===typeof ngInit&&ngInit();ng_PreloadImagesEnd(nga_DoRunFinal)}}function nga_BeginAsyncInit(){ng_PreloadImagesBegin()}
function nga_EndAsyncInit(a){ng_PreloadImagesEnd(a)}function nga_Run(){nga_RunTimer=setTimeout(nga_DoRun,100)}function nga_SetTitle(a){if(""!=ngVal(a,""))try{document.title=ngTxt(a,a)}catch(b){}}function nga_MessageBox(a,b){if(ngVal(b,!1))return confirm(ng_htmlDecode(ngTxt(a,a)));alert(ng_htmlDecode(ngTxt(a,a)))}
function ng_SetBounds(a,b){var c=b.L,d=b.T,e=b.R,g=b.B,k=b.W,n=b.H;"number"===typeof c&&(c+="px");"number"===typeof e&&(e+="px");"number"===typeof d&&(d+="px");"number"===typeof g&&(g+="px");"number"===typeof k&&(k=0>=k?"0px":k+"px");"number"===typeof n&&(n=0>=n?"0px":n+"px");a.style.top="undefined"!==typeof d?d:"";a.style.left="undefined"!==typeof c?c:"";if("undefined"!==typeof b.B||"undefined"!==typeof b.R)if(ngIExplorer6){c=ngVal(b.IE6AlignFix,ngIE6AlignFix);if("undefined"===typeof b.B||!c&&"undefined"===
typeof b.T)ng_nullAttr(a.getAttribute("FT"))||a.setAttribute("FT",""),ng_nullAttr(a.getAttribute("FB"))||a.setAttribute("FB",""),a.style.bottom="undefined"!==typeof g?g:"";else if("undefined"===typeof b.T||"undefined"===typeof b.H)"undefined"!==typeof b.T?a.setAttribute("FT",b.T):ng_nullAttr(a.getAttribute("FT"))||a.setAttribute("FT",""),"undefined"!==typeof b.B?a.setAttribute("FB",b.B):ng_nullAttr(a.getAttribute("FB"))||a.setAttribute("FB","");if("undefined"===typeof b.R||!c&&"undefined"===typeof b.L)ng_nullAttr(a.getAttribute("FL"))||
a.setAttribute("FL",""),ng_nullAttr(a.getAttribute("FR"))||a.setAttribute("FR",""),a.style.right="undefined"!==typeof e?e:"";else if("undefined"===typeof b.L||"undefined"===typeof b.W)"undefined"!==typeof b.L?a.setAttribute("FL",b.L):ng_nullAttr(a.getAttribute("FL"))||a.setAttribute("FL",""),"undefined"!==typeof b.R?a.setAttribute("FR",b.R):ng_nullAttr(a.getAttribute("FR"))||a.setAttribute("FR","")}else a.style.bottom="undefined"!==typeof g?g:"",a.style.right="undefined"!==typeof e?e:"";else ng_nullAttr(a.getAttribute("FT"))||
a.setAttribute("FT",""),ng_nullAttr(a.getAttribute("FB"))||a.setAttribute("FB",""),ng_nullAttr(a.getAttribute("FL"))||a.setAttribute("FL",""),ng_nullAttr(a.getAttribute("FR"))||a.setAttribute("FR","");a.style.width="undefined"!==typeof k?k:"";a.style.height="undefined"!==typeof n?n:"";ng_SetAutoResize(a)}var ngAutoRSync=1,ngAutoResize=null,ngAutoResizeRefs=null,ngAutoResizeCnt=0,ngAutoResizeTimer=null;
function ng_StartAutoResize(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a&&""!=a.id){ngAutoResize||(ngAutoResize={});ngAutoResizeRefs||(ngAutoResizeRefs={});"undefined"===typeof ngAutoResize[a.id]&&(ngAutoResizeCnt++,ngAutoResize[a.id]=ngAutoRSync);var c=ngAutoResizeRefs[a.id];"undefined"===typeof c&&(c={},ngAutoResizeRefs[a.id]=c);c[b]=!0}}
function ng_EndAutoResize(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a&&""!=a.id&&ngAutoResize&&"undefined"!==typeof ngAutoResize[a.id]){var c=ngAutoResizeRefs[a.id];"undefined"!==typeof c&&delete c[b];var d=0,e;for(e in c)if("undefined"!==typeof c[e]){d=1;break}d||(ngAutoResizeCnt--,delete ngAutoResize[a.id],0>=ngAutoResizeCnt&&(ngAutoResizeRefs=ngAutoResize=null))}}
function ng_SetAutoResize(a){"string"===typeof a&&(a=document.getElementById(a));if(a&&""!=a.id){var b=a.getAttribute("FR"),c=a.getAttribute("FB");!ng_nullAttr(b)||!ng_nullAttr(c)||""!=a.style.left&&""!=a.style.right||""!=a.style.top&&""!=a.style.bottom?(ng_StartAutoResize(a,"bounds"),ng_Align(a.id)):ng_EndAutoResize(a,"bounds")}}
function nga_OnResize(a){if("undefined"!==typeof ngApp&&ngApp){if(a=ngApp.Elm()){if(ngApp.MobileKeyboardTimer)switch(clearTimeout(ngApp.MobileKeyboardTimer),delete ngApp.MobileKeyboardTimer,ngMobileKeyboardActive){case 1:ngMobileKeyboardActive=3;var b=document.activeElement;if(b){var c=ngGetControlByElement(b);c&&(b=c.Elm())}b&&b.scrollIntoView&&(c=ng_ParentPosition(b),(0>c.y||c.y+ng_OuterHeight(b)>ng_WindowHeight())&&b.scrollIntoView());break;case 2:nge_FinishMobileKeyboard()}b=ng_ClientWidth(a);
a=ng_ClientHeight(a);if(b===ngApp.LastResizeW&&a===ngApp.LastResizeH)return;"function"===typeof ngDetectDevice&&("object"===typeof ngAppDeviceInfo&&ngAppDeviceInfo||(ngAppDeviceInfo={}),ngAppDeviceInfo.AppWidth=b,ngAppDeviceInfo.AppHeight=a);ngApp.LastResizeW=b;ngApp.LastResizeH=a}ngc_HidePopups();ngAutoResizeTimer&&clearTimeout(ngAutoResizeTimer);ngAutoResizeTimer=null;if(ngApp.OnDeviceChanged||ngAutoResize&&0<ngAutoResizeCnt)ngAutoResizeTimer=setTimeout(nga_DoResize,100)}else ngAutoResizeTimer&&
clearTimeout(ngAutoResizeTimer),ngAutoResizeTimer=null,ngAutoResize&&0<ngAutoResizeCnt&&(ngAutoResizeTimer=setTimeout(nga_DoResize,100))}
function nga_DoResizeElement(a){var b=document.getElementById(a);if(b&&ngAutoResize[a]!=ngAutoRSync){for(var c=[],d=b.parentNode;d;)ngAutoResize[d.id]&&(c[c.length]=d.id),d=d.parentNode;for(d=c.length-1;0<=d;d--)nga_DoResizeElement(c[d]);if(c=ngGetControlById(a)){for(a=c.ParentControl;a;){if("undefined"!==typeof ngAutoResize[a.ID])return;a=a.ParentControl}nga_DoResizeControl(c,!0)}else ng_Align(b),ngAutoResize[a]=ngAutoRSync}}
function nga_DoResizeControl(a,b){var c=!1;if("undefined"!==typeof ngAutoResize[a.ID]){if(b){var d=a.Align(a.ID);(d&4||d&8)&&a.Update&&(c=!0,b=!1)}ngAutoResize[a.ID]=ngAutoRSync}if("undefined"!==typeof a.ChildControls&&0<a.ChildControls.length)for(d=0;d<a.ChildControls.length;d++)nga_DoResizeControl(a.ChildControls[d],b);c&&a.Update()}
function nga_DoResize(){ngAutoResizeTimer&&clearTimeout(ngAutoResizeTimer);ngAutoResizeTimer=null;if(ngApp.OnDeviceChanged&&"function"===typeof ngDetectDevice){var a={},b=ngDetectDevice(a);ngDevice==b&&ng_VarEquals(a.DeviceProfile,ngDeviceProfile)||ngVal(ngApp.OnDeviceChanged(b,a),!1)&&ngSetDevice(a.Device,a)}if(ngAutoResize&&!(0>=ngAutoResizeCnt)){ngAutoRSync++;for(var c in ngAutoResize)nga_DoResizeElement(c)}}function nga_GetRPC(){this.RPC||(this.RPC=new ngRPC("ngApp"));return this.RPC}
function nga_sendRPCRequest(a,b){var c=!1,d=!1,e=!1;"object"===typeof this.Params&&("undefined"!==typeof ngDevice&&"undefined"===typeof this.Params.appdevice&&(this.Params.appdevice=ngDevice,d=!0),"undefined"===typeof this.Params.lang&&"object"===typeof ngApp&&(this.Params.lang=ngMakeLangId(ngApp.Lang,ngApp.LangCountry,ngApp.LangVariant),c=!0),ngHASDEBUG()&&"undefined"===typeof this.Params.appdebug&&(this.Params.appdebug=ngDEBUG,e=!0));var g=this.sendRequestDefault(a,b);c&&delete this.Params.lang;
d&&delete this.Params.appdevice;e&&delete this.Params.appdebug;return g}function nga_AddRPCLang(a){a.sendRequestDefault=a.sendRequest;a.sendRequest=nga_sendRPCRequest;return!0}
function nga_BuildURLParams(a,b){var c="",d,e,g;if("undefined"!==typeof this.ParamInfo)for(var k in this.ParamInfo)if(g=this.ParamInfo[k],"undefined"!==typeof g&&g&&(e=ngVal(g.Type,APPPARAM_URL),e&b&&(d=this.Param(k),ngVal(g.Persist,!1)))){e&=APPPARAM_CLIENT;if("function"===typeof g.Encode){if("undefined"===typeof d||"function"===typeof d)continue;d=g.Encode(k)+"="+g.Encode(d)}else if(this.OnEncodeParam)d=this.OnEncodeParam(this,k,d);else{if("undefined"===typeof d||"function"===typeof d)continue;
d=e?ng_HashEncode(k)+"="+ng_HashEncode(d):ng_URLEncode(k)+"="+ng_URLEncode(d)}"undefined"!==typeof d&&"function"!==typeof d&&(e?(""!=c&&(c+="@"),c+=d):a=ng_AddURLParam(a,d))}""!=c&&(a=-1!=a.indexOf("#")?a+"@":a+"#",a+=c);return a}function nga_CallURL(a){a=this.BuildURLParams(a,APPPARAM_CLIENT|APPPARAM_URL);this.OnCallURL&&(a=this.OnCallURL(this,a));return a}function nga_Call(a){a=this.CallURL(a);this.OnCall&&(a=this.OnCall(this,a));""!=a&&ng_Redirect(a,!1)}
function nga_CallServerURL(a){a=this.BuildURLParams(a,APPPARAM_SERVER);this.OnCallServerURL&&(a=this.OnCallServerURL(this,a));return a}function nga_CallServer(a,b){this.CallServerEx(a,void 0,b)}function nga_CallServerEx(a,b,c){a=this.CallServerURL(a);this.OnServerCall&&(a=this.OnServerCall(this,a,c,b));if(""!=a){var d=this.GetRPC(),e=d.Params;"undefined"!==typeof b&&(d.Params=b);d.sendRequest(a,c);d.Params=e}}
function nga_Param(a){this.params_parsed||(this.params_parsed=!0,this.ParseParams());var b=ng_GET(a);this.OnGetParam&&(b=this.OnGetParam(this,a,b));return b}
function nga_SetParam(a,b,c){this.params_parsed||(this.params_parsed=!0,this.ParseParams());if("object"===typeof a){this.BeginUpdateParams();for(var d in a)this.SetParam(d,a[d],c);this.EndUpdateParams()}else""!=a&&(this.BeginUpdateParams(),this.OnSetParam&&(b=this.OnSetParam(this,a,b,c)),d=!1,null===b&&(b=void 0),ngURLParams[a]!=b&&(d=!0),ngURLParams[a]=b,"undefined"===typeof b?"undefined"!==typeof this.ParamInfo&&(b=this.ParamInfo[a],"undefined"!==typeof b&&b.Type&APPPARAM_CLIENT&&d&&(this.params_changed=
!0)):"undefined"!==typeof c&&("undefined"===typeof this.ParamInfo&&(this.ParamInfo={}),b=this.ParamInfo[a],"undefined"===typeof b&&(b={},this.ParamInfo[a]=b),b.Type=c,b.Type&APPPARAM_CLIENT&&d&&(this.params_changed=!0)),this.EndUpdateParams())}function nga_SetParamEncodingFnc(a,b,c){"undefined"===typeof this.ParamInfo&&(this.ParamInfo={});var d=this.ParamInfo[a];"undefined"===typeof d&&(d={},this.ParamInfo[a]=d);d.Encode=b;d.Decode=c}
function nga_SetClientParam(a,b){this.SetParam(a,b,APPPARAM_CLIENT)}function nga_SetURLParam(a,b){this.SetParam(a,b,APPPARAM_URL)}function nga_SetServerParam(a,b){this.SetParam(a,b,APPPARAM_SERVER)}function nga_ParamType(a){this.params_parsed||(this.params_parsed=!0,this.ParseParams());if("undefined"!==typeof this.ParamInfo)return a=this.ParamInfo[a],"undefined"!==typeof a&&a?ngVal(a.Type,APPPARAM_URL):void 0}
function nga_PersistParam(a,b){if("object"===typeof a)for(var c=0;c<a.length;c++)this.PersistParam(a[c],b);else if(""!=a){b=ngVal(b,!0);if("undefined"===typeof this.ParamInfo)if(b)this.ParamInfo={};else return;c=this.ParamInfo[a];if("undefined"===typeof c||!c)if(b)c={},this.ParamInfo[a]=c;else return;c.Persist=b}}
function nga_SetParamType(a,b){b=ngVal(b,APPPARAM_URL);if("object"===typeof a)for(var c=0;c<a.length;c++)this.SetParamType(a[c],b);else""!=a&&(this.params_parsed||(this.params_parsed=!0,this.ParseParams()),"undefined"===typeof this.ParamInfo&&(this.ParamInfo={}),c=this.ParamInfo[a],"undefined"!==typeof c&&c||(c={},this.ParamInfo[a]=c),c.Type=b)}function nga_BeginUpdateParams(){this.params_update_cnt++}
function nga_EndUpdateParams(){this.params_update_cnt--;0>=this.params_update_cnt&&(this.params_changed&&this.UpdateParams(),this.params_update_cnt=0)}function nga_ParseParams2(a,b){var c={};if(""==a)return c;for(var d=a.split(b),e,g=0;g<d.length;g++)e=d[g].split("="),"amp;"==e[0].substr(0,4)&&(e[0]=e[0].substr(4)),c[ng_unescape(e[0])]=1<e.length?e[1]:null;return c}
function nga_ParseParams(a){ngURLParams={};a=ngVal(a,window.location.href);var b=a.indexOf("?"),c=a.indexOf("#"),d="",e="";0<=c&&(e=a.substr(c+1),a=a.substr(0,c));0<=b&&(d=a.substr(b+1));a=nga_ParseParams2(d,"&");for(var g in a)ngURLParams[g]=a[g];e=nga_ParseParams2(e,"@");for(g in e)ngURLParams[g]=e[g];"undefined"===typeof this.ParamInfo&&(this.ParamInfo={});for(g in a){b=this.ParamInfo[g];"undefined"===typeof b&&(b={},this.ParamInfo[g]=b);b.Type=APPPARAM_URL;c=a[g];if("function"===typeof b.Decode){if("undefined"===
typeof c||"function"===typeof c)continue;c=b.Decode(c)}else if(this.OnDecodeParam)c=this.OnDecodeParam(this,g,c);else{if("undefined"===typeof c||"function"===typeof c)continue;c=ng_unescape(c)}"undefined"!==typeof c&&"function"!==typeof c&&(ngURLParams[g]=c)}for(g in e){b=this.ParamInfo[g];"undefined"===typeof b&&(b={},this.ParamInfo[g]=b);b.Type=APPPARAM_CLIENT;c=e[g];if("function"===typeof b.Decode){if("undefined"===typeof c||"function"===typeof c)continue;c=b.Decode(c)}else if(this.OnDecodeParam)c=
this.OnDecodeParam(this,g,c);else{if("undefined"===typeof c||"function"===typeof c)continue;c=ng_unescape(c)}"undefined"!==typeof c&&"function"!==typeof c&&(ngURLParams[g]=c)}ngURLParamsParsed=!0;this.LocationHash=window.location.hash}
function nga_UpdateParams(){this.params_changed=!1;if("undefined"!==typeof this.ParamInfo){var a="",b,c,d;for(d in this.ParamInfo)if(b=this.ParamInfo[d],"undefined"!==typeof b&&b&&ngVal(b.Type,APPPARAM_URL)&APPPARAM_CLIENT)if(c=this.Param(d),ngVal(b.Persist,!1)){if("function"===typeof b.Encode){if("undefined"===typeof c||"function"===typeof c)continue;c=b.Encode(d)+"="+b.Encode(c)}else if(this.OnEncodeParam)c=this.OnEncodeParam(this,d,c);else{if("undefined"===typeof c||"function"===typeof c)continue;
c=ng_HashEncode(d)+"="+ng_HashEncode(c)}"undefined"!==typeof c&&"function"!==typeof c&&(""!=a&&(a+="@"),a+=c)}else delete this.ParamInfo[d],delete ngURLParams[d];if(""!=a||""!=window.location.hash)a="#"+a;if(window.location.hash!=a){try{window.location.hash=a}catch(e){}this.LocationHash=window.location.hash;(b=document.getElementById("ngAppHistFix"))&&ngIExplorer&&9>ngIExplorerVersion&&nga_WriteIFRAMEHistory(b,a);nga_CheckParamChange()}}}
function nga_WriteIFRAMEHistory(a,b){if(!ngWinStoreApp){var c=a.contentDocument?a.contentDocument:a.contentWindow.document;c&&(c.open(),c.domain!=document.domain&&(c.domain=document.domain),c.write("<html><body onload=\"if(parent) { if(parent.window.location.hash!='"+b+"') { parent.window.location.hash='"+b+"'; parent.nga_CheckParamChange(); } }\"></body></html>"),c.close())}}var nga_CheckParamChangeMode;
function nga_CheckParamChange(){"undefined"===typeof nga_CheckParamChangeMode&&(nga_CheckParamChangeMode=0,"onhashchange"in window&&(!ngIExplorer||7<ngIExplorerVersion)&&(window.onhashchange=ngAddEvent(window.onhashchange,nga_CheckParamChange),nga_CheckParamChangeMode=1));if("object"===typeof ngApp&&ngApp){ngApp.url_history_timer&&clearTimeout(ngApp.url_history_timer);ngApp.url_history_timer=null;try{ngApp.LocationHash!=window.location.hash&&ngApp.DoParamsChanged(),nga_CheckParamChangeMode||(ngApp.url_history_timer=
setTimeout("nga_CheckParamChange()",300))}catch(a){}}}function nga_DoParamsChanged(){this.ParseParams();this.OnInternalParamsChanged&&this.OnInternalParamsChanged(this);this.OnParamsChanged&&this.OnParamsChanged(this)}function nga_SetOnParamsChanged2(a){this.OnParamsChanged=a}
function nga_InitParamsChanged(){var a=document.getElementById("ngAppHistFix");if(!a){ngIExplorer&&9>ngIExplorerVersion&&(a=document.createElement("iframe"),a.src="javascript:void((function(){document.open();if(document.domain!='"+document.domain+"') document.domain='"+document.domain+"';document.close();if(typeof parent.nga_WriteIFRAMEHistory==\"function\")parent.nga_WriteIFRAMEHistory(parent.document.getElementById('ngAppHistFix'),parent.ngApp.LocationHash);})())");ngOpera&&(a=document.createElement("img"),
a.src="javascript:location.href='javascript:nga_CheckParamChange();';");if(a){var b="object"===typeof ngApp&&ngApp?ngApp.Elm():document.body;a.id="ngAppHistFix";a.style.visibility="hidden";a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.width="0px";a.style.height="0px";b.appendChild(a)}nga_CheckParamChange()}}function nga_SetOnParamsChanged(a){this.OnParamsChanged=a;"function"===typeof a&&nga_InitParamsChanged()}
function nga_FloatVersion(a){a=a.replace(/[^0-9.]/g,"");return parseFloat(a)}
function nga_RegisterAPI(a,b,c,d){if(""==ngVal(a,"")||"object"!==typeof b)return!1;b.StrVersion=ngVal(c,ngVal(b.StrVersion,ngVal(""+b.Version,"1.0")));b.Version=nga_FloatVersion(b.StrVersion);"undefined"===typeof d&&(d="undefined"!==typeof ngCurModule&&ngCurModule?ngCurModule:this);"undefined"===typeof b.Owner&&(b.Owner=d);c=this.APIs[a];"undefined"===typeof c&&(c={},c.ID=a,c.Versions={},this.APIs[a]=c);for(d=0;d<c.Versions.length;d++){a=c.Versions[d];if(a.Version==b.Version){if(a.Owner==b.Owner)return!1;
break}if(a.Version<b.Version)break}"undefined"===typeof b.AddEvent&&(b.AddEvent=ngObjAddEvent);"undefined"===typeof b.RemoveEvent&&(b.RemoveEvent=ngObjRemoveEvent);c.Versions.splice(d,0,b);return!0}
function nga_UnregisterAPI(a,b,c){if(""==ngVal(a,""))return!1;var d=this.APIs[a];if("undefined"===typeof d)return!1;c=ngVal(c,"");if("undefined"===typeof b&&""==c)return delete this.APIs[a],!0;var e=""!=c?nga_FloatVersion(c):0,g,k,n=!1;for(k=d.Versions.length-1;0<=k;k--)if(g=d.Versions[k],"undefined"!==typeof b&&g.Owner==b||""!=c&&g.Version==e)n=!0,d.Versions.splice(k,1);d.Versions.length||delete this.APIs[a];return n}
function nga_GetAPIAll(a,b,c){var d=[];a=this.APIs[a];if("undefined"===typeof a)return d;a=a.Versions;if(!a.length)return d;b=ngVal(b,"");c=ngVal(c,"");for(var e,g=null,k=""!=b?nga_FloatVersion(b):0,n=""!=c?nga_FloatVersion(c):0,r=[],u=0;u<a.length;u++)if(g=a[u],!(""!=c&&g.Version>n)){if(""!=b&&g.Version<k)break;for(e=r.length-1;0<=e&&r[e]!=g.Owner;e--);0<=e||(d[d.length]=g,r[r.length]=g.Owner)}return d}
function nga_GetAPIAllByStrVersion(a,b){var c=[],d=this.APIs[a];if("undefined"===typeof d)return c;for(var e,g=d.Versions,k=[],n=0;n<g.length;n++)if(e=g[n],e.StrVersion==b){for(d=k.length-1;0<=d&&k[d]!=e.Owner;d--);0<=d||(c[c.length]=e,k[k.length]=e.Owner)}return c}
function nga_GetAPI(a,b,c){a=this.APIs[a];if("undefined"===typeof a)return null;a=a.Versions;if(!a.length)return null;b=ngVal(b,"");c=ngVal(c,"");if(""==b&&""==c)return a[0];for(var d=null,e=""!=b?nga_FloatVersion(b):0,g=""!=c?nga_FloatVersion(c):0,k=0;k<a.length;k++)if(d=a[k],!(""!=c&&d.Version>g)){if(""!=b&&d.Version<e)return null;break}return d}
function nga_GetAPIByStrVersion(a,b){var c=this.APIs[a];if("undefined"===typeof c)return null;for(var c=c.Versions,d=0;d<c.length;d++)if(c[d].StrVersion==b)return c[d];return null}
function nga_ProcessInvokeLater(){if(ngApp&&(clearTimeout(ngApp.invokelater_timer),ngApp.invokelater_timer=null,0<ngApp.invokelater_events.length)){var a=ngApp.invokelater_events[0];ngApp.invokelater_events.splice(0,1);"function"===typeof a&&a();0<ngApp.invokelater_events.length&&(ngApp.invokelater_timer=setTimeout(nga_ProcessInvokeLater,1))}}
function nga_InvokeLater(a){"function"===typeof a&&(this.invokelater_timer||(this.invokelater_timer=setTimeout(nga_ProcessInvokeLater,1)),this.invokelater_events.push(a))}
function ngApplication(a,b,c){ngApp=this;var d="object"===typeof ngLib&&ngLib?ngLib["controls.js"]:null;if("object"===typeof d&&d){var e={path:d.path+(ngDEBUG?"debug":"release")+"/libs/ng_controls/"};"undefined"!==typeof d.URL&&(e.URL=d.URL);ngLib.ng_controls=e}this.StartParams="undefined"!==typeof a?a:{};if(ngIExplorer6)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}this.AppPath="";try{var g=ng_StripURLParams(""+window.location.href);0<g.length&&"/"===g.charAt(g.length-1)&&(this.AppPath=
g);var k=g.lastIndexOf("/");0<k&&(this.AppPath=g="/"==g.charAt(k-1)?g+"/":g.substring(0,k+1))}catch(n){}this.LangVariant=this.LangCountry=this.Lang="";"object"===typeof b&&(b=b.id);this.ElmID=ngVal(b,"ngApp");this.TopElmID=null;this.LocationHash="";try{this.LocationHash=window.location.hash}catch(n){}this.State=ngaStateStopped;this.MobileKeyboardFix=!0;this.GetLang=nga_GetLang;this.SetLang=nga_SetLang;this.SetLangById=nga_SetLangById;this.DetectLang=nga_DetectLang;this.DetectLangEx=nga_DetectLangEx;
this.Text=nga_Text;this.Resource=nga_Resource;this.BeginAsyncInit=nga_BeginAsyncInit;this.EndAsyncInit=nga_EndAsyncInit;this.Run=nga_Run;this.SetTitle=nga_SetTitle;this.Alert=this.MessageBox=nga_MessageBox;this.Confirm=function(a){return this.MessageBox(a,!0)};this.params_parsed=!1;this.Param=nga_Param;this.SetParam=nga_SetParam;this.SetClientParam=nga_SetClientParam;this.SetURLParam=nga_SetURLParam;this.SetServerParam=nga_SetServerParam;this.ParamType=nga_ParamType;this.SetParamType=nga_SetParamType;
this.SetParamEncodingFnc=nga_SetParamEncodingFnc;this.PersistParam=nga_PersistParam;this.ParseParams=nga_ParseParams;this.UpdateParams=nga_UpdateParams;this.DoParamsChanged=nga_DoParamsChanged;this.params_changed=!1;this.params_update_cnt=0;this.BeginUpdateParams=nga_BeginUpdateParams;this.EndUpdateParams=nga_EndUpdateParams;this.url_history_timer=null;this.invokelater_events=[];this.InvokeLater=nga_InvokeLater;this.BuildURLParams=nga_BuildURLParams;this.CallURL=nga_CallURL;this.Call=nga_Call;this.RPC=
null;this.CallServerURL=nga_CallServerURL;ngOnRPCCreated=ngAddEvent(ngOnRPCCreated,nga_AddRPCLang);this.CallServer=nga_CallServer;this.CallServerEx=nga_CallServerEx;this.GetRPC=nga_GetRPC;this.Elm=nga_Elm;this.TopElm=nga_TopElm;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.SetOnParamsChanged=nga_SetOnParamsChanged2;this.APIs={};this.RegisterAPI=nga_RegisterAPI;this.UnregisterAPI=nga_UnregisterAPI;this.GetAPI=nga_GetAPI;this.GetAPIAll=nga_GetAPIAll;this.GetAPIByStrVersion=nga_GetAPIByStrVersion;
this.GetAPIAllByStrVersion=nga_GetAPIAllByStrVersion;this.OnDeviceChanged=this.OnLangChanged=this.OnServerCall=this.OnCallServerURL=this.OnCall=this.OnCallURL=this.OnEncodeParam=this.OnDecodeParam=this.OnGetParam=this.OnSetParam=this.OnInternalParamsChanged=this.OnParamsChanged=this.OnRunInternalFinished=this.OnRunFinished=this.OnRun=null;window.onresize=ngAddEvent(window.onresize,nga_OnResize);ngVal(c,!0)&&this.Run()}
function ngControls(a,b){if("undefined"===typeof b){var c=document.getElementById("object"===typeof ngApp&&ngApp?ngApp.ElmID:"ngApp");c&&(b=c)}"object"===typeof a&&ngCreateControls(a,this,b);this.Update=function(){ngUpdateControls(this)};this.Release=function(){ngReleaseControls(this)};this.Dispose=function(){ngDisposeControls(this)};this.AddControls=function(a,b){ngCreateControls(a,this,b)}};function ngSysContainer_Create(a,b,c){a.ParentReferences=ngVal(a.ParentReferences,!1);return new ngSysContainer}function ngSysContainer(a){ngSysControl(this,a,"ngSysContainer");ngControlCreated(this)}function ngtm_DoTimer(){return this.OnTimer?this.OnTimer(this,this.timer_tickcnt):!1}function ngtm_IsStarted(){return null!==this.timer_id}
function ngtm_Start(){if(!this.IsStarted())if(this.timer_interval=ngVal(this.Interval,0),this.timer_repeat=ngVal(this.Repeat,!0),this.OnStart&&!ngVal(this.OnStart(this),!1)||0>=this.timer_interval||"number"===typeof this.timer_repeat&&0>=this.timer_repeat)this.Stop();else{var a=this;this.timer_tickcnt=0;this.timer_id=this.timer_repeat?setInterval(function(){a.timer_tickcnt++;(!ngVal(a.DoTimer(),!1)||"number"===typeof a.timer_repeat&&a.timer_tickcnt>=a.timer_repeat)&&a.Stop()},this.timer_interval):
setTimeout(function(){a.timer_tickcnt++;a.DoTimer();a.Stop()},this.timer_interval)}}function ngtm_Stop(){this.IsStarted()&&(this.OnStop&&this.OnStop(this,this.timer_tickcnt),this.timer_id&&(this.timer_repeat?clearInterval(this.timer_id):clearTimeout(this.timer_id)),this.timer_id=null,this.timer_interval=this.timer_repeat=void 0)}function ngtm_Restart(){this.Stop();this.Start()}
function ngTimer(a,b,c){this.timer_id=null;this.timer_repeat=this.timer_interval=void 0;this.timer_tickcnt=0;this.DoTimer=ngtm_DoTimer;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.Interval=ngVal(b,1E3);this.Repeat=ngVal(c,!0);this.Start=ngtm_Start;this.Stop=ngtm_Stop;this.Restart=ngtm_Restart;this.IsStarted=ngtm_IsStarted;this.OnTimer=ngVal(a,null);this.OnStop=this.OnStart=null}
function ngstm_DoSetEnabled(a){(this.Enabled=a)?this.Start.original.apply(this):this.Stop.original.apply(this)}function ngstm_DoCreate(a,b){var c;c="object"===typeof a.Data&&a.Data?ngVal(a.Data.Enabled,this.Enabled):this.Enabled;ngVal(c,!0)&&this.Start.original.apply(this)}function ngstm_DoDispose(){this.Stop();return!0}function ngstm_Start(){this.SetEnabled(!0)}function ngstm_Stop(){this.SetEnabled(!1)}
function ngSysTimer(a){ngSysControl(this,a,"ngSysTimer");ngTimer.apply(this);this.DoSetEnabled=ngstm_DoSetEnabled;this.DoCreate=ngstm_DoCreate;this.DoDispose=ngstm_DoDispose;a=this.Start;this.Start=ngstm_Start;this.Start.original=a;a=this.Stop;this.Stop=ngstm_Stop;this.Stop.original=a;ngControlCreated(this)}function ngsrpc_DoDispose(){""!=ngVal(this.id,"")&&delete ngRPCByID[this.id];return!0}function ngsrpc_sendRequest(a,b){return this.Enabled?this.sendRequest.original.apply(this,[a,b]):!1}
function ngSysRPC(a){ngSysControl(this,a,"ngSysRPC");ngRPC.apply(this,[a]);a=this.sendRequest;this.DoDispose=ngsrpc_DoDispose;this.sendRequest=ngsrpc_sendRequest;this.sendRequest.original=a;ngControlCreated(this)}function ngsurl_DoDispose(){this._inittimer&&clearTimeout(this._inittimer);this._inittimer=null;"object"===typeof ngApp&&ngApp&&ngApp.RemoveEvent("OnParamsChanged",this._paramschanged);return!0}
function ngsurl_DoSetEnabled(a){if(this.Enabled=a)if(this._initialized)this.URLParamsChanged(),this._params_changed&&0>=this._update_cnt&&(this._params_changed=!1,this.DoParamsChanged());else{var b=this;this._inittimer=setTimeout(function(){b.Initialize()},1)}else this._inittimer&&clearTimeout(this._inittimer),this._inittimer=null}
function ngsurl_URLParamsChanged(){if(this.Enabled&&this._initialized){var a=!1,b;for(b in this.Params){var c=this.GetParam(b);c===this.Params[b]||this.OnUpdate&&!ngVal(this.OnUpdate(this,b,c),!1)||(a=!0,this.Params[b]=c)}a&&this.DoParamsChanged()}}function ngsurl_DoCreate(a,b){if("object"===typeof ngApp&&ngApp&&(ngApp.AddEvent("OnParamsChanged",this._paramschanged),this.Enabled)){var c=this;this._inittimer=setTimeout(function(){c.Initialize()},1)}}
function ngsurl_Initialize(){if("object"===typeof ngApp&&ngApp&&!this._initialized)try{this.SetEnabled(!0);this._inittimer&&clearTimeout(this._inittimer);this._inittimer=null;for(var a in this.Params){var b=this.GetParam(a);this.OnInit&&!ngVal(this.OnInit(this,a,b),!1)||ngApp.PersistParam(a,!0);this.Params[a]=b}this.OnInitialized&&this.OnInitialized(this)}finally{this._initialized=!0}}
function ngsurl_DoParamsChanged(){0<this._update_cnt||!this.Enabled||!this._initialized?this._params_changed=!0:this.OnParamsChanged&&this.OnParamsChanged(this)}function ngsurl_BeginUpdate(){this._update_cnt++;"object"===typeof ngApp&&ngApp&&ngApp.BeginUpdateParams()}
function ngsurl_EndUpdate(){"object"===typeof ngApp&&ngApp&&ngApp.EndUpdateParams();this._update_cnt--;0>=this._update_cnt&&(this._update_cnt=0,this._params_changed&&this.Enabled&&this._initialized&&(this._params_changed=!1,this.DoParamsChanged()))}
function ngsurl_SetParam(a,b){if("object"===typeof ngApp&&ngApp){var c,d=!1;if("undefined"===typeof this.Params[a]&&"undefined"===typeof ngApp.ParamType(a))ngApp.PersistParam(a,!0);else if(!this.Enabled||!this._initialized)return;"undefined"===typeof this.DefaultValues[a]||"undefined"!==typeof b&&""!=b&&null!==b&&b!=this.DefaultValues[a]?c=b:(b=void 0,c=this.DefaultValues[a]);c!==this.Params[a]&&(this.Params[a]=c,d=!0);this.Enabled&&this._initialized&&(this.OnSetParam&&(b=this.OnSetParam(this,a,b)),
ngApp.SetClientParam(a,b),d&&this.DoParamsChanged())}}function ngsurl_GetParam(a){if("object"===typeof ngApp&&ngApp){var b=ngApp.Param(a);this.OnGetParam&&(b=this.OnGetParam(this,a,b));"undefined"!==typeof b&&""!=b&&null!==b||"undefined"===typeof this.DefaultValues[a]||(b=this.DefaultValues[a]);return b}}function ngsurl_GetValues(){var a={},b;for(b in this.Params)a[b]=this.GetParam(b);return a}
function ngsurl_SetValues(a){if(!ng_EmptyVar(a)&&"object"===typeof ngApp&&ngApp){this.BeginUpdate();try{for(var b in a)this.SetParam(b,a[b])}finally{this.EndUpdate()}}}
function ngSysURLParams(a){ngSysControl(this,a,"ngSysURLParams");this._initialized=!1;this._inittimer=null;this._update_cnt=0;this._params_changed=!1;this.DefaultValues={};this.Params={};var b=this;this._paramschanged=function(){b.URLParamsChanged(b)};this.URLParamsChanged=ngsurl_URLParamsChanged;this.DoParamsChanged=ngsurl_DoParamsChanged;this.DoCreate=ngsurl_DoCreate;this.DoDispose=ngsurl_DoDispose;this.DoSetEnabled=ngsurl_DoSetEnabled;this.GetParam=ngsurl_GetParam;this.SetParam=ngsurl_SetParam;
this.GetValues=ngsurl_GetValues;this.SetValues=ngsurl_SetValues;this.Initialize=ngsurl_Initialize;this.BeginUpdate=ngsurl_BeginUpdate;this.EndUpdate=ngsurl_EndUpdate;this.OnParamsChanged=this.OnInitialized=this.OnSetParam=this.OnGetParam=this.OnUpdate=this.OnInit=null;ngControlCreated(this)}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.system={Lib:"ng_controls",ControlsGroup:"System",OnInit:function(){ngRegisterControlType("ngSysContainer",ngSysContainer_Create);ngRegisterControlType("ngSysTimer",function(){return new ngSysTimer});ngRegisterControlType("ngSysRPC",function(){return new ngSysRPC});ngRegisterControlType("ngSysURLParams",function(){return new ngSysURLParams})}};var ngSettingsByID={},ngSettingsLastID=0,ngOnSettingsCreated="undefined"!==typeof ngOnSettingsCreated?ngOnSettingsCreated:null;function getSettingsByID(a){return ngSettingsByID?ngSettingsByID[a]:null}
function ngset_Set(a,b){this.IsValidName(a)&&("function"===typeof b&&(b=b()),!this.OnSetSetting||ngVal(this.OnSetSetting(this,a,b),!1))&&("undefined"!==typeof b&&ng_VarEquals(this.Settings[a],b)||(this.BeginUpdate(),"undefined"===typeof b?delete this.Settings[a]:this.Settings[a]=ng_CopyVar(b),this.changed=!0,this.EndUpdate()))}
function ngset_Get(a,b){if(!this.IsValidName(a))return b;var c=ng_CopyVar(this.Settings[a]);this.OnGetSetting&&(c=this.OnGetSetting(this,a,c));"undefined"===typeof c&&(c=b);return c}function ngset_IsValidName(a){if("string"!==typeof a||""==a)return!1;var b=this.GetStorage();return b&&b.IsValidName?b.IsValidName(this,a):""==a.replace(/[a-zA-Z_$][0-9a-zA-Z_$]*/,"")}function ngset_BeginUpdate(){this.update_cnt++;this.save_timer&&(clearTimeout(this.save_timer),this.save_timer=null)}
function ngset_EndUpdate(){this.update_cnt--;if(0>=this.update_cnt&&(this.update_cnt=0,this.changed))if(0<this.DelayedSave){this.save_timer&&clearTimeout(this.save_timer);var a=this;this.save_timer=setTimeout(function(){a.Save()},this.DelayedSave)}else this.Save()}
function ngset_GetStorage(){var a=null;this.OnGetStorage&&(a=ngVal(this.OnGetStorage(this),null));if(!a){if("object"!==typeof this.Storages||!this.Storages)return null;a=this.StorageType;if(""==a||"auto"===a){var b,c=0,a="",d;for(d in this.Storages)(b=this.Storages[d])&&b.IsActive&&b.IsActive()&&(b=ngVal(b.Priority,.5),1<b&&(b=1),0>b&&(b=0),b>c&&(a=d,c=b));if(""==a)return ngDEBUGWARN("ngSettings: Storages doesn't exists or all inactive!"),null;""==this.StorageType&&(this.StorageType=a)}a=ngVal(this.Storages[a],
null)}a||ngDEBUGWARN("ngSettings: Storage not found!");return!a||a.IsActive&&a.IsActive()?a:(ngDEBUGWARN("ngSettings: Selected storage is not active!"),null)}function ngset_Clear(){var a=this.GetStorage();if(a&&a.Clear&&a.Clear(this))this.Settings={},this.changed=!1;else for(var b in this.Settings){this.BeginUpdate();this.Settings={};this.changed=!0;this.EndUpdate();break}}
function ngset_Load(){if(!this.OnSettingsLoading||ngVal(this.OnSettingsLoading(this),!1)){var a=this.GetStorage();a&&a.Load&&(this.AllowStorageMigration?this.migration_data={storage:a,altstorage:null,used_storages:[]}:delete this.migration_data,a.Load(this))}}
function ngset_DataLoaded(a,b){if("object"!==typeof b||!b){if("object"===typeof this.migration_data&&"object"===typeof this.Storages&&this.Storages){this.migration_data.used_storages.push(a);var c=null,d,e,g=0,k;for(k in this.Storages)if((e=this.Storages[k])&&e.Load&&e.IsActive&&e.IsActive()){for(var n in this.migration_data.used_storages)if(this.migration_data.used_storages[n]===e){e=null;break}e&&(d=ngVal(e.Priority,.5),1<d&&(d=1),0>d&&(d=0),d>g&&(c=e,g=d))}if(c){this.migration_data.altstorage=
c;c.Load(this);return}delete this.migration_data}b={}}if(!this.OnDataLoaded||ngVal(this.OnDataLoaded(this,b,a),!1))if(this.Settings=ng_CopyVar(b),this.changed=!1,this.OnSettingsLoaded&&this.OnSettingsLoaded(this,a),"object"===typeof this.migration_data){if(this.migration_data.altstorage&&this.migration_data.storage.Save&&(c=ng_CopyVar(this.Settings),!this.OnDataSave||ngVal(this.OnDataSave(this,c),!1))){this.migration_data.storage.Save(this,c);return}delete this.migration_data}}
function ngset_Save(){if(!this.OnSettingsSaving||ngVal(this.OnSettingsSaving(this),!1)){this.save_timer&&(clearTimeout(this.save_timer),this.save_timer=null);var a=this.GetStorage();if(a&&a.Save){var b=ng_CopyVar(this.Settings);if(!this.OnDataSave||ngVal(this.OnDataSave(this,b),!1))a.Save(this,b),this.changed=!1}}}
function ngset_DataSaved(a){if("object"===typeof this.migration_data&&this.migration_data.storage===a){var b=this.migration_data.altstorage;delete this.migration_data;b&&(b.Clear?b.Clear(this):b.Save&&b.Save(this,{}))}this.OnSettingsSaved&&this.OnSettingsSaved(this,a)}
function ngSettings(a,b){"undefined"===typeof a&&(ngSettingsLastID++,a="ngSettings"+ngSettingsLastID);this.update_cnt=this.changed=!1;this.save_timer=null;ngSettingsByID[a]=this;this.SettingsID=a;this.Settings={};this.StorageType="";this.Storages="object"===typeof ngApp&&ngApp&&"object"===typeof ngApp.SettingsStorages&&ngApp.SettingsStorages?ngApp.SettingsStorages:{};this.AllowStorageMigration=!0;this.DelayedSave=200;this.Set=ngset_Set;this.Get=ngset_Get;this.BeginUpdate=ngset_BeginUpdate;this.EndUpdate=
ngset_EndUpdate;this.IsValidName=ngset_IsValidName;this.Clear=ngset_Clear;this.Load=ngset_Load;this.Save=ngset_Save;this.DataLoaded=ngset_DataLoaded;this.DataSaved=ngset_DataSaved;this.GetStorage=ngset_GetStorage;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.OnGetStorage=this.OnDataSave=this.OnDataLoaded=this.OnSettingsLoaded=this.OnSettingsLoading=this.OnSettingsSaved=this.OnSettingsSaving=this.OnGetSetting=this.OnSetSetting=null;"object"===typeof b&&b&&ng_MergeVarReplace(this,
b);ngOnSettingsCreated&&ngOnSettingsCreated(this)}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.settings={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){"object"===typeof ngApp&&ngApp&&"undefined"===typeof ngApp.Settings&&(window.ngInit=ngAddEvent(function(){if("undefined"===typeof ngApp.Settings){var a=ngVal(ngApp.StartParams,null);ngApp.Settings=new ngSettings("ngAppSettings",a?a.AppSettingsOptions:null);ngApp.Settings.Load()}},window.ngInit))}};var ngsCookieMaxLen="undefined"===typeof ngsCookieMaxLen?4050:ngsCookieMaxLen;"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.settings_cookies={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){function a(a,b,c){if(a.IsValidName(b)){if("undefined"===typeof c)return c;c=this.OnEncodeSetting?this.OnEncodeSetting(this,b,c,a):ng_URLEncode(c);return c=c.replace("%40","%u0040")}}function b(a,b){if("object"!==typeof b||!b)return"";var c,d="",e;for(e in b)c=b[e],"object"===typeof c&&c?(""!=d&&(d+="@"),d+=e+"@{@"+this.BuildSettingsStr(a,c)+"@}"):(c=this.EncodeSetting(a,e,c),"undefined"!==typeof c&&(""!=d&&(d+=
"@"),d+=e+"-"+c));return d}function c(){this.rpc||(this.rpc=new ngRPC,this.rpc.nocache=!0);return this.rpc}function d(){return""!=this.StorageURL&&!ngCordova}function e(a){if(""!=this.StorageURL)if("undefined"!==typeof window.ngLoadedSettings){var b=window.ngLoadedSettings;delete ngLoadedSettings;a.DataLoaded(this,b)}else(b=this.GetRPC())&&b.sendRequest(ng_AddURLParam(this.StorageURL,"load=1&id="+a.SettingsID))}function g(a,b){var c=this.StorageURL;if(""!=c){var d,e=this.BuildSettingsStr(a,b);d=1;
if(""!=e)for(;""!=e&&!(ngSetCookieByURL("_ngs"+d,e.substr(0,ngsCookieMaxLen),this.StorageExpires,c,!1),e=e.substring(ngsCookieMaxLen,e.length),d++,50<d););for(e=ngCookieExpires(-3600);50>=d;d++)ngSetCookieByURL("_ngs"+d,"",e,c,!1);a.DataSaved(this)}}window.ngset_do_load=function(a,b){if("undefined"!==typeof b){var c=getSettingsByID(a);c&&c.DataLoaded(this,b)}};window.ngSettingsCookiesStorage=function(k){this.rpc=null;this.Priority=.2;this.StorageURL=ngVal(k,"");this.StorageExpires=ngCookieExpires(31536E4);
this.EncodeSetting=a;this.BuildSettingsStr=b;this.GetRPC=c;this.IsActive=d;this.Load=e;this.Save=g;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.OnEncodeSetting=null};if("object"===typeof ngApp&&ngApp){var k,n=ngVal(ngApp.StartParams,null);n&&"undefined"!==typeof n.AppSettingsStorageURL&&(k=n.AppSettingsStorageURL,"http"!=k.substr(0,4)&&("/"==k.substr(0,1)?(n=ngApp.AppPath.indexOf("//"),0<=n&&(n=ngApp.AppPath.indexOf("/",n+2),k=0<=n?ngApp.AppPath.substr(0,n)+k:ngApp.AppPath+k)):
k=ngApp.AppPath+k));"undefined"===typeof ngApp.SettingsStorages&&(ngApp.SettingsStorages={});ngApp.SettingsStorages.Cookies=new ngSettingsCookiesStorage(k)}}};"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.settings_localstorage={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){function a(a){var b=ngVal(this.StorageId,"");if(""!=b){a={Owner:a,StorageID:b};if(this.OnClearData&&!ngVal(this.OnClearData(this,a),!1))return!1;try{""!=a.StorageID&&window.localStorage.removeItem(a.StorageID)}catch(c){}}return!0}function b(){return""!=ngVal(this.StorageId,"")&&"localStorage"in window&&null!==window.localStorage}function c(a){var b=ngVal(this.StorageId,"");if(""!=b&&(b={Owner:a,StorageID:b,
Settings:void 0,LoadData:void 0},!this.OnLoadingData||ngVal(this.OnLoadingData(this,b),!1))){if(""!=b.StorageID)try{b.LoadData=window.localStorage.getItem(b.StorageID)}catch(c){}if(!this.OnLoadData||ngVal(this.OnLoadData(this,b),!1)){if("undefined"===typeof b.Settings)try{""!=b.LoadData&&(b.Settings=JSON.parse(b.LoadData))}catch(c){}"object"===typeof b.Settings&&b.Settings||(b.Settings=null);a.DataLoaded(this,b.Settings)}}}function d(a,b){var c=ngVal(this.StorageId,"");if(""!=c&&(c={Owner:a,StorageID:c,
Settings:b,SaveData:void 0},!this.OnSaveData||ngVal(this.OnSaveData(this,c),!1))){"undefined"===typeof c.SaveData&&(c.SaveData=JSON.stringify(c.Settings));if(""!=c.StorageID)try{window.localStorage.setItem(c.StorageID,c.SaveData)}catch(d){return}a.DataSaved(this)}}window.ngSettingsLocalStorage=function(e){this.StorageId=ngVal(e,"");this.IsActive=b;this.Load=c;this.Save=d;this.Clear=a;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.OnClearData=this.OnSaveData=this.OnLoadData=this.OnLoadingData=
null};if("object"===typeof ngApp&&ngApp){var e="settings/",g=ngVal(ngApp.StartParams,null);g&&"undefined"!==typeof g.AppSettingsStorageURL&&(e=g.AppSettingsStorageURL);0>e.indexOf("//")&&"/"!==e.substr(0,1)&&(g=ngApp.AppPath.indexOf("//"),0<=g&&(g=ngApp.AppPath.indexOf("/",g+2),0<=g&&(e=ngApp.AppPath.substr(g,ngApp.AppPath.length)+e)));"undefined"===typeof ngApp.SettingsStorages&&(ngApp.SettingsStorages={});ngApp.SettingsStorages.LocalStorage=new ngSettingsLocalStorage("ngSettings"+e)}}};var JSON;JSON||(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=n[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,n,A,z,B=g,D,C=d[a];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(a));"function"===typeof r&&(C=r.call(d,a,C));switch(typeof C){case "string":return b(C);case "number":return isFinite(C)?String(C):"null";case "boolean":case "null":return String(C);case "object":if(!C)return"null";
g+=k;D=[];if("[object Array]"===Object.prototype.toString.apply(C)){z=C.length;for(e=0;e<z;e+=1)D[e]=c(e,C)||"null";A=0===D.length?"[]":g?"[\n"+g+D.join(",\n"+g)+"\n"+B+"]":"["+D.join(",")+"]";g=B;return A}if(r&&"object"===typeof r)for(z=r.length,e=0;e<z;e+=1)"string"===typeof r[e]&&(n=r[e],(A=c(n,C))&&D.push(b(n)+(g?": ":":")+A));else for(n in C)Object.prototype.hasOwnProperty.call(C,n)&&(A=c(n,C))&&D.push(b(n)+(g?": ":":")+A);A=0===D.length?"{}":g?"{\n"+g+D.join(",\n"+g)+"\n"+B+"}":"{"+D.join(",")+
"}";g=B;return A}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=RegExp("[\x00\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]",
"g"),e=RegExp('[\\"\x00-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',"g"),g,k,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;k=g="";if("number"===typeof d)for(e=0;e<d;e+=1)k+=" ";else"string"===typeof d&&(k=d);if((r=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");
return c("",{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,g,k=a[d];if(k&&"object"===typeof k)for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&(g=c(k,e),void 0!==g?k[e]=g:delete k[e]);return b.call(a,d,k)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.dbviewmodel_err_failed="Chyba: Operace selhala.";ngc_Lang.cs.dbviewmodel_err_loadfailed="Chyba: Nepoda\u0159ilo se z\u00edskat data z\u00e1znamu.";ngc_Lang.cs.dbviewmodel_err_insertfailed="Chyba: Nepoda\u0159ilo se vlo\u017eit nov\u00fd z\u00e1znam.";ngc_Lang.cs.dbviewmodel_err_updatefailed="Chyba: Nepoda\u0159ilo se ulo\u017eit data z\u00e1znamu.";ngc_Lang.cs.dbviewmodel_err_deletefailed="Chyba: Z\u00e1znam se nepoda\u0159ilo smazat.";
ngc_Lang.cs.dbviewmodel_err_invalidargs="Chyba: Chybn\u00e9 argumenty.";ngc_Lang.cs.dbviewmodel_err_accessdenied="Chyba: P\u0159\u00edstup byl zam\u00edtnut.";ngc_Lang.cs.dbviewmodel_err_notexists="Chyba: Z\u00e1znam nebyl nalezen.";ngc_Lang.cs.dbviewmodel_err_datachanged="Od posledn\u00ed aktualizace do\u0161lo ke zm\u011bn\u011b dat. Opakujte zm\u011bny, kter\u00e9 jste provedli, a n\u00e1sledn\u011b je ulo\u017ete.";ngc_Lang.cs.dbviewmodel_err_internal="Chyba: Intern\u00ed chyba.";
ngc_Lang.cs.dbviewmodel_err_unknown="Chyba: Nezn\u00e1m\u00e1 chyba.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.viewmodel_err_unknown="Nespr\u00e1vn\u00e1 hodnota.";ngc_Lang.cs.viewmodel_err_type="Nespr\u00e1vn\u00fd typ hodnoty.";ngc_Lang.cs.viewmodel_err_type_bool="Hodnota mus\u00ed b\u00fdt ano (1) nebo ne (0).";ngc_Lang.cs.viewmodel_err_type_integer="Hodnota mus\u00ed b\u00fdt cel\u00e9 \u010d\u00edslo.";ngc_Lang.cs.viewmodel_err_type_decimal="Hodnota mus\u00ed b\u00fdt desetinn\u00e9 \u010d\u00edslo.";
ngc_Lang.cs.viewmodel_err_type_string="Hodnota mus\u00ed b\u00fdt \u0159et\u011bzec.";ngc_Lang.cs.viewmodel_err_type_datetime="Hodnota mus\u00ed b\u00fdt datum a \u010das.";ngc_Lang.cs.viewmodel_err_type_date="Hodnota mus\u00ed b\u00fdt datum.";ngc_Lang.cs.viewmodel_err_type_time="Hodnota mus\u00ed b\u00fdt \u010das.";ngc_Lang.cs.viewmodel_err_type_array="Hodnota mus\u00ed b\u00fdt pole.";ngc_Lang.cs.viewmodel_err_empty="Hodnotu je nutn\u00e9 vyplnit.";ngc_Lang.cs.viewmodel_err_min="Hodnota mus\u00ed b\u00fdt v\u011bt\u0161\u00ed nebo rovna %s.";
ngc_Lang.cs.viewmodel_err_min_novalue="Hodnota je ni\u017e\u0161\u00ed ne\u017e je povolen\u00fd limit.";ngc_Lang.cs.viewmodel_err_min_array="Po\u010det polo\u017eek mus\u00ed b\u00fdt v\u011bt\u0161\u00ed nebo rovno %d.";ngc_Lang.cs.viewmodel_err_max="Hodnota mus\u00ed b\u00fdt men\u0161\u00ed nebo rovna %s.";ngc_Lang.cs.viewmodel_err_max_novalue="Hodnota je vy\u0161\u0161\u00ed ne\u017e je povolen\u00fd limit.";ngc_Lang.cs.viewmodel_err_max_array="Po\u010det polo\u017eek mus\u00ed b\u00fdt men\u0161\u00ed nebo rovno %d.";
ngc_Lang.cs.viewmodel_err_enum="Tato hodnota nen\u00ed povolena.";ngc_Lang.cs.viewmodel_err_len="Hodnota je moc dlouh\u00e1 (max %d).";ngc_Lang.cs.viewmodel_err_len_unknown="Hodnota je moc dlouh\u00e1.";ngc_Lang.cs.viewmodel_err_format="Hodnota nen\u00ed v po\u017eadovan\u00e9m tvaru.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.viewmodel_err_www="Hodnota nen\u00ed WWW adresa.";ngc_Lang.cs.viewmodel_err_email="Hodnota nen\u00ed e-mailov\u00e1 adresa.";ngc_Lang.cs.viewmodel_err_ip4="Hodnota nen\u00ed IPv4 adresa.";ngc_Lang.cs.viewmodel_err_ip6="Hodnota nen\u00ed IPv6 adresa.";ngc_Lang.cs.viewmodel_err_ip46="Hodnota nen\u00ed IPv4 nebo IPv6 adresa.";ngc_Lang.cs.viewmodel_err_notphone="Hodnota nen\u00ed telefonn\u00ed \u010d\u00edslo.";
ngc_Lang.cs.viewmodel_err_invalidphoneprefix="Neplatn\u00e1 telefonn\u00ed p\u0159edvolba (platn\u00e9: %s).";ngc_Lang.cs.viewmodel_err_invalidphoneprefix_novalue="Neplatn\u00e1 telefonn\u00ed p\u0159edvolba .";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.dbviewmodel_err_failed="Error: Operation failed.";ngc_Lang.en.dbviewmodel_err_loadfailed="Error: Unable to get record data.";ngc_Lang.en.dbviewmodel_err_insertfailed="Error: Can't insert new record.";ngc_Lang.en.dbviewmodel_err_updatefailed="Error: Can't save record data.";ngc_Lang.en.dbviewmodel_err_deletefailed="Error: Delete record failed.";ngc_Lang.en.dbviewmodel_err_invalidargs="Error: Invalid arguments.";
ngc_Lang.en.dbviewmodel_err_accessdenied="Error: Access denied.";ngc_Lang.en.dbviewmodel_err_notexists="Error: Record not found.";ngc_Lang.en.dbviewmodel_err_datachanged="Data changed since last update. Redo changes and save again.";ngc_Lang.en.dbviewmodel_err_internal="Error: Internal error.";ngc_Lang.en.dbviewmodel_err_unknown="Error: Unknown error.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.viewmodel_err_unknown="Invalid value.";ngc_Lang.en.viewmodel_err_type="Invalid type of value.";ngc_Lang.en.viewmodel_err_type_bool="Value must be yes (1) or no (0).";ngc_Lang.en.viewmodel_err_type_integer="Value must be an integer number.";ngc_Lang.en.viewmodel_err_type_decimal="Value must be a decimal number.";ngc_Lang.en.viewmodel_err_type_string="Value must be a string.";
ngc_Lang.en.viewmodel_err_type_datetime="Value must be date and time.";ngc_Lang.en.viewmodel_err_type_date="Value must be a date.";ngc_Lang.en.viewmodel_err_type_time="Value must be a time.";ngc_Lang.en.viewmodel_err_type_array="Value must be an array.";ngc_Lang.en.viewmodel_err_empty="Value required.";ngc_Lang.en.viewmodel_err_min="Value must be greater or equal to %s.";ngc_Lang.en.viewmodel_err_min_novalue="Value is lower than allowed limit.";ngc_Lang.en.viewmodel_err_min_array="Number of items must be greater or equal to %d.";
ngc_Lang.en.viewmodel_err_max="Value must be lower or equal to %s.";ngc_Lang.en.viewmodel_err_max_novalue="Value is higher than allowed limit.";ngc_Lang.en.viewmodel_err_max_array="Number of items must lower or equal to %d.";ngc_Lang.en.viewmodel_err_enum="This value is not allowed.";ngc_Lang.en.viewmodel_err_len="Value is too long (max %d).";ngc_Lang.en.viewmodel_err_len_unknown="Value is too long.";ngc_Lang.en.viewmodel_err_format="Value is not in required format.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.viewmodel_err_www="Value is not a WWW address.";ngc_Lang.en.viewmodel_err_email="Value is not an e-mail address.";ngc_Lang.en.viewmodel_err_ip4="Value is not an IPv4 address.";ngc_Lang.en.viewmodel_err_ip6="Value is not an IPv6 address.";ngc_Lang.en.viewmodel_err_ip46="Value is not an IPv4 or IPv6 address.";ngc_Lang.en.viewmodel_err_notphone="Value is not a valid phone number.";
ngc_Lang.en.viewmodel_err_invalidphoneprefix="Invalid phone prefix (allowed: %s).";ngc_Lang.en.viewmodel_err_invalidphoneprefix_novalue="Invalid phone prefix.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.dbviewmodel_err_failed="Chyba: Oper\u00e1cia zlyhala.";ngc_Lang.sk.dbviewmodel_err_loadfailed="Chyba: Nepodarilo sa z\u00edska\u0165 d\u00e1ta z\u00e1znamu.";ngc_Lang.sk.dbviewmodel_err_insertfailed="Chyba: Nepodarilo sa vlo\u017ei\u0165 nov\u00fd z\u00e1znam.";ngc_Lang.sk.dbviewmodel_err_updatefailed="Chyba: Nepodarilo sa ulo\u017ei\u0165 data z\u00e1znamu.";
ngc_Lang.sk.dbviewmodel_err_deletefailed="Chyba: Z\u00e1znam se nepodarilo zmaza\u0165.";ngc_Lang.sk.dbviewmodel_err_invalidargs="Chyba: Chybn\u00e9 argumenty.";ngc_Lang.sk.dbviewmodel_err_accessdenied="Chyba: Pr\u00edstup bol zamietnut\u00fd.";ngc_Lang.sk.dbviewmodel_err_notexists="Chyba: Z\u00e1znam nebol n\u00e1jden\u00fd.";ngc_Lang.sk.dbviewmodel_err_datachanged="Od poslednej aktualiz\u00e1cie do\u0161lo k zmene d\u00e1t. Opakujte zmeny ktor\u00e9 ste vykonali a n\u00e1sledne ich ulo\u017ete.";
ngc_Lang.sk.dbviewmodel_err_internal="Chyba: Intern\u00e1 chyba.";ngc_Lang.sk.dbviewmodel_err_unknown="Chyba: Nezn\u00e1ma chyba.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.viewmodel_err_unknown="Nespr\u00e1vna hodnota.";ngc_Lang.sk.viewmodel_err_type="Nespr\u00e1vny typ hodnoty.";ngc_Lang.sk.viewmodel_err_type_bool="Hodnota mus\u00ed by\u0165 \u00e1no (1) alebo nie (0).";ngc_Lang.sk.viewmodel_err_type_integer="Hodnota mus\u00ed by\u0165 cel\u00e9 \u010d\u00edslo.";ngc_Lang.sk.viewmodel_err_type_decimal="Hodnota mus\u00ed by\u0165 desatinn\u00e9 \u010d\u00edslo.";
ngc_Lang.sk.viewmodel_err_type_string="Hodnota mus\u00ed by\u0165 re\u0165azec.";ngc_Lang.sk.viewmodel_err_type_datetime="Hodnota mus\u00ed by\u0165 d\u00e1tum a \u010das.";ngc_Lang.sk.viewmodel_err_type_date="Hodnota mus\u00ed by\u0165 d\u00e1tum.";ngc_Lang.sk.viewmodel_err_type_time="Hodnota mus\u00ed by\u0165 \u010das.";ngc_Lang.sk.viewmodel_err_type_array="Hodnota mus\u00ed by\u0165 pole.";ngc_Lang.sk.viewmodel_err_empty="Hodnotu je nutn\u00e9 vyplni\u0165.";ngc_Lang.sk.viewmodel_err_min="Hodnota mus\u00ed b\u00fdt v\u00e4\u010d\u0161ia alebo rovn\u00e1 %s.";
ngc_Lang.sk.viewmodel_err_min_array="Po\u010det polo\u017eiek mus\u00ed by\u0165 v\u00e4\u010d\u0161\u00ed alebo rovn\u00fd %d.";ngc_Lang.sk.viewmodel_err_min_novalue="Hodnota je ni\u017e\u0161ia ako je povolen\u00fd limit.";ngc_Lang.sk.viewmodel_err_max="Hodnota mus\u00ed b\u00fd\u0165 men\u0161ia alebo rovn\u00e1 %s.";ngc_Lang.sk.viewmodel_err_max_novalue="Hodnota je vy\u0161\u0161ia ako je povolen\u00fd limit.";ngc_Lang.sk.viewmodel_err_max_array="Po\u010det polo\u017eiek mus\u00ed by\u0165 men\u0161\u00ed alebo rovn\u00fd %d.";
ngc_Lang.sk.viewmodel_err_enum="T\u00e1to hodnota nie je povolen\u00e1.";ngc_Lang.sk.viewmodel_err_len="Hodnota je pr\u00edli\u0161 dlh\u00e1 (max %d).";ngc_Lang.sk.viewmodel_err_len_unknown="Hodnota je pr\u00edli\u0161 dlh\u00e1.";ngc_Lang.sk.viewmodel_err_format="Hodnota nie je v po\u017eadovanom tvare.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.viewmodel_err_www="Hodnota nie je WWW adresa.";ngc_Lang.sk.viewmodel_err_email="Hodnota nie je e-mailov\u00e1 adresa.";ngc_Lang.sk.viewmodel_err_ip4="Hodnota nie je IPv4 adresa.";ngc_Lang.sk.viewmodel_err_ip6="Hodnota nie je IPv6 adresa.";ngc_Lang.sk.viewmodel_err_ip46="Hodnota nie je IPv4 nebo IPv6 adresa.";ngc_Lang.sk.viewmodel_err_notphone="Hodnota nie je telef\u00f3nne \u010d\u00edslo.";
ngc_Lang.sk.viewmodel_err_invalidphoneprefix="Neplatn\u00e1 telef\u00f3nna predvo\u013eba (platn\u00e9: %s).";ngc_Lang.sk.viewmodel_err_invalidphoneprefix_novalue="Neplatn\u00e1 telef\u00f3nna predvo\u013eba .";var DBVM_NO_ERROR=0,DBVM_SUCCESS=1,DBVM_ERROR_FAILED=-1,DBVM_ERROR_INVALIDARGS=-2,DBVM_ERROR_ACCESSDENIED=-3,DBVM_ERROR_NOTEXISTS=-4,DBVM_ERROR_DATACHANGED=-5,DBVM_ERROR_FAILED_SILENT=-6,DBVM_ERROR_INTERNAL=-101,DBVM_COMMANDS="new load insert update delete cancel".split(" "),dsdbLoaded=0,dsdbInserted=1,dsdbUpdated=2,dsdbDeleted=3,dsdbNew=4,recStateNone=0,recStateLoaded=1,recStateNewRecord=2,recStateDeleted=3,recStateLoading=101,recStateInserting=102,recStateDeleting=103,recStateUpdating=104;
function ng_ViewModelFormatDBError(a,b){var c="";switch(a){case DBVM_NO_ERROR:c="";break;case DBVM_SUCCESS:c="";break;case DBVM_ERROR_FAILED_SILENT:c="";break;case DBVM_ERROR_FAILED:switch(b){case "load":c="dbviewmodel_err_loadfailed";break;case "insert":c="dbviewmodel_err_insertfailed";break;case "update":c="dbviewmodel_err_updatefailed";break;case "delete":c="dbviewmodel_err_deletefailed";break;default:c="dbviewmodel_err_failed"}break;case DBVM_ERROR_INVALIDARGS:c="dbviewmodel_err_invalidargs";
break;case DBVM_ERROR_ACCESSDENIED:c="dbviewmodel_err_accessdenied";break;case DBVM_ERROR_NOTEXISTS:c="dbviewmodel_err_notexists";break;case DBVM_ERROR_DATACHANGED:c="dbviewmodel_err_datachanged";break;case DBVM_ERROR_INTERNAL:c="dbviewmodel_err_internal";break;default:c="dbviewmodel_err_unknown"}return""!=c?ngTxt(c):""}function ngdbvm_ResetRecord(){this.Reset();this.ViewModel._RecordState(recStateNone)}function ngdbvm_EnterEditMode(){this.ViewModel._EditMode(!0)}
function ngdbvm_ExitEditMode(){this.ViewModel._EditMode(!1)}function ngdbvm_NewRecord(a){return this.Command("new",a)}function ngdbvm_CancelEdits(a){return this.Command("cancel",a)}function ngdbvm_LoadRecord(a,b){ng_typeObject(a)&&("undefined"===typeof b&&(b={}),b.PrimaryKeyValues=a);return this.Command("load",b)}function ngdbvm_InsertRecord(a,b){if(ng_typeObject(a))ngVal(b.ResetRecord,!0)&&this.Reset(),this.SetValues(a);else if(!ng_isEmpty(a))return!1;return this.Command("insert",b)}
function ngdbvm_UpdateRecord(a,b){if(ng_typeObject(a))this.SetValues(a);else if(!ng_isEmpty(a))return!1;return this.Command("update",b)}function ngdbvm_DeleteRecord(a,b){ng_typeObject(a)&&("undefined"===typeof b&&(b={}),b.PrimaryKeyValues=a);return this.Command("delete",b)}function ngdbvm_PrimaryKeyNames(){var a=[];this.ScanValues(function(b,c,d,e,g){if("_OriginalRecord"==e.substring(0,15))return!0;ngIsFieldDef(d)&&ngVal(d.Attrs.PrimaryKey,!1)&&a.push(e);return!0});return a}
function ngdbvm_GetPrimaryKeyValues(a){var b=this.PrimaryKeyNames();if((a=ngVal(a,!0))&&ng_typeObject(this.ViewModel._OriginalRecord))for(var c=0;c<b.length;c++)b[c]="_OriginalRecord."+b[c];else a=!1;b=this.GetValues(!1,b);a&&(b=b._OriginalRecord);return b}function ngdbvm_DBDataSetsNotifyChange(a,b){if(this.DBDataSets)for(var c=0;c<this.DBDataSets.length;c++)this.DBDataSets[c].DoNotifyChange(this,a,b)}
function ngdbvm_IsChanged(){var a=this.ViewModel;if(!a||!ng_typeObject(a._OriginalRecord))return!1;var b=!1;this.ScanValues(function(a,d,e,g,k){if("_OriginalRecord"==g.substring(0,15))return!0;a=a.GetFieldByID("_OriginalRecord."+g);if(ng_isEmpty(a))return!0;ko.isObservable(d)&&(d=d());if(ngIsFieldDef(e)){if(e.PrivateField)return!0;try{d=e.TypedValue(d)}catch(n){}try{a=e.TypedValue(a)}catch(n){}}ng_typeDate(d)&&(d=ng_toUnixTimestamp(d));ng_typeDate(a)&&(a=ng_toUnixTimestamp(a));return ng_VarEquals(d,
a)?!0:(b=!0,!1)});return b}function ngdbvm_BeginRecordUpdate(){this.recordchangesupdate++}function ngdbvm_EndRecordUpdate(){this.recordchangesupdate--;0>=this.recordchangesupdate&&(this.ViewModel._RecordChanged(this.IsChanged()),this.recordchangesupdate=0)}function ngdbvm_Reset(a){this.BeginRecordUpdate();try{this.__origDBVMReset(a)}finally{this.EndRecordUpdate()}}function ngdbvm_SetValues(a,b){this.BeginRecordUpdate();try{this.__origDBVMSetValues(a,b)}finally{this.EndRecordUpdate()}}
function ngdbvm_DBFieldNames(a){var b={};this.ScanValues(function(c,d,e,g,k){if("_OriginalRecord"==g.substring(0,15))return!0;!ngIsFieldDef(e)||!ngVal(e.Attrs.DBField,!1)||a&&ngVal(e.Attrs.PrimaryKey,!1)||(b[g]=e);return!0});return b}
function ngdbvm_AllDBFields(a){a=ngVal(a,!0);var b={};this.ScanValues(function(c,d,e,g,k){if("_OriginalRecord"==g.substring(0,15))return!0;ngIsFieldDef(e)&&ngVal(e.Attrs.DBField,!1)&&(c=e.Attrs.DBField)&&(!0===c&&(c=e.ID),d={DBFieldId:c,FieldDef:e},a&&(d.Value=e.GetTypedValue(!1)),b[c]=d);return!0});return b}
function ngdbvm_GetDBValues(a,b,c){b=ngVal(b,!1);c=ngVal(c,!1);a=ngVal(a,null);var d={},e,g;null===a&&(a=this.AllDBFields(!1));for(var k in a)g=a[k],e=g.FieldDef,b&&ngVal(e.Attrs.ReadOnly,!1)||c&&ngVal(e.Attrs.PrimaryKey,!1)||(g.Value=e.GetTypedValue(!1),d[k]=g);return d}
function ngdbvm_GetOriginalDBValues(a){if(!ng_typeObject(this.ViewModel._OriginalRecord))return!1;a=ngVal(a,null);null===a&&(a=this.AllDBFields(!1));var b,c,d,e;for(e in a){d=a[e];b=d.FieldDef;c=this.GetFieldValueByID("_OriginalRecord."+b.ID);try{c=b.TypedValue(c)}catch(g){}d.OriginalValue=c}return a}
function Create_ngSysDBViewModel(a,b,c){ng_MergeVar(a,{Data:{RecordStateEditMode:{recStateNewRecord:!0,recStateLoaded:!0,recStateNone:!1,recStateDeleted:!1}}});var d=ngCreateControlAsType(a,"ngSysViewModel",b,c);if(!d)return d;d.ResetRecordOnLoad=!1;d.DBDataSets=[];d.CancelEditsValues=null;d.recordchangesupdate=0;d.RecordStateEditMode={};d.NewRecord=ngdbvm_NewRecord;d.LoadRecord=ngdbvm_LoadRecord;d.InsertRecord=ngdbvm_InsertRecord;d.UpdateRecord=ngdbvm_UpdateRecord;d.DeleteRecord=ngdbvm_DeleteRecord;
d.CancelEdits=ngdbvm_CancelEdits;d.ResetRecord=ngdbvm_ResetRecord;d.EnterEditMode=ngdbvm_EnterEditMode;d.ExitEditMode=ngdbvm_ExitEditMode;d.PrimaryKeyNames=ngdbvm_PrimaryKeyNames;d.GetPrimaryKeyValues=ngdbvm_GetPrimaryKeyValues;d.IsChanged=ngdbvm_IsChanged;d.BeginRecordUpdate=ngdbvm_BeginRecordUpdate;d.EndRecordUpdate=ngdbvm_EndRecordUpdate;d.DBDataSetsNotifyChange=ngdbvm_DBDataSetsNotifyChange;d.__origDBVMReset=d.Reset;d.__origDBVMSetValues=d.SetValues;d.Reset=ngdbvm_Reset;d.SetValues=ngdbvm_SetValues;
d.DBFieldNames=ngdbvm_DBFieldNames;d.AllDBFields=ngdbvm_AllDBFields;d.GetDBValues=ngdbvm_GetDBValues;d.GetOriginalDBValues=ngdbvm_GetOriginalDBValues;d.OnNewRecord=null;d.OnInsertRecord=null;d.OnLoadRecord=null;d.OnUpdateRecord=null;d.OnDeleteRecord=null;d.OnCancelEdits=null;d.OnInsertFailed=null;d.OnLoadFailed=null;d.OnUpdateFailed=null;d.OnDeleteFailed=null;d.OnRecordInserted=null;d.OnRecordLoaded=null;d.OnRecordUpdated=null;d.OnRecordDeleted=null;d.OnDBSuccess=null;d.OnDBError=null;d.AddEvent("OnViewModelChanged",
function(a){ng_typeObject(a.ViewModel._OriginalRecord)&&a.ScanValues(function(b,c,n,r,u){if("_OriginalRecord"==r.substring(0,15)||!ko.isObservable(c)||c.monrecchanges||ngIsFieldDef(n)&&n.PrivateField)return!0;b=a.GetFieldByID("_OriginalRecord."+r);if(ng_isEmpty(b))return!0;c.monrecchanges=!0;c.subscribe(function(b){d.recordchangesupdate||a.ViewModel._RecordChanged(a.IsChanged())});return!0})});d.SetViewModel({_RecordChanged:ko.observable(!1),_RecordState:ko.observable(recStateNone),_EditMode:ko.observable(!1),
NewRecord:function(){return d.NewRecord()},LoadRecord:function(){return d.LoadRecord()},InsertRecord:function(){return d.InsertRecord()},UpdateRecord:function(){return d.UpdateRecord()},DeleteRecord:function(){return d.DeleteRecord()},CancelEdits:function(){return d.CancelEdits()},ResetRecord:function(){return d.ResetRecord()},EnterEditMode:function(){return d.EnterEditMode()},ExitEditMode:function(){return d.ExitEditMode()}});d.ViewModel._RecordState.subscribe(function(a){switch(a){case 0:a="recStateNone";
break;case 1:a="recStateLoaded";break;case 2:a="recStateNewRecord";break;case 3:a="recStateDeleted";break;case 101:a="recStateLoading";break;case 102:a="recStateInserting";break;case 103:a="recStateDeleting";break;case 104:a="recStateUpdating"}a=d.RecordStateEditMode[a];"undefined"!==typeof a&&null!==a&&d.ViewModel._EditMode(a?!0:!1)});d.AddEvent("OnDoCommand",function(a,b,c){switch(b){case "new":return a.ResetRecord(),a.ViewModel._RecordState(recStateNewRecord),a.OnNewRecord&&a.OnNewRecord(a,c),
!0;case "cancel":return a.OnCancelEdits&&a.OnCancelEdits(a,c),ng_isEmptyOrNull(a.CancelEditsValues)?a.ResetRecord():d.LoadRecord(a.CancelEditsValues,{IgnoreFormChanges:!0}),!0;case "load":a.ViewModel._RecordState(recStateLoading);break;case "insert":a.ViewModel._RecordState(recStateInserting);break;case "update":a.ViewModel._RecordState(recStateUpdating);break;case "delete":a.ViewModel._RecordState(recStateDeleting)}return!1});d.AddEvent("OnCommand",function(a,b,c){switch(b){case "new":ng_isEmpty(c.ValueNames)&&
(c.ValueNames=ngVal(a.GetCommandValueNames(b,c,!0),[]));break;case "cancel":c.ValueNames=[];break;case "load":ngVal(c.ResetRecordOnLoad,a.ResetRecordOnLoad)&&a.ResetRecord();case "delete":var d=a.PrimaryKeyNames();if(0<d.length){var r=c.ValueNames;ng_isEmpty(r)&&(r=ngVal(a.GetCommandValueNames(b,c,!0),[]));if(ng_typeObject(c.PrimaryKeyValues))for(var u=r.length-1;0<=u;u--)ng_inArray(r[u],d)&&r.splice(u,1);else if(0==r.length)r=d;else for(u=0;u<d.length;u++)ng_inArray(d[u],r)||r.push(d[u]);c.ValueNames=
r}}if(!ng_isEmpty(c.ValueNames)){for(var x,w=c.ValueNames,y=[],u=w.length-1;0<=u;u--)x="_OriginalRecord."+w[u],r=a.GetFieldByID(x),ng_isEmpty(r)||y.push(x);for(u=0;u<y.length;u++)ng_inArray(y[u],w)||w.push(y[u])}switch(b){case "load":case "delete":if(r=c.PrimaryKeyValues,ng_typeObject(r)){x={};for(var A={},u=0;u<d.length;u++){w=vmGetFieldValueByID(r,d[u]);y=this.GetFieldByID(d[u]);try{y&&(w=y.Serialize(w)),vmSetFieldValueByID(A,d[u],w)}catch(z){x[d[u]]=z}}r=A;c.PrimaryKeyValues=A;d="delete"===b?ng_CopyVar(r):
!1;r._OriginalRecord=ng_CopyVar(r);c.Values=r;ng_MergeVar(c.Values,a.GetValues(!1,c.ValueNames,x,!0,!0));if(!ng_EmptyVar(x)){if(this.OnErrors&&!ngVal(this.OnErrors(this,x),!1))return!1;if(!ng_EmptyVar(x))return this.ShowErrors(x),!1}d&&(a._deleteprimarykey=d)}else c.PrimaryKeyValues=a.GetPrimaryKeyValues(),"delete"===b&&(a._deleteprimarykey=c.PrimaryKeyValues)}switch(b){case "load":a.OnLoadRecord&&a.OnLoadRecord(a,c);break;case "insert":a.OnInsertRecord&&a.OnInsertRecord(a,c);break;case "update":a.OnUpdateRecord&&
a.OnUpdateRecord(a,c);break;case "delete":a.OnDeleteRecord&&a.OnDeleteRecord(a,c)}a._recordstate=a.ViewModel._RecordState();return!0});d.AddEvent("OnCommandData",function(a,b,c){if(0!=ngVal(c.DBError,0)&&1==c.DBError){a.ViewModel._RecordChanged(a.IsChanged());switch(b){case "load":a.OnRecordLoaded&&a.OnRecordLoaded(a,c);break;case "insert":a.OnRecordInserted&&a.OnRecordInserted(a,c);break;case "update":a.OnRecordUpdated&&a.OnRecordUpdated(a,c);break;case "delete":a.OnRecordDeleted&&a.OnRecordDeleted(a,
c,a._deleteprimarykey)}a.OnDBSuccess&&a.OnDBSuccess(a,b,c);a.CancelEditsValues="delete"==b?null:a.GetValues(!0,a.PrimaryKeyNames());delete a._deleteprimarykey}});d.AddEvent("OnCommandFinished",function(a,b,c){"undefined"!==typeof a._recordstate&&a.ViewModel._RecordState(a._recordstate);delete a._recordstate;if(0!=ngVal(c.DBError,0)&&1!=c.DBError){c.DBError!=DBVM_ERROR_DATACHANGED&&delete c.Values;delete a._deleteprimarykey;switch(b){case "load":a.OnLoadFailed&&a.OnLoadFailed(a,c);break;case "insert":a.OnInsertFailed&&
a.OnInsertFailed(a,c);break;case "update":a.OnUpdateFailed&&a.OnUpdateFailed(a,c);break;case "delete":a.OnDeleteFailed&&a.OnDeleteFailed(a,c)}a.OnDBError?a.OnDBError(a,b,c):(a=ng_ViewModelFormatDBError(c.DBError,b),""!=a&&alert(a))}return!0});return d}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.dbviewmodel={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){var a=Create_ngSysDBViewModel;a.ControlsGroup="System";ngRegisterControlType("ngSysDBViewModel",a)}};var ngViewModels={},ngViewModelNamespaces={},fdNoTrim=0,fdTrim=1,fdLeftTrim=2,fdRightTrim=3;function getViewModelById(a){return ngVal(ngViewModels[a],null)}function ngvm_setnsfields(a,b){if(b){var c,d,e=NaN;"VM"==a.substring(0,2)&&(e=parseInt(a.substring(2,a.length)));for(var g in b)d=b[g],c=ngViewModelNamespaces[g],"object"===typeof c&&ng_MergeVar(d,c),isNaN(e)||(d.ServerURLIndex=e),ngViewModelNamespaces[g]=d}}
function ng_ViewModelFormatError(a){if(!ng_typeObject(a))return"";if(!(a instanceof ngFieldDefException)){var b,c,d,e=[],g;for(g in a)if(a[g]instanceof ngFieldDefException&&(b=ng_ViewModelFormatError(a[g]),""!==b&&(ngIsFieldDef(a[g].FieldDef)?(d=ng_Trim(a[g].FieldDef.GetDisplayName()),0<d.length&&(d=":"!=d.charAt(d.length-1)?d+": ":d+" ")):d=ng_typeString(a[g].FieldDef)?a[g].FieldDef+": ":"",ng_typeString(b)&&(c=d+b,ng_inArray(c,e)||e.push(c)),ng_typeObject(b))))for(var k in b)c=d+b[k],ng_inArray(c,
e)||e.push(c);return e}if((b=ngIsFieldDef(a.FieldDef))&&!a.FieldDef.__formatingerror){a.FieldDef.__formatingerror=!0;try{e=a.FieldDef.FormatError(a)}finally{delete a.FieldDef.__formatingerror}if(!ng_isEmpty(e))return e}e=[];if(ng_typeObject(a.ErrorMessage))for(g in a.ErrorMessage)e.push(ngTxt(a.ErrorMessage[g]));else""!=a.ErrorMessage&&e.push(ngTxt(a.ErrorMessage));if(a.Error&FIELDDEF_ERR_TYPE)if(b)switch(a.FieldDef.Type){case "BOOL":e.push(ngTxt("viewmodel_err_type_bool"));break;case "SBYTE":case "BYTE":case "SHORT":case "USHORT":case "LONG":case "ULONG":case "INTEGER":e.push(ngTxt("viewmodel_err_type_integer"));
break;case "FLOAT":case "DECIMAL":e.push(ngTxt("viewmodel_err_type_decimal"));break;case "NVARCHAR":case "STRING":e.push(ngTxt("viewmodel_err_type_string"));break;case "TIMESTAMP":case "DATETIME":case "UTCTIMESTAMP":case "UTCDATETIME":e.push(ngTxt("viewmodel_err_type_datetime"));break;case "DATE":case "UTCDATE":e.push(ngTxt("viewmodel_err_type_date"));break;case "TIME":case "UTCTIME":e.push(ngTxt("viewmodel_err_type_time"));break;case "ARRAY":e.push(ngTxt("viewmodel_err_type_array"));break;default:e.push(ngTxt("viewmodel_err_type"))}else e.push(ngTxt("viewmodel_err_type"));
a.Error&FIELDDEF_ERR_EMPTY&&e.push(ngTxt("viewmodel_err_empty"));a.Error&FIELDDEF_ERR_MIN&&(!b||ng_isEmpty(a.FieldDef.MinValue)?e.push(ngTxt("viewmodel_err_min_novalue")):"ARRAY"==a.FieldDef.Type?e.push(ng_sprintf(ngTxt("viewmodel_err_min_array"),parseInt(a.FieldDef.MinValue,10))):e.push(ng_sprintf(ngTxt("viewmodel_err_min"),ng_toString(a.FieldDef.MinValue))));a.Error&FIELDDEF_ERR_MAX&&(!b||ng_isEmpty(a.FieldDef.MaxValue)?e.push(ngTxt("viewmodel_err_max_novalue")):"ARRAY"==a.FieldDef.Type?e.push(ng_sprintf(ngTxt("viewmodel_err_max_array"),
parseInt(a.FieldDef.MaxValue,10))):e.push(ng_sprintf(ngTxt("viewmodel_err_max"),ng_toString(a.FieldDef.MaxValue))));a.Error&FIELDDEF_ERR_ENUM&&e.push(ngTxt("viewmodel_err_enum"));a.Error&FIELDDEF_ERR_LEN&&(!b||ng_isEmpty(a.FieldDef.Size)?e.push(ngTxt("viewmodel_err_len_unknown")):e.push(ng_sprintf(ngTxt("viewmodel_err_len"),a.FieldDef.Size)));0==e.length&&a.Error&FIELDDEF_ERR&&e.push(ngTxt("viewmodel_err_unknown"));return 0==e.length?"":1==e.length?e[0]:e}
var FIELDDEF_ERR=1,FIELDDEF_ERR_TYPE=2,FIELDDEF_ERR_EMPTY=4,FIELDDEF_ERR_MIN=8,FIELDDEF_ERR_MAX=16,FIELDDEF_ERR_ENUM=32,FIELDDEF_ERR_LEN=64;function ngFieldDefException(a,b,c,d,e){this.FieldDef=a;this.Error=b;this.ErrorMessage=ngVal(c,"");this.ExtendedInfo=ngVal(d,null);this.ChildErrors=ngVal(e,null);if(ng_typeObject(this.ChildErrors))for(var g in this.ChildErrors)this.ChildErrors[g].Parent=this}function ngfd_Clear(){ko.isObservable(this.Value)?this.Value(void 0):this.Value=void 0}
function ngfd_Validate(a){try{this.Serialize(a)}catch(b){return b}return!0}function ngfd_FormatError(a){if(this.OnFormatError){var b=this.OnFormatError(this,a);if(!ng_isEmpty(b))return b}return this.DoFormatError(a)}function ngfd_DoFormatError(a){return ng_ViewModelFormatError(a)}function ngfd_GetDisplayName(a){var b=ko.isObservable(this.DisplayName)?this.DisplayName():this.DisplayName;ng_isEmptyOrNull(b)&&ngVal(a,!0)&&(b=ngVal(this.ID,""));return b}
function ngfd_GetTypedDefaultValue(){try{return this.TypedValue(this.DefaultValue)}catch(a){return ng_CopyVar(this.DefaultValue)}}function ngfd_GetTypedValue(a,b){var c=ko.ng_getvalue(this.Value);if(!1===a){try{c=this.TypedValue(c)}catch(d){if(2===arguments.length)try{c=this.TypedValue(b)}catch(e){c=b}else c=this.GetTypedDefaultValue()}return c}return this.TypedValue(c)}
function ngfd_SetTypedValue(a,b,c){if(!1===b)try{a=this.TypedValue(a)}catch(d){if(2===arguments.length)try{a=this.TypedValue(c)}catch(e){a=c}else a=this.GetTypedDefaultValue()}else a=this.TypedValue(a);ko.ng_setvalue(this.Value,a)}
function ngfd_TypedValue(a){if(this.__typingvalue)return a;this.__typingvalue=!0;try{var b=function(a,b,c,d){b=parseInt(b,10);if(!ng_typeNumberInt(b))return null;if(ng_isEmpty(a.MinValue)||parseInt(a.MinValue,10)<c)a.MinValue=c;if(ng_isEmpty(a.MaxValue)||parseInt(a.MaxValue,10)>d)a.MaxValue=d;return b};ng_typeString(a)&&(a=this.ParseString(a));var c=0;if(this.OnTypedValue)try{var d=this.OnTypedValue(this,a);if(!ng_isEmpty(d))return d}catch(k){if(k instanceof ngFieldDefException)c=k.Error;else throw k;
}d=a;this.DoTypedValue&&(a=this.DoTypedValue(a));this.NullIfEmpty&&(ng_isEmpty(a)||ng_typeString(a)&&0==a.length||ng_typeDate(a)&&0===a.getTime()||ng_typeArray(a)&&0==a.length)&&(a=null);if(ng_isEmptyOrNull(a)){if(this.Required)throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);return a}var e=null;switch(this.DataType){case "BOOL":e=ng_toBool(a,null);break;case "INTEGER":e=ng_toInteger(a,null);break;case "FLOAT":e=ng_toFloat(a,null);break;case "SBYTE":e=b(this,a,SBYTE_MIN,SBYTE_MAX);break;case "BYTE":e=
b(this,a,BYTE_MIN,BYTE_MAX);break;case "SHORT":e=b(this,a,SHORT_MIN,SHORT_MAX);break;case "USHORT":e=b(this,a,USHORT_MIN,USHORT_MAX);break;case "LONG":e=b(this,a,LONG_MIN,LONG_MAX);break;case "ULONG":e=b(this,a,ULONG_MIN,ULONG_MAX);break;case "DECIMAL":e=ng_toDECIMAL(a,this.Size,this.Precision,null);if(null===e&&(e=ng_toDECIMAL(a,1E3,this.Precision,null),null!==e))throw new ngFieldDefException(this,c|FIELDDEF_ERR_LEN);break;case "STRING":e=ng_toString(a,null);break;case "NVARCHAR":e=ng_toNVARCHAR(a,
void 0,null);if(null!==e&&!ng_isEmpty(this.Size)&&e.length>this.Size)throw new ngFieldDefException(this,c|FIELDDEF_ERR_LEN);break;case "TIMESTAMP":case "DATETIME":e=ng_toDate(a,null);break;case "DATE":e=ng_toDateOnly(a,null);break;case "TIME":e=ng_toDate(a,null);break;case "UTCTIMESTAMP":case "UTCDATETIME":e=ng_toDate(a,null);break;case "UTCDATE":e=ng_toDateOnly(a,null);break;case "UTCTIME":e=ng_toDate(a,null);break;case "ARRAY":ng_typeArray(a)?e=d===a?ng_CopyVar(a):a:(e=[],e.push(a));break;case "OBJECT":e=
"object"===typeof a?d===a?ng_CopyVar(a):a:null;break;default:e=d===a?ng_CopyVar(a):a}if(null===e)throw new ngFieldDefException(this,c|FIELDDEF_ERR_TYPE);a=e;b=null;d=!0;switch(this.DataType){case "BOOL":b=ng_toBool;break;case "INTEGER":case "FLOAT":case "SBYTE":case "BYTE":case "SHORT":case "USHORT":case "LONG":case "ULONG":b=ng_toNumber;a=b(e);break;case "DECIMAL":d=!1;a=e;!ng_isEmpty(this.MinValue)&&ng_toNumber(a)<ng_toNumber(this.MinValue)&&(c|=FIELDDEF_ERR_MIN);!ng_isEmpty(this.MaxValue)&&ng_toNumber(a)>
ng_toNumber(this.MaxValue)&&(c|=FIELDDEF_ERR_MAX);b=null;break;case "STRING":case "NVARCHAR":b=ng_toString;if(this.Required&&!this.AllowEmpty&&0==a.length)throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "TIMESTAMP":case "DATETIME":b=ng_toDate;if(this.Required&&!this.AllowEmpty&&0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "DATE":b=ng_toDateOnly;if(this.Required&&!this.AllowEmpty&&0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);
break;case "TIME":b=ng_toDate;if(this.Required&&!this.AllowEmpty&&0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "UTCTIMESTAMP":case "UTCDATETIME":b=ng_toDate;if(this.Required&&!this.AllowEmpty&&0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "UTCDATE":b=ng_toDateOnly;if(this.Required&&!this.AllowEmpty&&0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "UTCTIME":b=ng_toDate;if(this.Required&&!this.AllowEmpty&&
0==a.getTime())throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);break;case "ARRAY":if(this.Required&&!this.AllowEmpty&&0==a.length)throw new ngFieldDefException(this,c|FIELDDEF_ERR_EMPTY);d=!1;!ng_isEmpty(this.MinValue)&&a.length<parseInt(this.MinValue,10)&&(c|=FIELDDEF_ERR_MIN);!ng_isEmpty(this.MaxValue)&&a.length>parseInt(this.MaxValue,10)&&(c|=FIELDDEF_ERR_MAX);b=function(a){return a};break;case "OBJECT":b=function(a){return a};d=!1;break;default:b=function(a){return a},a=e}if(null!==b&&
(d&&(!ng_isEmpty(this.MinValue)&&a<b(this.MinValue)&&(c|=FIELDDEF_ERR_MIN),!ng_isEmpty(this.MaxValue)&&a>b(this.MaxValue)&&(c|=FIELDDEF_ERR_MAX)),!ng_isEmpty(this.Enum))){var g;for(g=0;g<this.Enum.length&&!ng_VarEquals(a,b(this.Enum[g]));g++);g>=this.Enum.length&&(c|=FIELDDEF_ERR_ENUM)}if(c)throw new ngFieldDefException(this,c);}finally{delete this.__typingvalue}return e}
function ngfd_TypedValueAs(a,b){if(!b)return a;try{a=b.TypedValue(a)}catch(c){throw c.FieldDef==b&&(c.FieldDef=this),c;}return a}function ngfd_Serialize(a){var b;this.OnSerialize&&(b=this.OnSerialize(this,a));ng_isEmpty(b)&&this.DoSerialize&&(b=this.DoSerialize(a));ng_isEmpty(b)&&(b=this.TypedValue(a));"ULONG"!=this.DataType&&"INTEGER"!=this.DataType||ng_isEmpty(b)||(b=ng_toString(b));return b}
function ngfd_Deserialize(a){var b;this.OnDeserialize&&(b=this.OnDeserialize(this,a));ng_isEmpty(b)&&this.DoDeserialize&&(b=this.DoDeserialize(a));ng_isEmpty(b)&&(b=a);switch(this.DataType){case "TIMESTAMP":case "DATETIME":case "DATE":case "TIME":case "UTCTIMESTAMP":case "UTCDATETIME":case "UTCDATE":case "UTCTIME":b=ng_toDate(b,b)}try{b=this.TypedValue(b)}catch(c){}return b}
function ngfd_FormatString(a){if(this.__formatingstring)return a;this.__formatingstring=!0;try{try{a=this.TypedValue(a)}catch(c){}var b;this.OnFormatString&&(b=this.OnFormatString(this,a));if(ng_typeString(b))return b;this.DoFormatString&&(b=this.DoFormatString(a));if(ng_typeString(b))return b;b=null;switch(this.DataType){case "SHORT":case "USHORT":case "LONG":case "ULONG":case "INTEGER":this.Attrs.FormatNumber&&(b=ng_Format3Num(a,this.Attrs.ThousandsSeparator));break;case "FLOAT":case "DECIMAL":this.Attrs.FormatNumber&&
(b=ng_Format3Num(a,this.Attrs.ThousandsSeparator,"."),ng_typeString(b)&&(b=b.replace(".",ngVal(this.Attrs.DecimalSeparator,ng_DecimalSeparator()))));break;case "TIMESTAMP":case "DATETIME":b=ng_FormatDateTime(ng_toDate(a),ngVal(this.Attrs.DateTimeFormat,""),null);break;case "DATE":b=ng_FormatDate(ng_toDate(a),ngVal(this.Attrs.DateFormat,""),null);break;case "TIME":b=ng_FormatTime(ng_toDate(a),ngVal(this.Attrs.TimeFormat,""),null);break;case "UTCTIMESTAMP":case "UTCDATETIME":b=ng_FormatDateTime(ng_fromUTCDate(a),
ngVal(this.Attrs.DateTimeFormat,""),null);break;case "UTCDATE":b=ng_FormatDate(ng_fromUTCDate(a),ngVal(this.Attrs.DateFormat,""),null);break;case "UTCTIME":b=ng_FormatTime(ng_fromUTCDate(a),ngVal(this.Attrs.TimeFormat,""),null);break;case "ARRAY":b=a&&"object"===typeof a&&"function"===typeof a.join?a.join(","):null}a=null!==b?b:ng_toString(a)}finally{delete this.__formatingstring}return a}
function ngfd_EditString(a){var b;this.OnEditString&&(b=this.OnEditString(this,a));if(ng_typeString(b))return b;this.DoEditString&&(b=this.DoEditString(a));return ng_typeString(b)?b:this.FormatString(a)}
function ngfd_ParseString(a){if(this.__parsingstring)return a;this.__parsingstring=!0;try{a=""+a;switch(ngVal(this.AutoTrim,1)){case 1:a=ng_Trim(a);break;case 2:a=ng_LTrim(a);break;case 3:a=ng_RTrim(a)}this.OnParseString&&(a=this.OnParseString(this,a));this.DoParseString&&(a=this.DoParseString(a));if(ng_typeString(a))if(this.NullIfEmpty&&0==a.length)a=null;else{var b;switch(this.DataType){case "SHORT":case "USHORT":case "LONG":case "ULONG":case "INTEGER":if(this.Attrs.FormatNumber||this.Attrs.ParseFormattedNumber)a=
ng_Unformat3Num(a,this.Attrs.ThousandsSeparator);break;case "FLOAT":case "DECIMAL":if(this.Attrs.FormatNumber||this.Attrs.ParseFormattedNumber)a=ng_Unformat3Num(""+a,this.Attrs.ThousandsSeparator,"."),a=a.replace(ngVal(this.Attrs.DecimalSeparator,ng_DecimalSeparator()),".");break;case "TIMESTAMP":case "DATETIME":case "UTCTIMESTAMP":case "UTCDATETIME":var c=this.Attrs.ParseDateTimeFormat;"undefined"===typeof c&&(c=ngVal(this.Attrs.DateTimeFormat,""));b=ng_ParseDateTime(a,c,null);break;case "DATE":case "UTCDATE":c=
this.Attrs.ParseDateFormat;"undefined"===typeof c&&(c=ngVal(this.Attrs.DateFormat,""));b=ng_ParseDate(a,c,null);break;case "TIME":case "UTCTIME":c=this.Attrs.ParseTimeFormat;"undefined"===typeof c&&(c=ngVal(this.Attrs.TimeFormat,""));b=ng_ParseTime(a,c,null);break;case "ARRAY":b=a.split(",")}switch(this.DataType){case "TIMESTAMP":case "DATETIME":case "DATE":case "TIME":null!==b&&(a=b);break;case "UTCTIMESTAMP":case "UTCDATETIME":case "UTCDATE":case "UTCTIME":null!==b&&(a=ng_toUTCDate(b))}}try{a=this.TypedValue(a)}catch(d){}}finally{delete this.__parsingstring}return a}
function ngfd_SetAttribute(a,b){switch(a){case "PrivateField":this.PrivateField=b;break;case "DisplayName":this.DisplayName=b;break;case "Size":this.Size=b;break;case "Precision":this.Precision=b;break;case "Required":this.Required=b;break;case "NullIfEmpty":this.NullIfEmpty=b;break;case "AllowEmpty":this.AllowEmpty=b;break;case "AutoTrim":this.AutoTrim=b;break;case "ReadOnly":this.ReadOnly=b;break;case "MinValue":this.MinValue=b;break;case "MaxValue":this.MaxValue=b;break;case "Enum":this.Enum=b;
break;case "DefaultValue":this.DefaultValue=b;break;default:this.Attrs[a]=b}}
function ngfd_GetAttribute(a){switch(a){case "PrivateField":return this.PrivateField;case "DisplayName":return this.DisplayName;case "Size":return this.Size;case "Precision":return this.Precision;case "Required":return this.Required;case "NullIfEmpty":return this.NullIfEmpty;case "AllowEmpty":return this.AllowEmpty;case "AutoTrim":return this.AutoTrim;case "ReadOnly":return this.ReadOnly;case "MinValue":return this.MinValue;case "MaxValue":return this.MaxValue;case "Enum":return this.Enum;case "DefaultValue":return this.DefaultValue;
default:return this.Attrs[a]}}function ngFieldDefCreateAs(a,b,c,d){try{if("function"===typeof c){a.__fielddef=c;var e=Array.prototype.slice.apply(arguments);e.splice(2,1);e.splice(0,1);a.__fielddef.apply(a,e)}else a.__fielddef=ngFieldDef,a.__fielddef(b,c,d)}finally{delete a.__fielddef}}function ngIsFieldDef(a){return ng_typeObject(a)&&!ng_isEmpty(a.DataType)&&"function"===typeof a.Validate&&"function"===typeof a.Serialize&&"function"===typeof a.Deserialize}
function ngFieldDef(a,b,c){c=ngVal(c,{});this.Owner=null;this.ID=ngVal(a,"");this.Type=ngVal(this.Type,b);this.DataType=ngVal(b,"");this.PrivateField=!1;this.Attrs={};this.Required=!1;this.NullIfEmpty=!0;this.AllowEmpty=!1;this.Value=void 0;this.GetDisplayName=ngfd_GetDisplayName;this.GetTypedValue=ngfd_GetTypedValue;this.SetTypedValue=ngfd_SetTypedValue;this.GetTypedDefaultValue=ngfd_GetTypedDefaultValue;this.GetAttribute=ngfd_GetAttribute;this.SetAttribute=ngfd_SetAttribute;this.TypedValue=ngfd_TypedValue;
this.TypedValueAs=ngfd_TypedValueAs;this.Clear=ngfd_Clear;this.Validate=ngfd_Validate;this.FormatError=ngfd_FormatError;this.DoFormatError=ngfd_DoFormatError;this.Serialize=ngfd_Serialize;this.Deserialize=ngfd_Deserialize;this.FormatString=ngfd_FormatString;this.EditString=ngfd_EditString;this.ParseString=ngfd_ParseString;this.OnParseString=this.OnEditString=this.OnFormatString=this.OnTypedValue=this.OnDeserialize=this.OnSerialize=this.OnFormatError=null;for(var d in c)this.SetAttribute(d,c[d])}
function ngvm_SetValues(a,b){function c(a,g,k){var n,r,u,x;if(a!=d&&(""!=k&&(k+="."),g&&"object"===typeof g&&a&&"object"===typeof a)){for(var w in a)if((a!=d.ViewModel||"Owner"!=w)&&"undefined"!==typeof g[w]){n=x=a[w];if(ngIsFieldDef(x)){if(x.PrivateField)continue;n=x.Value}r=k+w;if(ko.isObservable(n)){if(ko.isWriteableObservable(n)){x.__Loading=!0;try{u=g[w];this.OnSetValue&&(u=this.OnSetValue(this,u,x,r));if(b&&"function"===typeof x.Deserialize)u=x.Deserialize(u);else if("function"===typeof x.TypedValue)try{u=
x.TypedValue(u)}catch(y){}ko.ng_setvalue(n,u)}finally{delete x.__Loading}}}else"function"!==typeof n&&(!ng_typeObject(g[w])||ng_typeDate(g[w])||ng_IsArrayVar(g[w])?(u=g[w],this.OnSetValue&&(u=this.OnSetValue(this,u,x,r)),a[w]=u):c(n,g[w],r))}for(w in g)"undefined"===typeof a[w]&&(r=k+w,!ng_typeObject(g[w])||ng_typeDate(g[w])||ng_IsArrayVar(g[w])?(u=g[w],this.OnSetValue&&(u=this.OnSetValue(this,u,x,r)),a[w]=u):(n=a[w]={},c(n,g[w],r)))}}b=ngVal(b,!1);if(!this.OnSetValues||ngVal(this.OnSetValues(this,
a,b),!1)){var d=this;c(this.ViewModel,a,"")}}
function ngvm_GetValues(a,b,c,d,e){function g(n,u,x){var w,y,A;if(n!=k){""!=x&&(x+=".");for(var z in n)if(n!=k.ViewModel||"Owner"!=z){w=A=n[z];if(ngIsFieldDef(A)){if(A.PrivateField)continue;w=A.Value}y=x+z;if(ko.isObservable(w)){if(!a||ko.isWriteableObservable(w))if(!e||w.__serialize)if(!b||ng_inArray(y,b)){A.__Saving=!0;try{w=ko.ng_getvalue(w),k.OnGetValue&&(w=k.OnGetValue(k,w,A,y,c)),u[z]=e&&"function"===typeof A.Serialize?A.Serialize(w):"function"===typeof A.TypedValue?A.TypedValue(w):w}catch(B){c[y]=
B}delete A.__Saving;d&&ng_typeDate(u[z])&&(u[z]=ng_toUnixTimestamp(u[z]))}}else if("function"!==typeof w)if(ng_typeObject(w)&&!ng_typeDate(w)&&!ng_IsArrayVar(w))A={},g(w,A,y),b&&!ng_inArray(y,b)&&ng_EmptyVar(A)||(u[z]=A);else if(!b||ng_inArray(y,b))k.OnGetValue&&(w=k.OnGetValue(k,w,A,y,c)),d&&ng_typeDate(w)&&(w=ng_toUnixTimestamp(w)),u[z]=w}}}e=ngVal(e,!1);d=ngVal(d,!1);a=ngVal(a,!1);c=ngVal(c,{});var k=this,n={};g(this.ViewModel,n,"");if(this.OnGetValues)try{this.OnGetValues(this,n,a,b,c,d,e)}catch(r){if(ng_typeObject(r.FieldDef)&&
""!=r.FieldDef.ID)c[r.FieldDef.ID]=r;else throw r;}return n}function ngvm_IsValid(a,b){var c={};this.GetValues(a,b,c);for(var d in c)return c;return!0}function ngvm_Errors(a,b){return ng_ViewModelFormatError(this.IsValid(a,b))}
function ngvm_ShowErrors(a){"undefined"===typeof a&&(a=this.IsValid());if(!ng_typeObject(a))return!1;for(var b in a)return this.OnShowErrors?this.OnShowErrors(this,ng_ViewModelFormatError(a),a):(a=ng_ViewModelFormatError(a),ng_IsArrayVar(a)&&(a=a.join("\n")),""!=a&&alert(a)),!0;return!1}function ngvm_GetRPC(){this.rpc||(this.rpc=new ngRPC(this.ID),this.rpc.nocache=!0);return this.rpc}
function ngvm_makeobservable(a,b){if(!a||"object"!==typeof a)return!1;var c,d;for(d in a)c=ng_IsArrayVar(a[d]),"function"!==typeof a[d]&&(c||"object"!==typeof a[d]||ng_typeDate(a[d]))?(a[d]=c?ko.observableArray(a[d]):ko.observable(a[d]),b&&ko.ng_serialize(a[d])):ngvm_makeobservable(a[d],b)}
function ngvm_recievedata(a){function b(a){if(ng_typeObject(a.childerrs))for(var c in a.childerrs)a.childerrs[c]=b(a.childerrs[c]);c=g.GetFieldByID(a.field);return new ngFieldDefException(ngIsFieldDef(c)?c:ngTxt("VM."+g.Namespace+"."+a.field,a.field),a.err,a.errmsg,a.errext,a.childerrs)}if(a){var c="",d=ngVal(a.reqid,""),e=d.lastIndexOf("_");0<=e&&(c=d.substring(0,e),d=d.substring(e+1,d.length));if(""!=c){var g=getViewModelById(c);if(g&&d==g.rpc_reqid){if(g.OnResults&&(a=g.OnResults(g,a),!a))return;
c=g.ActiveCommand;g.OnCommandResults&&g.OnCommandResults(g,c,a);a.ViewModel&&(d=a.ViewModel,"function"!==typeof d&&(a.Values||(a.Values={}),ng_MergeVar(a.Values,d),ngvm_makeobservable(d,!0)),g.SetViewModel(d));g.ActiveCommand="";g.OnCommandFinished&&g.OnCommandFinished(g,c,a);if(a.Errors){var e=[],k;for(k in a.Errors)d=a.Errors[k],e.push(b(d));if(0<e.length){if(g.OnErrors&&!ngVal(g.OnErrors(g,e),!1))return!1;ng_EmptyVar(e)||g.ShowErrors(e);return!1}}a.Values&&(ngVal(a.NoReset,!1)||g.Reset(function(a,
b,c,d){return ngIsFieldDef(c)&&c.PrivateField?!1:!0}),g.SetValues(a.Values,!0));g.OnCommandData&&g.OnCommandData(g,c,a);if("function"===typeof a.Callback){g.ViewModel.__servercallback=a.Callback;try{g.ViewModel.__servercallback()}finally{delete g.ViewModel.__servercallback}}}}}}
function ngvm_GetCommandValueNamesByFieldAttrs(a,b){b=ngVal(b,!1);var c=[],d=!1;this.ScanValues(function(e,g,k,n){ngIsFieldDef(k)?(e=k.Attrs.Command,""!==e?ng_isEmpty(e)?b||c.push(n):(d=!0,(e===a||ng_inArray(a,e))&&c.push(n)):d=!0):b||c.push(n);return!0});if(d)return c}function ngvm_GetCommandValueNames(a,b,c){return this.OnGetCommandValueNames?("undefined"===typeof b&&(b={}),this.OnGetCommandValueNames(this,a,b)):this.GetCommandValueNamesByFieldAttrs(a,c)}
function ngvm_CancelCommand(){""!=this.ActiveCommand&&(this.rpc_reqid++,this.OnCommandCancel&&this.OnCommandCancel(this));this.ActiveCommand=""}
function ngvm_Command(a,b){"undefined"===typeof b&&(b={});if(this.OnCommand&&!ngVal(this.OnCommand(this,a,b),!1))return!1;this.CancelCommand();var c={},d=b.Values;ng_isEmpty(d)&&(d=b.ValueNames,ng_isEmpty(d)&&(d=this.GetCommandValueNames(a,b)),d=this.GetValues(!1,d,c,!0,!0));if(ng_EmptyVar(c))try{if(this.OnDoCommand&&ngVal(this.OnDoCommand(this,a,b,d,c),!0)&&ng_EmptyVar(c))return!0}catch(g){if(ng_typeObject(g.FieldDef)&&""!=g.FieldDef.ID)c[g.FieldDef.ID]=g;else throw g;}if(!ng_EmptyVar(c)){if(this.OnErrors&&
!ngVal(this.OnErrors(this,c),!1))return!1;if(!ng_EmptyVar(c))return this.ShowErrors(c),!1}c=ngVal(b.URL,this.ServerURL);if(""==c)return!1;var e=this.GetRPC();if(!e)return!1;this.rpc_reqid++;e.clearParams();""!=ngVal(this.Namespace,"")&&(e.Params.ns=this.Namespace);e.Params.cmd=a;e.Params.data=ko.toJSON(d);e.Params.reqid=this.ID+"_"+this.rpc_reqid;b.Params&&ng_MergeVar(e.Params,b.Params);e.URL=c;this.ActiveCommand=a;if(this.OnCommandRequest&&!ngVal(this.OnCommandRequest(this,e),!1))return!1;e.sendRequest();
return!0}
function ngvm_SetViewModel(a){if(a){if(this.OnSetViewModel&&(a=this.OnSetViewModel(this,a),!a))return;this.ViewModel.Owner=this;if("function"===typeof a){this.viewmodel_history.push(a);this.ViewModel.__newvmodel=a;try{this.ViewModel.__newvmodel(this)}finally{delete this.ViewModel.__newvmodel}}else this.viewmodel_history.push(ng_CopyVar(a)),ngvm_makeobservable(a,!1),ng_MergeVar(this.ViewModel,a);this.DefaultValues=this.GetValues(!0);this.ViewModel.Owner=this;this.OnViewModelChanged&&this.OnViewModelChanged(this)}}
function ngvm_ScanValues(a){function b(d,e){var g,k,n;if(d!=c&&d&&"object"===typeof d){""!=e&&(e+=".");for(var r in d)if(d!=c.ViewModel||"Owner"!=r)if(g=n=d[r],ngIsFieldDef(n)&&(g=n.Value),k=e+r,ko.isObservable(g)){if(!a(c,g,n,k))return!1}else if("function"!==typeof g)if(ng_typeObject(g)&&!ng_typeDate(g)&&!ng_IsArrayVar(g)){if(!b(g,k))return!1}else if(!a(c,g,n,k))return!1;return!0}}var c=this;"function"===typeof a&&b(this.ViewModel,"")}
function ngvm_Reset(a){function b(e,g){var k,n,r;if(e!=d&&e&&"object"===typeof e){""!=g&&(g+=".");for(var u in e)if(e!=d.ViewModel||"Owner"!=u){k=r=e[u];n=g+u;if(ngIsFieldDef(r)){if(!0===r.Attrs.NoReset)continue;k=r.Value;defaultval=r.GetTypedDefaultValue()}else defaultval=!ng_typeObject(e[u])||ng_typeDate(e[u])||ng_IsArrayVar(e[u])?ng_CopyVar(vmGetFieldByID(d.DefaultValues,n)):c;if("function"!==typeof a||a(this,k,r,n,defaultval))if(ko.isObservable(k)){r.__Loading=!0;try{ko.isWriteableObservable(k)&&
ko.ng_setvalue(k,defaultval)}finally{delete r.__Loading}}else if("function"!==typeof k)if(!ng_typeObject(e[u])||ng_typeDate(e[u])||ng_IsArrayVar(e[u]))"undefined"!==typeof defaultval?e[u]=defaultval:delete e[u];else{b(k,n);n=!1;for(var x in k){n=!0;break}n||delete e[u]}}}}var c,d=this;b(this.ViewModel,"")}
function vmGetFieldByID(a,b){b=""+b;if(a&&""!=b){var c=b.split(".");if(c.length){for(var d=0;d<c.length;d++){ko.isObservable(a)&&(a=a());if(ngIsFieldDef(a)&&"function"===typeof a.GetChildFieldByID)return c.splice(0,d),a.GetChildFieldByID(c.join("."));if(!a||"object"!==typeof a)return;a=a[c[d]]}return a}}}function ngvm_GetFieldByID(a){return vmGetFieldByID(this.ViewModel,a)}function vmGetFieldValueByID(a,b){var c=vmGetFieldByID(a,b);return ko.ng_getvalue(c)}
function ngvm_GetFieldValueByID(a){return vmGetFieldValueByID(this.ViewModel,a)}
function vmSetFieldValueByID(a,b,c){b=""+b;if(!a||""==b)return!1;var d,e=b.split(".");if(!(1>e.length)){if(ko.isObservable(a)){d=a();if(!d||"object"!==typeof d){if(!ko.isWriteableObservable(a))return!1;d={};a(d)}a=d}if(!a||"object"!==typeof a)return!1;for(var g=e.length-1,k=0;k<g;k++){b=a[e[k]];d=ko.isObservable(b)?b():b;if(!d||"object"!==typeof d)if("undefined"===typeof d)if(b!==d){if(!ko.isWriteableObservable(b))return!1;d={};b(d)}else d={},a[e[k]]=d;else return!1;a=d}b=e[g];a[b]=ko.ng_setvalue(a[b],
c);return!0}}function ngvm_SetFieldValueByID(a,b){vmSetFieldValueByID(this.ViewModel,a,b)}function ngvm_Assign(a){this.viewmodel_history=[];this.ViewModel={};this.DefaultValues={};this.Namespace=this.ID;this.ServerURL="";this.ViewModel={};if(a){this.Namespace=ngVal(a.Namespace,this.ID);this.ServerURL=ngVal(a.ServerURL,"");for(var b=0;b<a.viewmodel_history.length;b++)this.SetViewModel(a.viewmodel_history[b]);b=a.GetValues(!1);this.SetValues(b)}this.OnAssign&&this.OnAssign(this,a)}
function ngvm_SetNamespace(a){this.Namespace!=a&&(this.Namespace=ngVal(a,""),""!=this.Namespace&&(a=ngViewModelNamespaces[a],ng_typeObject(a)&&(""==this.ServerURL&&(this.ServerURL=ngVal(a.ServerURL,"")),(ng_typeObject(a.ViewModel)||"function"===typeof a.ViewModel)&&this.SetViewModel(a.ViewModel))))}
function ngViewModel(a,b,c,d){this.ID=a=ngVal(a,"");""!=a&&(ngViewModels[a]=this);this.rpc=null;this.rpc_reqid=0;this.viewmodel_history=[];this.Namespace="";this.ViewModel={};this.DefaultValues={};this.ServerURL=ngVal(d,"");this.ActiveCommand="";this.Assign=ngvm_Assign;this.SetNamespace=ngvm_SetNamespace;this.SetViewModel=ngvm_SetViewModel;this.SetValues=ngvm_SetValues;this.GetValues=ngvm_GetValues;this.ScanValues=ngvm_ScanValues;this.GetFieldByID=ngvm_GetFieldByID;this.GetFieldValueByID=ngvm_GetFieldValueByID;
this.SetFieldValueByID=ngvm_SetFieldValueByID;this.Reset=ngvm_Reset;this.IsValid=ngvm_IsValid;this.Errors=ngvm_Errors;this.ShowErrors=ngvm_ShowErrors;this.Command=ngvm_Command;this.CancelCommand=ngvm_CancelCommand;this.GetCommandValueNames=ngvm_GetCommandValueNames;this.GetCommandValueNamesByFieldAttrs=ngvm_GetCommandValueNamesByFieldAttrs;this.GetRPC=ngvm_GetRPC;this.AddEvent=ngObjAddEvent;this.RemoveEvent=ngObjRemoveEvent;this.OnAssign=this.OnShowErrors=this.OnErrors=this.OnResults=this.OnViewModelChanged=
this.OnSetViewModel=this.OnCommandData=this.OnCommandCancel=this.OnCommandFinished=this.OnCommandResults=this.OnCommandRequest=this.OnDoCommand=this.OnGetCommandValueNames=this.OnCommand=this.OnGetValue=this.OnGetValues=this.OnSetValue=this.OnSetValues=null;this.SetNamespace(ngVal(b,a));c&&this.SetViewModel(c)}function ngfd_DataSetFieldSerialize(a){return this.DataSetNeedUpdate||!ng_typeArray(a)?"__LOAD__":"__LOADED__"}
function ngfd_DataSetFieldDeserialize(a){if("__LOADED__"==a)return a=this.GetTypedValue(),ng_isEmpty(a)&&(a=[]),a;this.DataSetNeedUpdate=!1}function ngfd_InvalidateDataSet(){this.DataSetNeedUpdate=!0}function ngDataSetFieldDef(a,b){ngFieldDefCreateAs(this,a,"ARRAY",b);this.DataSetNeedUpdate=!0;this.InvalidateDataSet=ngfd_InvalidateDataSet;this.DoSerialize=ngfd_DataSetFieldSerialize;this.DoDeserialize=ngfd_DataSetFieldDeserialize}
function ngLookupFieldDef(a,b){ngFieldDefCreateAs(this,a,"ARRAY",b);this.DataSetNeedUpdate=!1;this.InvalidateDataSet=ngfd_InvalidateDataSet;this.DoSerialize=ngfd_DataSetFieldSerialize;this.DoDeserialize=ngfd_DataSetFieldDeserialize}
function ngvm_InitServerNamespaces(){if("function"===typeof ngViewModelsServerURL){var a=ngViewModelsServerURL();if(a){var b,c,d;for(d in ngViewModelNamespaces)b=ngViewModelNamespaces[d],"undefined"!==typeof b.ServerURLIndex&&""==ngVal(b.ServerURL,"")&&0<b.ServerURLIndex&&b.ServerURLIndex<=a.length&&(c=a[b.ServerURLIndex-1],"/"==c.charAt(0)||0<=c.indexOf("://")?b.ServerURL=c:b.ServerURL=ngApp.AppPath+c)}}}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.viewmodel={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){function a(a){return ng_typeString(a)?(a=getViewModelById(a))?a.ViewModel:null:a}function b(a){for(var b,c=[],d=0;d<a.length;d++)if(b=a[d],ng_IsArrayVar(b))for(var r=0;r<b.length;r++)c.push(b[r]);else c.push(b);return c}function c(a,b){if(ng_typeString(b)&&1<b.length)switch(b.charAt(0)){case "$":var c=vmGetFieldByID(a,b.substring(1,b.length));if(c)return c;break;case "!":case "-":if(2<b.length&&"$"==b.charAt(1)&&(c=
vmGetFieldByID(a,b.substring(2,b.length))))return c}return d(a,b)}function d(a,b){if(ng_typeString(b)&&1<b.length)switch(b.charAt(0)){case "$":return vmGetFieldValueByID(a,b.substring(1,b.length));case "!":if(2<b.length&&"$"==b.charAt(1))return!vmGetFieldValueByID(a,b.substring(2,b.length));break;case "-":if(2<b.length&&"$"==b.charAt(1))return-vmGetFieldValueByID(a,b.substring(2,b.length))}return"function"===typeof b?b(a):b}ngvm_InitServerNamespaces();ko.ng_noserialize=function(a){"function"===typeof a&&
delete a.__serialize;return a};ko.ng_serialize=function(a){"function"===typeof a&&(a.__serialize=!0);return a};ko.ng_writeallowed=function(a){if(!ko.isWriteableObservable(a))return!1;a=a.FieldDef;return!ngIsFieldDef(a)||!ngVal(a.ReadOnly,!1)||ngVal(a.__Loading,!1)};ko.ng_delegate=function(b,c,d){return ko.ng_noserialize(ko.computed({read:function(){return vmGetFieldValueByID(a(b),c)},write:function(n){ngVal(d,!1)||vmSetFieldValueByID(a(b),c,n)},owner:this}))};ko.ng_linkvalue=function(b,c,d,n){var r=
a(c),u=vmGetFieldByID(r,d);ko.isObservable(u)&&ko.isObservable(b)&&(ko.ng_setvalue(b,ko.ng_getvalue(u)),u.subscribe(function(a){ko.ng_setvalue(b,ko.ng_getvalue(a));"function"===typeof n&&n(a,b,u,r)}))};ko.ng_linkvalues=function(b,c,d,n,r){var u=a(b),x=vmGetFieldByID(u,c),w=a(d),y=vmGetFieldByID(w,n);ko.isObservable(y)&&ko.isObservable(x)&&(ko.ng_setvalue(y,ko.ng_getvalue(x)),y.subscribe(function(a){var b=ko.ng_getvalue(a),c=ko.ng_getvalue(x);ng_VarEquals(b,c)||(ko.ng_setvalue(x,b),"function"===typeof r&&
r(a,n,x,u,x,w,y))}),x.subscribe(function(a){var b=ko.ng_getvalue(a),d=ko.ng_getvalue(y);ng_VarEquals(b,d)||(ko.ng_setvalue(y,b),"function"===typeof r&&r(a,c,y,u,x,w,y))}))};ko.ng_bool2val=function(b,c,k,n){var r=3<arguments.length;return ko.ng_noserialize(ko.computed({read:function(){var u=a(b),x=vmGetFieldValueByID(u,c),w=d(u,k);if(ng_VarEquals(x,w))return!0;if(r){if(w=d(u,n),ng_VarEquals(x,w))return!1}else return!1},write:function(u){var x=a(b);u=ng_toBool(u,!1);!0===u?(u=d(x,k),vmSetFieldValueByID(x,
c,u)):r&&!1===u&&(u=d(x,n),vmSetFieldValueByID(x,c,u))},owner:this}))};ko.ng_sprintf=function(){var c=b(arguments);return ko.ng_noserialize(ko.computed(function(){if(c&&!(2>c.length)){var b=a(c[0]),d=c,n=2,r=void 0,u=[];if(b)for(n=ngVal(n,0),r=ngVal(r,d.length-1);n<=r;n++)u.push(vmGetFieldValueByID(b,d[n]));for(b=0;b<u.length;b++)if(ng_isEmptyOrNull(u[b])||"function"===typeof u[b])u[b]="";u.splice(0,0,c[1]);return ng_sprintf.apply(window,u)}},this))};ko.ng_changed=function(){var c=b(arguments),d=
!1,k=ko.observable(!1);return ko.ng_noserialize(ko.computed({read:function(){if(!c||1>c.length)return k();var b=a(c[0]);if(!b)return k();if(!d){for(var r,u=1;u<c.length;u++)(r=vmGetFieldByID(b,c[u]))&&"function"===typeof r.subscribe&&r.subscribe(function(a){k(!0)});d=!0}return k()},write:function(a){k(a?!0:!1)},owner:this}))};ko.ng_dataversion=function(){var c=b(arguments),d=!1,k=ko.observable(1);return ko.ng_noserialize(ko.computed({read:function(){if(!c||1>c.length)return k();var b=a(c[0]);if(!b)return k();
if(!d){for(var r,u=1;u<c.length;u++)(r=vmGetFieldByID(b,c[u]))&&"function"===typeof r.subscribe&&r.subscribe(function(a){k(k()+1)});d=!0}return k()},write:function(a){a=parseInt(a);isNaN(a)||k(a)},owner:this}))};ko.ng_matches=function(){function e(a){for(var b,c,e=!1,k=1;k<g.length-1&&(b=vmGetFieldValueByID(a,g[k]),c=d(a,g[k+1]),1==k?e=ng_VarEquals(b,c):ng_VarEquals(b,c)||(e=!1),e);k+=2);n(e)}var g=b(arguments),k=!1,n=ko.observable(!1);return ko.ng_noserialize(ko.computed(function(){if(!g||1>g.length)return n();
var b=a(g[0]);if(!b)return n();if(!k){for(var u,x,w=!1,y=1;y<g.length-1;y+=2)(function(){var a=vmGetFieldByID(b,g[y]);"undefined"===typeof a&&(a=vmGetFieldValueByID(b,g[y]));var k=c(b,g[y+1]);"undefined"===typeof k&&(k=d(b,g[y+1]));a&&"function"===typeof a.subscribe&&a.subscribe(function(a){x="function"===typeof k?k():k;a!=x?n(!1):e(b)});k&&"function"===typeof k.subscribe&&k.subscribe(function(c){u="function"===typeof a?a():a;c!=u?n(!1):e(b)});u="function"===typeof a?a():a;x="function"===typeof k?
k():k})(),1==y?w=ng_VarEquals(u,x):ng_VarEquals(u,x)||(w=!1);n(w);k=!0}return n()},this))};ko.ng_matches_one=function(){function e(a){for(var b,c,e=!1,k=1;k<g.length-1&&(b=vmGetFieldValueByID(a,g[k]),c=d(a,g[k+1]),1==k?e=ng_VarEquals(b,c):ng_VarEquals(b,c)&&(e=!0),!e);k+=2);n(e)}var g=b(arguments),k=!1,n=ko.observable(!1);return ko.ng_noserialize(ko.computed(function(){if(!g||1>g.length)return n();var b=a(g[0]);if(!b)return n();if(!k){for(var u,x,w=!1,y=1;y<g.length-1;y+=2)(function(){var a=vmGetFieldByID(b,
g[y]);"undefined"===typeof a&&(a=vmGetFieldValueByID(b,g[y]));var k=c(b,g[y+1]);"undefined"===typeof k&&(k=d(b,g[y+1]));a&&"function"===typeof a.subscribe&&a.subscribe(function(a){x="function"===typeof k?k():k;a==x?n(!0):e(b)});k&&"function"===typeof k.subscribe&&k.subscribe(function(c){u="function"===typeof a?a():a;c==u?n(!0):e(b)});u="function"===typeof a?a():a;x="function"===typeof k?k():k})(),1==y?w=ng_VarEquals(u,x):ng_VarEquals(u,x)&&(w=!0);n(w);k=!0}return n()},this))};ko.ng_timer=function(a){function b(a){a=
parseInt(a);if(!isNaN(a)){var e=null;d!=a&&(0<a?(e&&clearInterval(e),e=setInterval(function(){c(new Date)},a)):(clearInterval(e),e=null),d=a)}}var c=ko.observable(new Date),d=0;b(a);return ko.ng_noserialize(ko.computed({read:function(){return c()},write:function(a){b(a)},owner:this}))};ko.ng_lookup=function(b,c,d,n,r,u){r=ngVal(r,"Value");u=ngVal(u,"Text");return ko.ng_noserialize(ko.computed({read:function(){var x=a(b),x=vmGetFieldValueByID(x,c),w=a(d),w=vmGetFieldValueByID(w,n);if(ng_typeArray(w))for(var y=
0;y<w.length;y++)if(null!==w[y]&&ng_typeObject(w[y])&&ng_VarEquals(w[y][r],x))return"undefined"===typeof u||null===u?w[y]:w[y][u]},write:function(x){var w=a(b),y=a(d),y=vmGetFieldValueByID(y,n);if(ng_typeArray(y)){for(var A,z=0;z<y.length;z++)if(null!==y[z]&&ng_typeObject(y[z])&&(A="undefined"===typeof u||null===u?y[z]:y[z][u],ng_VarEquals(A,x))){vmSetFieldValueByID(w,c,y[z][r]);return}vmSetFieldValueByID(w,c,void 0)}},owner:this}))};ko.ng_array_item=function(a,b){return ko.ng_noserialize(ko.computed({read:function(){var c=
a(),d=b;ko.isObservable(d)&&(d=d());if(ng_typeArray(c))return ko.ng_getvalue(c[d])},write:function(c){var d=a(),r=b;ko.isObservable(r)&&(r=r());ng_typeArray(d)?("function"===typeof a.valueWillMutate&&a.valueWillMutate(),d[r]=ko.ng_setvalue(d[r],c),"function"===typeof a.valueHasMutated?a.valueHasMutated():a(d)):(d=[],d[r]=ko.ng_setvalue(d[r],c),a(d))},owner:this}))};ko.ng_unwrapobservable=function(a,b){ngIsFieldDef(a)&&(a=a.Value);return ko.isObservable(a)?b?a.peek():a():a};ko.ng_getvalue=function(a,
b,c,d){function r(a){var e=a;a=ko.ng_unwrapobservable(a,d);if(ng_typeObject(a))if(ng_typeDate(a)){if(e!==a||b)a=ng_CopyVar(a)}else{var w,y=a._byRef;e!==a||b?(e=a,a=ng_IsArrayVar(e)?[]:{}):e=a;for(var A in e)if("__ng_setvalue"!==A)if(w=!c||y&&y[A]?ko.ng_unwrapobservable(e[A],d):r(e[A]),w!==e[A]){if(e===a){a=e;var z=A,B=ng_IsArrayVar(a)?[]:{},D=a._byRef,C=void 0;for(C in a)if("__ng_setvalue"!==C){if(C===z)break;B[C]=D&&D[C]?a[C]:ng_CopyVar(a[C])}a=B}a[A]=w}else e!==a&&(a[A]=y&&y[A]?w:ng_CopyVar(w))}return a}
"undefined"===typeof c&&(c=!0);return r(a)};ko.ng_gettypedvalue=function(a,b,c){return ngIsFieldDef(a)?3===arguments.length?a.GetTypedValue(b,c):a.GetTypedValue(b):ko.ng_getvalue(a)};ko.ng_setvalue=function(a,b,c,d){var r=a;ngIsFieldDef(a)&&(a=a.Value);if(ng_typeObject(b)){var u=ko.isObservable(a)?a():a;if(ng_typeObject(u)&&!ng_typeDate(u)){if(a!==u){if(!ko.isWriteableObservable(a))return r;"function"===typeof a.valueWillMutate&&a.valueWillMutate()}"undefined"===typeof c&&(c=!0);var x;if("function"===
typeof u.__ng_setvalue){x=!0;var w,y=u.__ng_setvalue;try{delete u.__ng_setvalue,w=y.apply(u,[u,b,c])}finally{if("undefined"===typeof u.__ng_setvalue&&(u.__ng_setvalue=y),"undefined"!==typeof w&&w!==u){if(a!==u){b=a.valueWillMutate;"function"===typeof b&&(a.valueWillMutate=function(){});try{a(w)}finally{"function"===typeof b&&(a.valueWillMutate=b)}return r}return w}}}else{w=function(){if(!x){x=!0;for(var a in B)u[a]=B[a];delete B}};var A=b._byRef,z=u._byRef,B,D={_byRef:!0};(x=d?!0:!1)||(B=ng_IsArrayVar(u)?
[]:{});for(y in b)D[y]=!0,z&&z[y]&&w(),!c||A&&A[y]?(d=u[y],ngIsFieldDef(d)&&(d=d.Value),ko.isObservable(d)?ko.isWriteableObservable(d)&&d(b[y]):d=b[y]):d=ko.ng_setvalue(u[y],b[y],!0,z&&z[y]),!x&&(ko.isObservable(d)&&d===u[y]||ng_typeObject(d)&&(d===u[y]||d!==b[y]))&&w(),x?u[y]=d:B[y]=d;c={};for(y in u)if(!D[y])if(ko.isObservable(u[y]))w();else if(z&&z[y])w();else{if(ng_typeObject(u[y])&&!ng_typeDate(u[y])&&(d=ko.ng_getvalue(u[y]),d!==u[y])){w();continue}c[y]=!0}delete B;if(ng_IsArrayVar(u)){for(y=
u.length-1;0<=y;y--)if(c[y])u.length=y,delete c[y];else break;for(y in c)u[y]=void 0}else for(y in c)delete u[y]}if(x){if(a!==u)return"function"===typeof a.valueHasMutated?a.valueHasMutated():a(u),r;b=u}}}return a&&ko.isObservable(a)?(ko.isWriteableObservable(a)&&a(b),r):b};ko.ng_settypedvalue=function(a,b,c,d){ngIsFieldDef(a)?4===arguments.length?a.SetTypedValue(b,c,d):a.SetTypedValue(b,c):ko.ng_setvalue(a,b)};ko.ng_fielddef=function(a,b,c){function d(){return ko.isWriteableObservable(A)&&(!ngVal(b.ReadOnly,
!1)||ngVal(b.__Loading,!1))}function r(a){if(d()){var b=ng_typeArray(A());a&&!b&&(b=!0,A([]));return b}return!1}if(ng_typeObject(a)&&ng_typeObject(b)&&""!=ngVal(b.ID,"")){for(var u=a,x=a,w=b.ID.split("."),y=0;y<w.length-1;y++){u=x[w[y]];ng_isEmpty(u)&&(u=a[w[y]]={});if(!ng_typeObject(u)||ngIsFieldDef(u))return;x=u}u[w[w.length-1]]=b;ng_SetByRef(b,"Owner",a);var A,u="ARRAY"===b.DataType,x="OBJECT"===b.DataType;"undefined"===typeof c&&(c=b.Attrs.Value,delete b.Attrs.Value);ko.isObservable(c)?(defaultval=
ng_CopyVar(c()),u=u||ng_IsArrayVar(defaultval),A=c):(defaultval="undefined"===typeof c?b.GetTypedDefaultValue():ng_CopyVar(c),A=(u=u||ng_IsArrayVar(defaultval))?ko.observableArray(defaultval):ko.observable(defaultval));if(x&&ng_typeObject(b.PropsFieldDefs)){var w=A(),z=!1;A.subscribe(function(a){z||b.Value(a)});var B={},D;for(D in b.PropsFieldDefs)c=b.PropsFieldDefs[D],ngIsFieldDef(c)?(ko.ng_fielddef(B,c,vmGetFieldByID(w,D)),c=c.Value):B[D]=c,ko.isObservable(c)&&c.subscribe(function(a){if(!z){z=!0;
a=b.NullIfEmpty?!0:!1;try{var c,d={},e;for(e in b.PropsFieldDefs){c=b.PropsFieldDefs[e];if(ngIsFieldDef(c)){if(c.PrivateField)continue;if("function"===typeof c.TypedValue)try{c=c.GetTypedValue();a&&!ng_isEmptyObject(c)&&(a=!1);vmSetFieldValueByID(d,e,c);continue}catch(k){}c=c.Value}c=ko.ng_getvalue(c);a&&!ng_isEmptyObject(c)&&(a=!1);vmSetFieldValueByID(d,e,c)}}finally{a&&(d=null),ko.ng_setvalue(A,d),z=!1}}})}if(u){var C={};b.ClearFieldDefs=function(){for(var a in C)delete C[a];C={}};b.Item=function(c,
k){function r(c,k){if(!("undefined"===typeof c||0>c)){var u=""+c;if("undefined"===typeof C[u]){if(!ngVal(k,!0))return;var w=ko.computed({read:function(){var a=A();if(ng_typeArray(a))return ko.ng_getvalue(a[c])},write:function(a){if(d()){var e=A(),k=ngVal(b.Attrs.RemoveEmptyItems,!1);if(ng_typeArray(e)){if(c>=e.length){if(ng_isEmptyOrNull(a)&&(k||ngIsFieldDef(b.ValueFieldDef)&&ng_typeObject(b.ValueFieldDef.PropsFieldDefs)))return}else if(ng_VarEquals(ko.ng_getvalue(e[c]),a))return;"function"===typeof A.valueWillMutate&&
A.valueWillMutate();e[c]=ko.ng_setvalue(e[c],a);"function"===typeof A.valueHasMutated?A.valueHasMutated():A(e)}else k&&ng_isEmptyOrNull(a)||(e=[],e[c]=ko.ng_setvalue(e[c],a),A(e))}},owner:a});if(ngIsFieldDef(b.ValueFieldDef)){var x=ng_CopyVar(b.ValueFieldDef);ng_SetByRef(x,"Parent",b);x.ID=u;ko.ng_fielddef(C,x,w)}else C[u]=w}return C[u]}}return ko.isObservable(c)?ko.computed({read:function(){return r(c(),k)},owner:a}):r(c,k)}}x?(b.Value=ko.computed({read:function(){return A()},write:function(a){if(d()){var c=
b.NullIfEmpty?!0:!1;if(ng_typeObject(b.PropsFieldDefs)){if(!z){if(ng_typeString(a))try{a=JSON.parse(a)}catch(e){}var k,r;z=!0;try{if(ng_typeObject(a))for(var u in b.PropsFieldDefs){k=b.PropsFieldDefs[u];r=vmGetFieldByID(a,u);if(ngIsFieldDef(k)){if("function"===typeof k.TypedValue)try{r=k.TypedValue(r)}catch(e){}k=k.Value}c&&!ng_isEmptyObject(r)&&(c=!1);ko.isObservable(k)?k(r):vmSetFieldValueByID(B,u,r)}else for(u in b.PropsFieldDefs)k=b.PropsFieldDefs[u],ngIsFieldDef(k)&&(k=k.Value),ko.isObservable(k)?
k(void 0):vmSetFieldValueByID(B,u,void 0)}finally{c&&(a=null),A(a),z=!1}}}else A(a)}},owner:a}),b.Properties=B):b.Value=ko.computed({read:function(){return A()},write:function(a){d()&&A(a)},owner:a});ngVal(b.Attrs.Serialize,!0)&&ko.ng_serialize(b.Value);u&&(b.Value.count=ko.computed(function(){var a=A();return ng_typeArray(a)?a.length:0},a),b.Value.valueWillMutate=function(){A.valueWillMutate()},b.Value.valueHasMutated=function(){A.valueHasMutated()},b.Value.remove=function(){if(r(!0))return A.remove.apply(A,
arguments)},b.Value.removeAll=function(){return r(!0)?A.removeAll():[]},b.Value.indexOf=function(a){return ng_typeArray(A())?A.indexOf(a):-1},b.Value.lastIndexOf=function(a){return ng_typeArray(A())?A.lastIndexOf(a):-1},b.Value.pop=function(){if(r())return A.pop.apply(A,arguments)},b.Value.push=function(){return r(!0)?A.push.apply(A,arguments):ng_typeArray(A())?A().length:0},b.Value.reverse=function(){return r(!0)?A.reverse.apply(A,arguments):A()},b.Value.shift=function(){if(r(!0))return A.shift.apply(A,
arguments)},b.Value.sort=function(){return r(!0)?A.sort.apply(A,arguments):A()},b.Value.unshift=function(){return r(!0)?A.unshift.apply(A,arguments):ng_typeArray(A())?A().length:0},b.Value.splice=function(){return r(!0)?A.splice.apply(A,arguments):[]},b.Value.slice=function(){return ng_typeArray(A())?A.slice.apply(A,arguments):[]});b.Value.FieldDef=b;if(!ko.isObservable(b.DisplayName)){var E=b.ID;for(c=b;c.Parent;)c=c.Parent,E=c.ID+"."+E;var F=c.Owner;ng_isEmptyOrNull(b.DisplayName)&&(F.Owner&&""!=
ngVal(F.Owner.Namespace,"")?(D=ngTxt("VM."+F.Owner.Namespace+"."+E,""),""!=D&&(b.DisplayName=D)):b.DisplayName=E);var H=ko.observable(b.DisplayName);b.DisplayName=ko.ng_serialize(ko.computed({read:function(){var a=H();ng_isEmptyOrNull(a)&&F.Owner&&""!=ngVal(F.Owner.Namespace,"")&&(a=ngTxt("VM."+F.Owner.Namespace+"."+E,E));return a},write:function(a){H(a)},owner:a}))}var J=ko.ng_noserialize(ko.computed(function(){return ngVal(b.FormatError(b.Validate(A())),"")},a));b.Error=J;b.Error.FieldDef=b;b.IsValid=
ko.ng_noserialize(ko.computed(function(){return""===J()},a));return b}}}};"undefined"===typeof ngBindingsHandlers&&(ngBindingsHandlers={});function ngRegisterBindingHandler(a,b,c,d){var e=ngBindingsHandlers[a];"undefined"===typeof e&&(e={Init:null,Update:null,AddEvent:ngObjAddEvent,RemoveEvent:ngObjRemoveEvent},ngBindingsHandlers[a]=e);"function"===typeof c&&e.AddEvent("Init",c,!0);"function"===typeof b&&e.AddEvent("Update",b,!0);"undefined"!==typeof d&&(e.After=d)}
function ng_Bindings(a){if(1>=arguments.length){if(ng_typeString(a))return a;if(!ng_typeObject(a))return"";var b="",c,d=ng_IsArrayVar(a),e;for(e in a)""!=b&&(b+=","),d||(b+=e+":"),c=a[e],b=ng_typeObject(c)?ng_IsArrayVar(c)?b+("["+ng_Bindings(c)+"]"):b+("{"+ng_Bindings(c)+"}"):b+ng_toString(c)}else for(b={},c="self",e=0;e<arguments.length;e++)if(d=arguments[e],ng_typeObject(d)){if(""==c)break;b[c]=ng_Bindings(d);c=""}else ng_typeString(d)?""==c||"self"==c?c=d:(b[c]=d,c=""):c="";return b}
function ngBindingDeferUpdates(a,b,c){var d=b.get("DeferUpdates");ng_typeObject(d)||(d={});"undefined"===typeof d[a]&&"undefined"!==typeof c&&(d[a]=c,b.set("DeferUpdates",d));return!!ngVal(d[a],ko.options.deferUpdates)}
function ngApplyBindings(a,b,c){function d(a,b,c,d,e){"object"!==typeof a.DataBindings&&(a.DataBindings={});a.DataBindings[b]={ViewModel:e,ValueAccessor:c,BindingsAccessor:d}}function e(a){return a()}function g(a){return ko.utils.objectMap(ko.dependencyDetection.ignore(a),function(b,c){return function(){var b=a()[c];return ngIsFieldDef(b)?b.Value:b}})}function k(b,d){return g(this.parseBindingsString.bind(this,c,d,a,{valueAccessors:!1}))}function n(a){var b=[],c={},d=[];ko.utils.objectForEach(a,function N(e){if(!c[e]&&
"_ko"!=e.substring(0,3)){var g=ko.getBindingHandler(e);g&&(g.After&&(d.push(e),ko.utils.arrayForEach(g.After,function(b){if(a[b]){if(-1!==ko.utils.arrayIndexOf(d,b))throw b="Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "),ngDEBUGERROR(b),Error(b);N(b)}}),d.pop()),b.push({key:e,handler:g}));c[e]=!0}});return b}if(ng_typeString(b)){var r=getViewModelById(b);r||ngDEBUGERROR('ViewModel "'+b+'" referenced from control "'+a.ID+'" not found!');b=r}b||ngDEBUGERROR('ViewModel for control "'+
a.ID+'" not found!');if(!a||!b||""==ngVal(c,""))return!1;b.ViewModel&&(b=b.ViewModel);var u=b&&b instanceof ko.bindingContext?b:new ko.bindingContext(b);b=ko.getBindingHandler;var x=ko.options.deferUpdates;try{ko.getBindingHandler=function(a){return ngBindingsHandlers?ngBindingsHandlers[a]:null};var w,y=ko.bindingProvider.instance;if(u._subscribable||"3.0.0"!==ko.version){var A=ko.dependentObservable(function(){(w=k.call(y,a,u))&&u._subscribable&&u._subscribable();return w},null,{disposeWhenNodeIsRemoved:!1});
w&&A.isActive()||(A=null);A&&a.AddEvent("DoDispose",function(){A&&A.dispose();return!0})}else w=ko.dependencyDetection.ignore(k,y,[a,u]);if(w){var z=function(){return ko.utils.objectMap(A?A():w,e)},B=A?function(a){return function(){return e(A()[a])}}:function(a){return w[a]};z.get=function(a){return w[a]&&e(B(a))};z.has=function(a){return a in w};z.set=function(a,b){w[a]=ko.observable(b)};var D=n(w);ko.utils.arrayForEach(D,function(b){var c=b.handler.Init,e=b.handler.Update,g=b.key;d(a,g,B(g),z,u.$data);
try{if(("function"===typeof c||a.OnDataBindingInit)&&ko.dependencyDetection.ignore(function(){a.OnDataBindingInit&&!ngVal(a.OnDataBindingInit(a,g,B(g),z,u.$data),!1)||"function"!==typeof c||c(a,B(g),z,u.$data,u)}),"function"===typeof e||a.OnDataBindingUpdate){var k=z.get("DeferUpdates");ng_typeObject(k)||(k={});ko.options.deferUpdates=!!ngVal(k[g],x);try{var n=ko.dependentObservable(function(){a.OnDataBindingUpdate&&!ngVal(a.OnDataBindingUpdate(a,g,B(g),z,u.$data),!1)||"function"!==typeof e||e(a,
B(g),z,u.$data,u)},null,{disposeWhenNodeIsRemoved:!1});a.AddEvent("DoDispose",function(){n.dispose();return!0})}finally{ko.options.deferUpdates=x}}}catch(r){throw r.message='Unable to process binding "'+g+": "+w[g]+'"\nMessage: '+r.message,ngDEBUGERROR(r.message),r;}})}}finally{ko.options.deferUpdates=x,ko.getBindingHandler=b}return!0}function ngsvm_DoCreate(a,b){""!=this.ID&&(ngViewModels[this.ID]=this)}
function ngSysViewModel(a,b){ngSysControl(this,a,"ngSysViewModel");this.DoCreate=ngsvm_DoCreate;ngViewModel.apply(this,[a]);ngControlCreated(this)}function ng_FindViewModel(a,b){var c=a.ViewModel;if("undefined"===typeof c){for(var d=b.ParentControl;d&&"undefined"===typeof c;)c=d.ViewModel,d=d.ParentControl;if("undefined"===typeof c)for(d=b.Owner;d&&"undefined"===typeof c;)c=d.ViewModel,d=d.Owner}ng_typeString(c)&&(d=getViewModelById(c))&&(c=d);return c}
"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.viewmodel_controls={Lib:"ng_controls",ControlsGroup:"Core",OnControlCreated:function(a,b,c){"undefined"!==typeof a.ViewModel&&"undefined"===typeof b.ViewModel&&(b.ViewModel=a.ViewModel);var d=a.DOMDataBind;"undefined"!==typeof d&&(a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){var d=b.Elm();if(d){var e=ng_FindViewModel(a,b);e&&ko.applyBindings(e,d)}return!0}),ng_OverrideMethod(b,"DoAttach",function(a,c){a&&a.setAttribute("data-bind",d);ng_CallParent(b,"DoAttach",arguments)}),delete a.DOMDataBind);
var e=a.DataBind;"undefined"!==typeof e&&(a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){var d=ng_FindViewModel(a,b);if("object"===typeof e){for(var r in e)ngApplyBindings(b,"self"==r?d:r,e[r]);return!0}ngApplyBindings(b,d,e);return!0}),delete a.DataBind)},OnInit:function(){function a(a,b){ngApp.ViewModel&&(y()!=ngDevice&&y(ngDevice),ng_VarEquals(A(),ngDeviceProfile)||A(ngDeviceProfile))}function b(){E&&clearTimeout(E);E=setTimeout(function(){clearTimeout(E);E=null;if(ngApp.ViewModel){z()!=ngApp.LastResizeW&&
z(ngApp.LastResizeW);B()!=ngApp.LastResizeH&&B(ngApp.LastResizeH);var a=ng_WindowWidth(),b=ng_WindowHeight();D()!=a&&D(a);C()!=b&&C(b)}},80)}function c(){return!0}function d(a,b,c){a="binding_updating"+ngVal(a,"");if(b[a])return!1;b[a]=!0;try{c()}finally{delete b[a]}return!0}function e(a,b,c){b=b();a=ko.ng_setvalue(b,a);ko.isObservable(b)||(c=c(),c._ko_property_writers&&c._ko_property_writers.value&&c._ko_property_writers.value(a));return b===a}function g(a,b,c,d,g,k){a="binding_updating"+ngVal(a,
"");if(c[a])return!1;k=!1;c[a]=!0;try{k=e(b,d,g)}finally{delete c[a]}return k}function k(a,b,c,e){var g=ko.ng_getvalue(c());return d(a,b,function(){e(g)})}function n(a,b,c){k("Enabled",a,b,function(b){b=ng_toBool(b);c&&(b=!b);a.SetEnabled&&a.SetEnabled(b)})}function r(a,b,c,d){a.AddEvent(function(a){g("Enabled",d?!a.Enabled:a.Enabled,a,b,c)},"OnEnabledChanged")}function u(a,b,c){k("ChildEnabled",a,b,function(b){b=ng_toBool(b);c&&(b=!b);a.SetChildControlsEnabled&&a.SetChildControlsEnabled(b)})}function x(a,
b,c,d){ng_OverrideMethod(a,"SetChildControlsEnabled",function(e,k){ng_CallParent(this,"SetChildControlsEnabled",arguments);g("ChildEnabled",d?!e:e,a,b,c)})}function w(a,b,c,d,e){var g=c()||{},k;for(k in g)(function(){var g=k;if("string"===typeof g){var n=function(a){var b=c()[g];ng_typeString(b)&&(b=e[b]);if(!b)return!0;d();var k=ko.utils.makeArray(arguments);k.unshift(e);return b.apply(e,k)};switch(a){case 1:b.AddEvent(n,g);break;case 2:b[g]=n;default:b.AddEvent(g,n)}}})()}var y,A,z,B,D,C,E=null;
if(ngApp){"undefined"!==ngApp.ViewModel&&ngApp.ViewModel||(ngApp.ViewModel={});var F=ngApp.ViewModel;z=ko.observable(ngApp.LastResizeW);B=ko.observable(ngApp.LastResizeH);D=ko.observable(ng_WindowWidth());C=ko.observable(ng_WindowHeight());F.AppWidth=ko.computed(function(){return z()},F);F.AppHeight=ko.computed(function(){return B()},F);F.WindowWidth=ko.computed(function(){return D()},F);F.WindowHeight=ko.computed(function(){return C()},F);if("function"===typeof ngSetDevice){var H=function(){return ko.computed(function(){return A()},
F)},J=function(){return ko.computed({read:function(){return y()},write:function(a){ngSetDevice(a)},owner:F})};y=ko.observable(ngDevice);A=ko.observable(ngDeviceProfile);F.ngDevice=J();F.ngDeviceProfile=H();var J=J(),H=H(),N=!1,P=J.subscribe;J.subscribe=function(){0==N&&(N=!0,ngApp.AddEvent("OnDeviceChanged",c));return P.apply(this,arguments)};var G=H.subscribe;H.subscribe=function(){0==N&&(N=!0,ngApp.AddEvent("OnDeviceChanged",c));return G.apply(this,arguments)};F.ngDeviceD=J;F.ngDeviceProfileD=H;
ngOnDeviceChanged=ngAddEvent(ngOnDeviceChanged,a)}window.onresize=ngAddEvent(window.onresize,b)}ngRegisterControlType("ngSysViewModel",function(){var a=function(a,b,c){var d=new ngSysViewModel;if(!d)return d;d.SetNamespace(ngVal(a.Namespace,d.Namespace));ng_typeArray(a.FieldDefs)&&0<a.FieldDefs.length&&d.SetViewModel(function(){for(var b=0;b<a.FieldDefs.length;b++)ngIsFieldDef(a.FieldDefs[b])&&ko.ng_fielddef(this,a.FieldDefs[b])});"object"!==typeof a.ViewModel&&"function"!==typeof a.ViewModel||d.SetViewModel(a.ViewModel);
"object"===typeof a.Data&&"object"===typeof a.Data.ViewModel&&(d.SetValues(a.Data.ViewModel),delete a.Data.ViewModel);"undefined"!==typeof a.RefViewModel&&(a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){var e=a.RefViewModel;ng_typeString(e)&&(e=getViewModelById(e));e&&d.Assign(e)}));return d};a.ControlsGroup="System";return a}());if(ngUserControls.settings){var M=function(a){if(ng_typeObject(a)&&this._settings&&this.Enabled){this._settings.BeginUpdate();try{for(var b in a)this._settings.Set(b,a[b])}finally{this._settings.EndUpdate()}}},
R=function(){this._settings&&this._settingsloaded&&this._settings.RemoveEvent("OnSettingsLoaded",this._settingsloaded);return!0},I=function(a){(this.Enabled=a)&&this._settings&&(this._initialized||(this._initialized=!0,this._changed=!1,this.OnInitialized&&this.OnInitialized(this,this._settings)),this._changed&&(this._changed=!1,this._settingsloaded&&this._settingsloaded(this._settings)))},O=function(a,b){!this._settings&&"object"===typeof ngApp&&ngApp&&ng_typeObject(ngApp.Settings)&&(this._settings=
ngApp.Settings);if(this._settings){var c=this;this._settingsloaded=function(a){this.Enabled?c.OnSettingsLoaded&&c.OnSettingsLoaded(c,a):c._changed=!0};this._settings.AddEvent("OnSettingsLoaded",this._settingsloaded)}this.Enabled&&this._settings&&!this._initialized&&(this._initialized=!0,this.OnInitialized&&this.OnInitialized(this,this._settings))};window.ngSysViewModelSettings=function(a,b){ngSysControl(this,b,"ngSysViewModelSettings");this._settings=ngVal(a,null);this._initialized=this._changed=
!1;this.SetValues=M;this.DoCreate=O;this.DoDispose=R;this.DoSetEnabled=I;this.OnInitialized=this.OnSettingsLoaded=null;ngControlCreated(this)};ngRegisterControlType("ngSysViewModelSettings",function(){var a=function(a,b,c){return new ngSysViewModelSettings(a.Settings)};a.ControlsGroup="System";return a}())}window.ngCtrlBindingLock=d;window.ngCtrlBindingIsLocked=function(a,b){return b["binding_updating"+ngVal(a,"")]?!0:!1};window.ngCtrlBindingWriteEx=e;window.ngCtrlBindingWrite=g;window.ngCtrlBindingRead=
k;window.ngCtrlBindingFormatString=function(a,b){var c=a();if(c&&"undefined"!==typeof c.FieldDef)return 1==arguments.length&&c.FieldDef.Value&&(b=c.FieldDef.Value),c.FieldDef.FormatString(ko.ng_getvalue(b));1==arguments.length&&(b=c);return ng_toString(ko.ng_getvalue(b))};window.ngCtrlBindingEditString=function(a,b){var c=a();if(c&&"undefined"!==typeof c.FieldDef)return 1==arguments.length&&c.FieldDef.Value&&(b=c.FieldDef.Value),c.FieldDef.EditString(ko.ng_getvalue(b));1==arguments.length&&(b=c);
return ng_toString(ko.ng_getvalue(b))};window.ngCtrlBindingParseString=function(a,b){var c=a();return c&&"undefined"!==typeof c.FieldDef?c.FieldDef.ParseString(b):b};ngRegisterBindingHandler("Visible",function(a,b){k("Visible",a,b,function(b){a.SetVisible&&a.SetVisible(ng_toBool(b))})},function(a,b,c,d){a.AddEvent(function(a){g("Visible",a.Visible,a,b,c)},"OnVisibleChanged")});ngRegisterBindingHandler("Bounds",function(a,b,c){c=c();var d=ngVal(c.BoundsDelayedUpdate,10);k("Bounds",a,b,function(b){ng_typeObject(b)&&
"function"===typeof a.SetBounds&&a.SetBounds(b)&&0<=d&&(a._vmboundsupdtimer&&clearTimeout(a._vmboundsupdtimer),0<d?a._vmboundsupdtimer=setTimeout(function(){a._vmboundsupdtimer&&clearTimeout(a._vmboundsupdtimer);a._vmboundsupdtimer=null;a.Update&&a.Update()},d):a.Update&&a.Update())})},function(a,b,c,d){if("function"===typeof a.SetBounds){var e=a.SetBounds;a.SetBounds=function(d){var k=e.apply(a,[d]);"undefined"!==typeof d&&g("Bounds",d,a,b,c);return k};a.AddEvent(function(){a._vmboundsupdtimer&&
clearTimeout(a._vmboundsupdtimer);a._vmboundsupdtimer=null;return!0},"DoDispose")}});ngRegisterBindingHandler("style",function(a,b,c){var d=a.Elm();d&&k("style",a,b,function(a){if(ng_typeObject(a))for(var b in a)d.style[b]=a[b]||""})},null);ngRegisterBindingHandler("className",function(a,b,c){var d=a.Elm();d&&k("className",a,b,function(b){var c=b,e=c.indexOf(" ");0<=e&&(c=c.substr(0,e));d.className=b;ngVal(a.BaseClassName,"")!=c&&(a.BaseClassName=c,a.Update())})},null);ngRegisterBindingHandler("SubClassName",
function(a,b,c){var d=a.Elm();d&&k("className",a,b,function(b){""!=ngVal(a.BaseClassName,"")&&(b=a.BaseClassName+" "+b);d.className=b})},null);ngRegisterBindingHandler("BaseClassName",function(a,b,c){var d=a.Elm();d&&k("className",a,b,function(b){if(ngVal(a.BaseClassName,"")!=b){var c,e=d.className,g=e.indexOf(" ");c=0<=g?e.substr(0,g):e;ngVal(a.BaseClassName,"")==c&&(e=0<=g?e.substr(g+1):"");""!=b&&""!=e&&(e=" "+e);d.className=b+e;a.BaseClassName=b;a.Update()}})},null);ngRegisterBindingHandler("Opacity",
function(a,b,c){a.Elm()&&k("Opacity",a,b,function(b){a.SetOpacity(ng_toFloat(b))})},function(a,b,c,d){a.AddEvent(function(d){g("Opacity",d,a,b,c)},"SetOpacity")});ngRegisterBindingHandler("Enabled",function(a,b){n(a,b,!1)},function(a,b,c,d){r(a,b,c,!1)});ngRegisterBindingHandler("Disabled",function(a,b){n(a,b,!0)},function(a,b,c,d){r(a,b,c,!1)});ngRegisterBindingHandler("ChildEnabled",function(a,b){u(a,b,!1)},function(a,b,c,d){x(a,b,c,!1)});ngRegisterBindingHandler("ChildDisabled",function(a,b){u(a,
b,!0)},function(a,b,c,d){x(a,b,c,!1)});ngRegisterBindingHandler("Focus",function(a,b,c){k("Focus",a,b,function(b){b=ng_toBool(b);a._controlfocused!=b&&a.SetFocus(b)})},function(a,b,c,d){g("Focus",!1,a,b,c);"undefined"!==typeof a.OnFocus&&a.AddEvent("OnFocus",function(a){a._controlfocused=!0;g("Focus",!0,a,b,c);return!0});"undefined"!==typeof a.OnBlur&&a.AddEvent("OnBlur",function(a){g("Focus",!1,a,b,c);a._controlfocused=!1;return!0})});ngRegisterBindingHandler("MouseOver",null,function(a,b,c,d){g("MouseOver",
!1,a,b,c);a.AddEvent(function(a){g("MouseOver",!0,a,b,c)},"OnMouseEnter");a.AddEvent(function(a){g("MouseOver",!1,a,b,c)},"OnMouseLeave")});ngRegisterBindingHandler("Events",null,function(a,b,c,d){w(0,a,b,c,d)});ngRegisterBindingHandler("AfterEvents",null,function(a,b,c,d){w(0,a,b,c,d)});ngRegisterBindingHandler("BeforeEvents",null,function(a,b,c,d){w(1,a,b,c,d)});ngRegisterBindingHandler("OverrideEvents",null,function(a,b,c,d){w(2,a,b,c,d)});ngRegisterBindingHandler("Calls",null,function(a,b,c,d){c=
b()||{};for(var e in c)(function(){var c=e;"string"===typeof c&&ngObjAddEvent.apply(d,[c,function(){var d=b()[c];ng_typeString(d)&&(d=a[d]);return d?d.apply(a,arguments):!0}])})()});ngRegisterBindingHandler("Data",function(a,b,c){k("Data",a,b,function(b){a.SetViewModelData&&a.SetViewModelData(b)})},function(a,b,c,d){a.OnViewModelDataChanged=a.OnViewModelDataChanged||null;a.ViewModelData=void 0;"function"!==typeof a.SetViewModelData&&(a.SetViewModelData=function(d){if(!ng_VarEquals(a.ViewModelData,
d)){var e=a.ViewModelData;a.ViewModelData=d;a.OnViewModelDataChanged&&a.OnViewModelDataChanged(a,e);g("Data",d,a,b,c)}})});ngRegisterBindingHandler("Value",function(a,b,c){switch(a.CtrlType){case "ngSysTimer":ngCtrlBindingRead("Value",a,b,function(b){b=ng_toInteger(b,null);a.Interval!==b&&null!==b&&(a.Interval=b,a.IsStarted()&&a.Restart())});break;case "ngSysRPC":ngCtrlBindingRead("Value",a,b,function(b){if(ng_typeObject(b))for(var c in b)a.SetParam(c,b[c])});break;case "ngSysURLParams":ngCtrlBindingRead("Value",
a,b,function(b){ng_typeObject(b)&&a.SetValues(b)});break;case "ngSysViewModelSettings":ngCtrlBindingRead("Value",a,b,function(b){a.SetValues(b)})}},function(a,b,c,d){switch(a.CtrlType){case "ngSysURLParams":ngBindingDeferUpdates("Value",c,!0);a.AddEvent("OnInitialized",function(a){ngCtrlBindingWrite("Value",a.Params,a,b,c)});a.AddEvent("OnParamsChanged",function(a){ngCtrlBindingWrite("Value",a.Params,a,b,c)});break;case "ngSysViewModelSettings":var e=function(c){ngCtrlBindingLock("Value",a,function(){var a=
b();props=a&&ko.isObservable(a)?a():a;if(ng_typeObject(props)){for(var d in props)props[d]=ko.ng_setvalue(props[d],c.Get(d,ko.ng_getvalue(props[d])));a&&ko.isWriteableObservable(a)&&a(props)}})};ngBindingDeferUpdates("Value",c,!0);a._settings&&a.Enabled&&e(a._settings);a.AddEvent("OnInitialized",function(a,b){e(b)});a.AddEvent("OnSettingsLoaded",function(a,b){e(b)})}});ngRegisterBindingHandler("Command",null,function(a,b,c,d){var e=c().ValueNames,g=""+b();if(""!=g)switch(a.CtrlType){case "ngSysTimer":a.AddEvent("OnTimer",
function(a){d.Owner&&d.Owner.Command&&d.Owner.Command(g,e?{ValueNames:e}:void 0);return!0})}});ngRegisterBindingHandler("Controls",function(a,b,c){ngCtrlBindingRead("Controls",a,b,function(d){var e=ngVal(c.get("ControlsDelayedUpdate"),10);a._vmcontrolsupdtimer&&clearTimeout(a._vmcontrolsupdtimer);a._vmcontrolsupdtimer=null;"undefined"===typeof d&&(d=null);null===d||ng_typeArray(d)||(d=[d]);ng_typeArray(a.VMControls._oldval)||(a.VMControls._oldval=[]);var g=a.VMControls._oldval,k=0;if(ng_typeArray(d)&&
ng_typeArray(g))if(a.OnIsViewModelControlChanged)for(var n=0;n<d.length&&n<g.length&&!ngVal(a.OnIsViewModelControlChanged(a,d[n],g[n]),!0);n++)k=n+1;else for(n=0;n<d.length&&n<g.length;n++)if(ng_VarEquals(d[n],g[n]))k=n+1;else break;else null!==d&&ng_typeArray(a.VMControls)&&(k=d.length<a.VMControls.length?d.length:a.VMControls.length);var r=!1,u=g.length-k;0<u&&g.splice(k,u);u=a.VMControls.length-k;if(0<u){var w=function(b){0<e?a._vmdisposecontrols.push(b):"function"===typeof b.Dispose&&b.Dispose()};
0<e&&"undefined"===typeof a._vmdisposecontrols&&(a._vmdisposecontrols=[]);for(var x,n=a.VMControls.length-1;n>=k;n--)if(x=a.VMControls[n])if(ng_typeArray(x))for(var y=0;y<x.length;y++)x[y]&&(r=!0,w(x[y]));else r=!0,w(x);a.VMControls.splice(k,u)}if(null!==d)if("function"===typeof a.DoCreateViewModelControl){w=function(b){return ng_typeObject(b)&&(b.ParentReferences=!1,b=ngCreateControls({Control:b},void 0,a),"undefined"!==typeof b.Control)?b.Control:null};x=ko.ng_unwrapobservable(b());for(var u={Value:x,
UnwrappedValue:d,UpdatingFrom:k,Count:d.length,DisposedCount:u,CreateCount:d.length-k,ValueAccessor:b,AllBindingsAccessor:c},F,n=k;n<d.length;n++){r=!0;g[n]=ng_CopyVar(d[n]);a.VMControls[n]=null;k=a.DoCreateViewModelControl(n,d[n],x[n],u);if(ng_typeArray(k))for(F=[],y=0;y<k.length;y++)F.push(w(k[y]));else F=w(k);F&&(a.VMControls[n]=F)}}else ngDEBUGWARN('Using binding "Controls" but method DoCreateViewModelControl() is missing!',a);r&&(0<e?a._vmcontrolsupdtimer=setTimeout(function(){a._vmcontrolsupdtimer&&
clearTimeout(a._vmcontrolsupdtimer);a._vmcontrolsupdtimer=null;if(ng_typeArray(a._vmdisposecontrols)){for(var b=0;b<a._vmdisposecontrols.length;b++)"function"===typeof a._vmdisposecontrols[b].Dispose&&a._vmdisposecontrols[b].Dispose();a._vmdisposecontrols=[]}a.Update&&a.Update()},e):a.Update&&a.Update())})},function(a,b,c,d){ngBindingDeferUpdates("Controls",c,!0);"undefined"===typeof a.VMControls&&(a.VMControls=[],a.VMControls._oldval=[]);a.AddEvent(function(){a._vmcontrolsupdtimer&&clearTimeout(a._vmcontrolsupdtimer);
a._vmcontrolsupdtimer=null;if(ng_typeArray(a._vmdisposecontrols))for(var b=0;b<a._vmdisposecontrols.length;b++)"function"===typeof a._vmdisposecontrols[b].Dispose&&a._vmdisposecontrols[b].Dispose();delete a._vmdisposecontrols;return!0},"DoDispose")});ngRegisterBindingHandler("Link",null,null)}};function ngFieldDef_Bool(a,b){ngFieldDefCreateAs(this,a,"BOOL",b)}function ngFieldDef_Integer(a,b){ngFieldDefCreateAs(this,a,"INTEGER",b)}function ngFieldDef_Float(a,b){ngFieldDefCreateAs(this,a,"FLOAT",b)}function ngFieldDef_SByte(a,b){ngFieldDefCreateAs(this,a,"SBYTE",b)}function ngFieldDef_Byte(a,b){ngFieldDefCreateAs(this,a,"BYTE",b)}function ngFieldDef_Short(a,b){ngFieldDefCreateAs(this,a,"SHORT",b)}function ngFieldDef_UShort(a,b){ngFieldDefCreateAs(this,a,"USHORT",b)}
function ngFieldDef_Long(a,b){ngFieldDefCreateAs(this,a,"LONG",b)}function ngFieldDef_ULong(a,b){ngFieldDefCreateAs(this,a,"ULONG",b)}function ngFieldDef_Decimal(a,b){ngFieldDefCreateAs(this,a,"DECIMAL",b)}function ngFieldDef_String(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b)}function ngFieldDef_Timestamp(a,b){ngFieldDefCreateAs(this,a,"TIMESTAMP",b)}function ngFieldDef_DateTime(a,b){ngFieldDefCreateAs(this,a,"DATETIME",b)}
function ngFieldDef_Date(a,b){ngFieldDefCreateAs(this,a,"DATE",b)}function ngFieldDef_Time(a,b){ngFieldDefCreateAs(this,a,"TIME",b)}function ngFieldDef_UTCTimestamp(a,b){ngFieldDefCreateAs(this,a,"UTCTIMESTAMP",b)}function ngFieldDef_UTCDateTime(a,b){ngFieldDefCreateAs(this,a,"UTCDATETIME",b)}function ngFieldDef_UTCDate(a,b){ngFieldDefCreateAs(this,a,"UTCDATE",b)}function ngFieldDef_UTCTime(a,b){ngFieldDefCreateAs(this,a,"UTCTIME",b)}
function ngfd_ArrayDoTypedValue(a){if(null===a)return null;var b;if("object"!==typeof a)throw new ngFieldDefException(this,FIELDDEF_ERR_TYPE);var c=ngVal(this.Attrs.RemoveEmptyItems,!1);if(ngIsFieldDef(this.ValueFieldDef)){var d=null,e=this.ValueFieldDef;b=[];for(var g in a)try{"function"===typeof this.Item&&(e=this.Item(g,!1),ngIsFieldDef(e)||(e=this.ValueFieldDef));var k=a[g];ngIsFieldDef(k)&&(k=k.Value);ko.isObservable(k)&&(k=k());k=e.TypedValue(k);c?ng_isEmptyOrNull(k)||b.push(k):b[g]=k}catch(n){"function"===
typeof this.Item?n.FieldDef=this.Item(g):(n.FieldDef=ng_CopyVar(this.ValueFieldDef),n.FieldDef.ID=g),null===d&&(d={}),d[g]=n}if(null!==d)throw new ngFieldDefException(this,FIELDDEF_ERR_TYPE,"viewmodel_err_arrayitem",null,d);}else if(c)for(g in b=[],a)k=a[g],ng_isEmptyOrNull(k)||b.push(k);else b=a;return b}function ngfd_ArrayFormatItemError(a){return ngTxt("viewmodel_err_type")}
function ngfd_ArrayFormatError(a){return"viewmodel_err_arrayitem"==a.ErrorMessage?this.DoFormatItemError(a):ng_ViewModelFormatError(a)}function ngfd_ArrayGetChildFieldByID(a){if("function"===typeof this.Item){var b,c=a.indexOf(".");0<=c?(b=a.substr(c+1,a.length-c),a=a.substr(0,c)):b="";a=this.Item(ng_toInteger(a));""!=b&&(a=vmGetFieldByID(a,b));return a}}
function ngFieldDef_Array(a,b,c){ngFieldDefCreateAs(this,a,"ARRAY",b);this.ValueFieldDef=ngVal(c,null);ng_typeObject(this.ValueFieldDef)&&ng_SetByRef(this.ValueFieldDef,"Parent",this);this.DoTypedValue=ngfd_ArrayDoTypedValue;this.DoFormatError=ngfd_ArrayFormatError;this.DoFormatItemError=ngfd_ArrayFormatItemError;this.GetChildFieldByID=ngfd_ArrayGetChildFieldByID}
function ngfd_ObjectDoTypedValue(a){if(null===a)return null;var b;if(ng_typeObject(this.PropsFieldDefs)){b={};var c=this.NullIfEmpty?!0:!1,d,e=null,g;for(g in this.PropsFieldDefs)try{var k=vmGetFieldByID(a,g);d=this.PropsFieldDefs[g];if(ngIsFieldDef(k)){if(k.PrivateField)continue;k=k.Value}k=ko.ng_getvalue(k);ngIsFieldDef(d)&&(k=d.TypedValue(k));c&&!ng_isEmptyObject(k)&&(c=!1);vmSetFieldValueByID(b,g,k)}catch(n){null===e&&(e={}),e[g]=n}if(null!==e)throw new ngFieldDefException(this,FIELDDEF_ERR_TYPE,
"viewmodel_err_objproperty",null,e);c&&(b=null)}else{if(!ng_typeObject(a))throw new ngFieldDefException(this,FIELDDEF_ERR_TYPE,"viewmodel_err_objproperty");if(this.NullIfEmpty){c=!0;for(g in a)if(!ng_isEmptyObject(a[g])){c=!1;break}c&&(a=null)}b=a}return b}function ngfd_ObjectDoFormatPropertyError(a){return ngTxt("viewmodel_err_type")}function ngfd_ObjectFormatError(a){return"viewmodel_err_objproperty"==a.ErrorMessage?this.DoFormatPropertyError(a):ng_ViewModelFormatError(a)}
function ngfd_ObjectGetChildFieldByID(a){if(ng_typeObject(this.PropsFieldDefs))for(var b,c="";""!=a;){b=this.PropsFieldDefs[a];if("undefined"!==typeof b)return""!=c&&(b=vmGetFieldByID(b,c)),b;b=a.lastIndexOf(".");if(0>b)break;""!=c&&(c="."+c);c=a.substr(b+1,a.length-b)+c;a=a.substr(0,b)}}
function ngFieldDef_Object(a,b,c){ngFieldDefCreateAs(this,a,"OBJECT",b);if(ng_IsArrayVar(c)){b={};for(var d=0;d<c.length;d++)a=c[d],ngIsFieldDef(a)&&""!=a.ID&&(b[a.ID]=a,ng_SetByRef(a,"Parent",this));c=b}else if(ng_typeObject(c)){b={};for(d in c)a=c[d],ngIsFieldDef(a)?(ng_SetByRef(a,"Parent",this),a.ID=""+d,b[a.ID]=a):b[d]=a;c=b}else c=null;this.PropsFieldDefs=c;this.DoTypedValue=ngfd_ObjectDoTypedValue;this.DoFormatError=ngfd_ObjectFormatError;this.DoFormatPropertyError=ngfd_ObjectDoFormatPropertyError;
this.GetChildFieldByID=ngfd_ObjectGetChildFieldByID}function ngfd_WWWDoTypedValue(a){if(""!=ng_toString(a)&&(a=ng_formatWWW(a,null),null===a))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_www");return a}function ngFieldDef_WWW(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_WWWDoTypedValue}function ngfd_EmailParseAtSign(a,b){var c=ng_toString(a);return(b=ng_toBool(b))&&""==c?"@":b||"@"!=c?c:""}
function ngfd_EmailParseString(a){return ngVal(this.Attrs.AtSignIfEmpty,!0)?this.ParseAtSign(a,!1):a}function ngfd_EmailFormatString(a){return ngVal(this.Attrs.AtSignIfEmpty,!0)?this.ParseAtSign(a,!1):a}function ngfd_EmailEditString(a){return ngVal(this.Attrs.AtSignIfEmpty,!0)?this.ParseAtSign(a,!0):a}function ngfd_EmailDoTypedValue(a){a=ng_toString(a);if(""!=a&&!ng_isEmail(a))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_email");return a}
function ngFieldDef_Email(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_EmailDoTypedValue;this.ParseAtSign=ngfd_EmailParseAtSign;this.DoParseString=ngfd_EmailParseString;this.DoFormatString=ngfd_EmailFormatString;this.DoEditString=ngfd_EmailEditString}function ngfd_IP4DoTypedValue(a){var b=ng_toString(a);if(""!=b&&!ng_isIP4(b))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_ip4");return a}
function ngFieldDef_IP4(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_IP4DoTypedValue}function ngfd_IP6DoTypedValue(a){var b=ng_toString(a);if(""!=b&&!ng_isIP6(b))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_ip6");return a}function ngFieldDef_IP6(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_IP6DoTypedValue}
function ngfd_IP46DoTypedValue(a){var b=ng_toString(a);if(""!=b&&!ng_isIP6(b)&&!ng_isIP4(b))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_ip46");return a}function ngFieldDef_IP46(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_IP46DoTypedValue}
function ngfd_CurrencyFormatString(a){var b=ngVal(this.Attrs.CurrencyPrefix,""),c=ngVal(this.Attrs.CurrencySuffix,""),d=ngVal(this.Attrs.CurrencyUnits,"");""!=d&&(c+=" "+d);a=ng_toDECIMAL(a,this.Size,this.Precision,null);if(null===a)return null;d=ngVal(this.Attrs.Zeros,1);if(0==d||1==d){var e=a.lastIndexOf(".");if(0<=e){for(var g=a.length-1;g>=e;g--){if("."==a.charAt(g)){1==d?g++:g--;break}if("0"!=a.charAt(g))break}a=a.substr(0,g+1)}}a=ng_Format3Num(a);""!=c&&(a=ng_AddSuffix(a,c,!0));""!=b&&(a=ng_AddPrefix(a,
b,!0));return a}function ngfd_CurrencyParseString(a){var b=ngVal(this.Attrs.CurrencyPrefix,""),c=ngVal(this.Attrs.CurrencySuffix,""),d=ngVal(this.Attrs.CurrencyUnits,"");""!=d&&(c=ng_Trim(c+" "+d));""!=c&&(a=ng_StripSuffix(a,c,!0));""!=b&&(a=ng_StripPrefix(a,b,!0));return ng_Unformat3Num(a)}
function ngFieldDef_Currency(a,b,c,d){c=ngVal(c,{});d=ngVal(d,"DECIMAL");c.CurrencyUnits=ngVal(b,"");"DECIMAL"==d&&(c.Size=ngVal(c.Size,23),c.Precision=ngVal(c.Precision,3));ngFieldDefCreateAs(this,a,d,c);this.DoFormatString=ngfd_CurrencyFormatString;this.DoParseString=ngfd_CurrencyParseString}function ngfd_DistanceFormatString(a){return ng_formatDistance(a,null,ngVal(this.Precision,2))}function ngfd_DistanceParseString(a){return ng_parseDistance(a,null)}
function ngFieldDef_Distance(a,b,c){c=ngVal(c,"FLOAT");ngFieldDefCreateAs(this,a,c,b);this.DoFormatString=ngfd_DistanceFormatString;this.DoParseString=ngfd_DistanceParseString}function ngfd_AreaFormatString(a){return ng_formatArea(a,null,ngVal(this.Precision,2))}function ngfd_AreaParseString(a){return ng_parseArea(a,null)}function ngFieldDef_Area(a,b,c){c=ngVal(c,"FLOAT");ngFieldDefCreateAs(this,a,c,b);this.DoFormatString=ngfd_AreaFormatString;this.DoParseString=ngfd_AreaParseString}
function ngfd_SIUnitsFormatString(a){var b=ng_toString(this.Attrs.SIUnits);return ng_formatSIUnits(a,b,null,this.Attrs.SIAllowedPref,ngVal(this.Precision,2))}function ngfd_SIUnitsParseString(a){var b=ng_toString(this.Attrs.SIUnits);return ng_parseSIUnits(a,b,null,this.Attrs.SIAllowedPref)}
function ngFieldDef_SIUnits(a,b,c,d,e){c=ngVal(c,{});e=ngVal(e,"FLOAT");c.SIUnits=ngVal(b,"");c.SIAllowedPref=d;ngFieldDefCreateAs(this,a,e,c);this.DoFormatString=ngfd_SIUnitsFormatString;this.DoParseString=ngfd_SIUnitsParseString}function ngfd_MinutesFormatString(a){return ng_formatMinutes(a,null,0<ngVal(this.Precision,0))}function ngfd_MinutesParseString(a){return ng_parseMinutes(a,null)}
function ngFieldDef_Minutes(a,b,c){c=ngVal(c,"INTEGER");ngFieldDefCreateAs(this,a,c,b);this.DoFormatString=ngfd_MinutesFormatString;this.DoParseString=ngfd_MinutesParseString}function ngfd_SecondsFormatString(a){return ng_formatSeconds(a,null,0<ngVal(this.Precision,0))}function ngfd_SecondsParseString(a){return ng_parseSeconds(a,null)}
function ngFieldDef_Seconds(a,b,c){c=ngVal(c,"INTEGER");ngFieldDefCreateAs(this,a,c,b);this.DoFormatString=ngfd_SecondsFormatString;this.DoParseString=ngfd_SecondsParseString}function ngfd_BytesFormatString(a){return ng_formatBytes(a,null,0<ngVal(this.Precision,0))}function ngfd_BytesParseString(a){return ng_parseBytes(a,null)}function ngFieldDef_Bytes(a,b,c){c=ngVal(c,"INTEGER");ngFieldDefCreateAs(this,a,c,b);this.DoFormatString=ngfd_BytesFormatString;this.DoParseString=ngfd_BytesParseString}
function ngfd_IsPhone(a){return ng_isPhone(a,!1,ngVal(this.Attrs.PhoneAllowShortcode,!1))}function ngfd_PhoneFormatString(a){return this.IsPhone(a)?ng_FormatPhone(a,null,ngVal(this.Attrs.PhoneZeros,!1),ngVal(this.Attrs.PhoneSeparator," ")):a}function ngfd_PhoneEditString(a){var b=ng_UnformatPhone(a,a);return this.IsPhone(b)?b:a}function ngfd_PhoneParseString(a){var b=ng_UnformatPhone(a,a);return this.IsPhone(b)?b:a}
function ngfd_PhoneFormatError(a){if("viewmodel_err_invalidphoneprefix"==a.ErrorMessage){a="";var b=this.Attrs.PhoneAllowedPrefixes,c;for(c in b)""!=a&&(a+=", "),a+=b[c];return""==a?ngTxt("viewmodel_err_invalidphoneprefix_novalue"):ng_sprintf(ngTxt("viewmodel_err_invalidphoneprefix"),a)}return ng_ViewModelFormatError(a)}
function ngfd_PhoneTypedValue(a){if(null!=a){var b=ng_toString(a,null);if(null===b)return b;a=this.Attrs.PhoneAllowedPrefixes;var c=ngVal(this.Attrs.PhoneAllowShortcode,!1),d=this.Attrs.PhonePrefix,e=ngVal(this.Attrs.PhonePrefixOperation,ng_isEmpty(d)?NG_PHONE_PREFIX_DONTCHANGE:NG_PHONE_PREFIX_ADD),d=ngVal(d,""),b=ng_NormalizePhone(b,e,d);if(!1===b||!ng_isPhone(b,ng_isEmpty(a)?!0:!1,c,this.Attrs.PhoneAllowedShortcodes))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_notphone");if(!(ng_isEmpty(a)||
c&&ng_isShortCode(b)||ng_hasPhoneValidPrefix(b,!1,a)))throw new ngFieldDefException(this,FIELDDEF_ERR,"viewmodel_err_invalidphoneprefix");a=b}return a}
function ngFieldDef_Phone(a,b){this.Size=NG_PHONE_MAXLENGTH;ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.IsPhone=ngfd_IsPhone;this.DoFormatError=ngfd_PhoneFormatError;this.DoTypedValue=ngfd_PhoneTypedValue;this.DoFormatString=ngfd_PhoneFormatString;this.DoEditString=ngfd_PhoneEditString;this.DoParseString=ngfd_PhoneParseString}
function ngfd_RegExpDoTypedValue(a){var b=ng_toString(a);if(""!=b&&""!=this.Attrs.RegExp){b=(new RegExp(this.Attrs.RegExp,ngVal(this.Attrs.RegExpMods,""))).exec(b);if(!b)throw new ngFieldDefException(this,FIELDDEF_ERR,ngVal(this.Attrs.RegExpError,"viewmodel_err_format"));if(1<b.length){a="";for(var c=1;c<b.length;c++)a+=b[c]}}return a}function ngFieldDef_RegExp(a,b){ngFieldDefCreateAs(this,a,ng_typeObject(b)&&0<b.Size?"NVARCHAR":"STRING",b);this.DoTypedValue=ngfd_RegExpDoTypedValue}
function ngfd_PercentFormatString(a){a=ng_toDECIMAL(a,this.Size,this.Precision,null);return null===a?null:ng_AddSuffix(a," %")}function ngfd_PercentParseString(a){return ng_Trim(ng_StripSuffix(a,"%"))}function ngFieldDef_Percent(a,b){b=ngVal(b,{});b.Size=ngVal(b.Size,3);b.Precision=ngVal(b.Precision,0);b.MinValue=ngVal(b.MinValue,0);b.MaxValue=ngVal(b.MaxValue,100);ngFieldDefCreateAs(this,a,"DECIMAL",b);this.DoFormatString=ngfd_PercentFormatString;this.DoParseString=ngfd_PercentParseString};"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.calendar="Kalend\u00e1\u0159";ngc_Lang.cs.calendar_today="Dnes";ngc_Lang.cs.calendar_tomorrow="+1";ngc_Lang.cs.calendar_tomorrow_alt="Z\u00edtra";ngc_Lang.cs.calendar_nextweek="+7";ngc_Lang.cs.calendar_nextweek_alt="Za t\u00fdden";ngc_Lang.cs.calendar_nextmonth="N\u00e1sleduj\u00edc\u00ed m\u011bs\u00edc";ngc_Lang.cs.calendar_prevmonth="P\u0159edch\u00e1zej\u00edc\u00ed m\u011bs\u00edc";
ngc_Lang.cs.calendar_nextyear="N\u00e1sleduj\u00edc\u00ed rok";ngc_Lang.cs.calendar_prevyear="P\u0159edch\u00e1zej\u00edc\u00ed rok";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.colorpicker_hue="Odst\u00edn";ngc_Lang.cs.colorpicker_saturation="Sytost";ngc_Lang.cs.colorpicker_value="Jas";ngc_Lang.cs.colorpicker_satval="Sytost a jas";ngc_Lang.cs.colorpicker_red="\u010cerven\u00e1";ngc_Lang.cs.colorpicker_green="Zelen\u00e1";ngc_Lang.cs.colorpicker_blue="Modr\u00e1";ngc_Lang.cs.colorpicker_alpha="Kryt\u00ed";ngc_Lang.cs.colorpicker_hex="HTML";
ngc_Lang.cs.colorpicker_alphahex="HTML s kryt\u00edm";ngc_Lang.cs.colorpicker_from="P\u016fvodn\u00ed barva";ngc_Lang.cs.colorpicker_to="Nov\u00e1 barva";ngc_Lang.cs["colorpicker_H-SV"]="H-SV";ngc_Lang.cs.colorpicker_HSV="HSV";ngc_Lang.cs.colorpicker_RGB="RGB";ngc_Lang.cs.colorpicker_Submit="OK";ngc_Lang.cs.colorpicker_Cancel="Storno";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.mbOK="OK";ngc_Lang.cs.mbCancel="Storno";ngc_Lang.cs.mbYes="Ano";ngc_Lang.cs.mbNo="Ne";ngc_Lang.cs.ngAbout="O aplikaci";ngc_Lang.cs.ngAboutVersion="Verze %s";ngc_Lang.cs.ngAboutBrowser="Prohl\u00ed\u017ee\u010d: %s";ngc_Lang.cs.ngAboutWindow="Okno: %s";ngc_Lang.cs.ngAboutLanguage="Jazyk: %s";ngc_Lang.cs.ngAboutSystemInfo="Syst\u00e9mov\u00e9 informace";ngc_Lang.cs.ngAboutComponents="Pou\u017eit\u00e9 komponenty";
ngc_Lang.cs.ngAboutLibraries="Knihovny";ngc_Lang.cs.ngAboutTrademarks="Ochrann\u00e9 zn\u00e1mky";ngc_Lang.cs.ngAboutReleaseNotes="Pozn\u00e1mky k verzi";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.ngfup_ColFile="Soubory";ngc_Lang.cs.ngfup_AddFile="P\u0159idat soubor";ngc_Lang.cs.ngfup_RemoveFiles="Odebrat vybran\u00e9 soubory";ngc_Lang.cs.ngfup_Uploading="Prob\u00edh\u00e1 nahr\u00e1v\u00e1n\u00ed souboru... Pros\u00edm \u010dekejte.";ngc_Lang.cs.ngfup_Error_General="Do\u0161lo k chyb\u011b. Zkuste to pros\u00edm znovu.";ngc_Lang.cs.ngfup_Error_Size="Byla p\u0159ekro\u010dena maxim\u00e1ln\u00ed velikost souboru.";
ngc_Lang.cs.ngfup_Error_Size_Num="Byla p\u0159ekro\u010dena maxim\u00e1ln\u00ed velikost souboru (%s).";ngc_Lang.cs.ngfup_Error_Extension="Tento typ souboru nen\u00ed povolen.";ngc_Lang.cs.ngfup_Error_Extension_Info="Tento typ souboru nen\u00ed povolen. Povolen\u00e9 typy: %s.";ngc_Lang.cs.ngfup_Error_AllowedExtensions="Povolen\u00e9 typy soubor\u016f: %s.";ngc_Lang.cs.ngfup_Error_MaxFiles="Byl p\u0159ekro\u010den maxim\u00e1ln\u00ed po\u010det soubor\u016f.";
ngc_Lang.cs.ngfup_Error_MaxFiles_Num="Byl p\u0159ekro\u010den maxim\u00e1ln\u00ed po\u010det soubor\u016f (%d).";ngc_Lang.cs.ngfup_Error_MaxBatch="Byla p\u0159ekro\u010dena maxim\u00e1ln\u00ed velikost d\u00e1vky.";ngc_Lang.cs.ngfup_Error_MaxBatch_Num="Byla p\u0159ekro\u010dena maxim\u00e1ln\u00ed velikost d\u00e1vky (%s).";ngc_Lang.cs.ngfup_DragAndDropOne="Sem p\u0159et\u00e1hn\u011bte soubor.";ngc_Lang.cs.ngfup_DragAndDropMore="Sem p\u0159et\u00e1hn\u011bte soubory.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.calendar="Calendar";ngc_Lang.en.calendar_today="Today";ngc_Lang.en.calendar_tomorrow="+1";ngc_Lang.en.calendar_tomorrow_alt="Tomorrow";ngc_Lang.en.calendar_nextweek="+7";ngc_Lang.en.calendar_nextweek_alt="In A Week";ngc_Lang.en.calendar_nextmonth="Next Month";ngc_Lang.en.calendar_prevmonth="Previous Month";ngc_Lang.en.calendar_nextyear="Next Year";ngc_Lang.en.calendar_prevyear="Previous Year";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.colorpicker_hue="Hue";ngc_Lang.en.colorpicker_saturation="Saturation";ngc_Lang.en.colorpicker_value="Value";ngc_Lang.en.colorpicker_satval="Saturation and value";ngc_Lang.en.colorpicker_red="Red";ngc_Lang.en.colorpicker_green="Green";ngc_Lang.en.colorpicker_blue="Blue";ngc_Lang.en.colorpicker_alpha="Opacity";ngc_Lang.en.colorpicker_hex="HTML";ngc_Lang.en.colorpicker_alphahex="HTML with opacity";
ngc_Lang.en.colorpicker_from="Source color";ngc_Lang.en.colorpicker_to="Target color";ngc_Lang.en["colorpicker_H-SV"]="H-SV";ngc_Lang.en.colorpicker_HSV="HSV";ngc_Lang.en.colorpicker_RGB="RGB";ngc_Lang.en.colorpicker_Submit="OK";ngc_Lang.en.colorpicker_Cancel="Cancel";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.mbOK="OK";ngc_Lang.en.mbCancel="Cancel";ngc_Lang.en.mbYes="Yes";ngc_Lang.en.mbNo="No";ngc_Lang.en.ngAbout="About";ngc_Lang.en.ngAboutVersion="Version %s";ngc_Lang.en.ngAboutBrowser="Browser: %s";ngc_Lang.en.ngAboutWindow="Window: %s";ngc_Lang.en.ngAboutLanguage="Language: %s";ngc_Lang.en.ngAboutUserControls="User Controls: %s";ngc_Lang.en.ngAboutSystemInfo="System Info";
ngc_Lang.en.ngAboutComponents="Used Components";ngc_Lang.en.ngAboutLibraries="Libraries";ngc_Lang.en.ngAboutTrademarks="Legal Trademarks";ngc_Lang.en.ngAboutReleaseNotes="Release Notes";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.ngfup_ColFile="Files";ngc_Lang.en.ngfup_AddFile="Add file";ngc_Lang.en.ngfup_RemoveFiles="Remove selected files";ngc_Lang.en.ngfup_Uploading="Uploading in progress... Please wait.";ngc_Lang.en.ngfup_Error_General="An error has occurred. Please try again.";ngc_Lang.en.ngfup_Error_Size="File size has been exceeded.";ngc_Lang.en.ngfup_Error_Size_Num="File size has been exceeded (%s).";
ngc_Lang.en.ngfup_Error_Extension="This file type is not allowed.";ngc_Lang.en.ngfup_Error_Extension_Info="This file type is not allowed. Allowed types: %s.";ngc_Lang.en.ngfup_Error_AllowedExtensions="Allowed file types: %s.";ngc_Lang.en.ngfup_Error_MaxFiles="The maximum number of files has been exceeded.";ngc_Lang.en.ngfup_Error_MaxFiles_Num="The maximum number of files has been exceeded (%d).";ngc_Lang.en.ngfup_Error_MaxBatch="Batch size has been exceeded.";
ngc_Lang.en.ngfup_Error_MaxBatch_Num="Batch size has been exceeded (%s).";ngc_Lang.en.ngfup_DragAndDropOne="Drag and drop file here.";ngc_Lang.en.ngfup_DragAndDropMore="Drag and drop files here.";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.calendar="Kalend\u00e1r";ngc_Lang.sk.calendar_today="Dnes";ngc_Lang.sk.calendar_tomorrow="+1";ngc_Lang.sk.calendar_tomorrow_alt="Zajtra";ngc_Lang.sk.calendar_nextweek="+7";ngc_Lang.sk.calendar_nextweek_alt="Za t\u00fd\u017ede\u0148";ngc_Lang.sk.calendar_nextmonth="Nasleduj\u00faci mesiac";ngc_Lang.sk.calendar_prevmonth="Predch\u00e1dzaj\u00faci mesiac";ngc_Lang.sk.calendar_nextyear="Nasleduj\u00faci rok";
ngc_Lang.sk.calendar_prevyear="Predch\u00e1dzaj\u00faci rok";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.colorpicker_hue="Odtie\u0148";ngc_Lang.sk.colorpicker_saturation="S\u00fdtos\u0165";ngc_Lang.sk.colorpicker_value="Jas";ngc_Lang.sk.colorpicker_satval="S\u00fdtos\u0165 a jas";ngc_Lang.sk.colorpicker_red="\u010cerven\u00e1";ngc_Lang.sk.colorpicker_green="Zelen\u00e1";ngc_Lang.sk.colorpicker_blue="Modr\u00e1";ngc_Lang.sk.colorpicker_alpha="Krytie";ngc_Lang.sk.colorpicker_hex="HTML";
ngc_Lang.sk.colorpicker_alphahex="HTML s kryt\u00edm";ngc_Lang.sk.colorpicker_from="P\u00f4vodn\u00e1 farba";ngc_Lang.sk.colorpicker_to="Nov\u00e1 farba";ngc_Lang.sk["colorpicker_H-SV"]="H-SV";ngc_Lang.sk.colorpicker_HSV="HSV";ngc_Lang.sk.colorpicker_RGB="RGB";ngc_Lang.sk.colorpicker_Submit="OK";ngc_Lang.sk.colorpicker_Cancel="Storno";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.mbOK="OK";ngc_Lang.sk.mbCancel="Storno";ngc_Lang.sk.mbYes="\u00c1no";ngc_Lang.sk.mbNo="Nie";ngc_Lang.sk.ngAbout="O aplik\u00e1cii";ngc_Lang.sk.ngAboutVersion="Verzia %s";ngc_Lang.sk.ngAboutBrowser="Prehliada\u010d: %s";ngc_Lang.sk.ngAboutWindow="Okno: %s";ngc_Lang.sk.ngAboutLanguage="Jazyk: %s";ngc_Lang.sk.ngAboutSystemInfo="Syst\u00e9mov\u00e9 inform\u00e1cie";
ngc_Lang.sk.ngAboutComponents="Pou\u017eit\u00e9 komponenty";ngc_Lang.sk.ngAboutLibraries="Kni\u017enice";ngc_Lang.sk.ngAboutTrademarks="Ochrann\u00e9 zn\u00e1mky";ngc_Lang.sk.ngAboutReleaseNotes="Pozn\u00e1mky k verzii";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.ngfup_ColFile="S\u00fabory";ngc_Lang.sk.ngfup_AddFile="Prida\u0165 s\u00fabor";ngc_Lang.sk.ngfup_RemoveFiles="Odobra\u0165 vybran\u00e9 s\u00fabory";ngc_Lang.sk.ngfup_Uploading="Prebieha nahr\u00e1vanie s\u00faboru... Pros\u00edm \u010dakajte.";ngc_Lang.sk.ngfup_Error_General="Do\u0161lo k chybe. Sk\u00faste to pros\u00edm znova.";ngc_Lang.sk.ngfup_Error_Size="Bola prekro\u010den\u00e1 maxim\u00e1lna ve\u013ekos\u0165 s\u00faboru.";
ngc_Lang.sk.ngfup_Error_Size_Num="Bola prekro\u010den\u00e1 maxim\u00e1lna ve\u013ekos\u0165 s\u00faboru (%s).";ngc_Lang.sk.ngfup_Error_Extension="Tento typ s\u00faboru nie je povolen\u00fd.";ngc_Lang.sk.ngfup_Error_Extension_Info="Tento typ s\u00faboru nie je povolen\u00fd. Povolen\u00e9 typy: %s.";ngc_Lang.sk.ngfup_Error_AllowedExtensions="Povolen\u00e9 typy s\u00faborov: %s.";ngc_Lang.sk.ngfup_Error_MaxFiles="Bol prekro\u010den\u00fd maxim\u00e1lny po\u010det s\u00faborov.";
ngc_Lang.sk.ngfup_Error_MaxFiles_Num="Bol prekro\u010den\u00fd maxim\u00e1lny po\u010det s\u00faborov (%s).";ngc_Lang.sk.ngfup_Error_MaxBatch="Ve\u013ekos\u0165 d\u00e1vky bola prekro\u010den\u00e1.";ngc_Lang.sk.ngfup_Error_MaxBatch_Num="Ve\u013ekos\u0165 d\u00e1vky bola prekro\u010den\u00e1 (%s).";ngc_Lang.sk.ngfup_DragAndDropOne="Pretiahnite s\u00fabor sem.";ngc_Lang.sk.ngfup_DragAndDropMore="Pretiahnite s\u00fabory sem.";var ngcalSelectNone=0,ngcalSelectSingle=1,ngcalSelectMulti=2,ngcalSelectMultiExt=3,ngcalSelectRange=4;function ngcal_DateStrKey(a){return a?""+a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate():""}function ngcal_SetMonth(a){var b=this.CurrentDate.getMonth()!=a.getMonth();this.CurrentDate=a;b&&this.UpdateCalendar();return b}
function ngcal_NextMonth(a){var b,c;c=this.CurrentDate;b=c.getFullYear();c=c.getMonth()+1;11<c&&(c=0,ngVal(a,!0)&&b++);this.CurrentDate=new Date(b,c,1);this.UpdateCalendar()}function ngcal_PrevMonth(a){var b,c;c=this.CurrentDate;b=c.getFullYear();c=c.getMonth()-1;0>c&&(c=11,ngVal(a,!0)&&b--);this.CurrentDate=new Date(b,c,1);this.UpdateCalendar()}function ngcal_NextYear(){var a,b;b=this.CurrentDate;a=b.getFullYear()+1;b=b.getMonth();this.CurrentDate=new Date(a,b,1);this.UpdateCalendar()}
function ngcal_PrevYear(){var a,b;b=this.CurrentDate;a=b.getFullYear()-1;b=b.getMonth();this.CurrentDate=new Date(a,b,1);this.UpdateCalendar()}function ngcal_IsDayEnabled(a){var b=!0;this.MinDate&&a<this.MinDate&&(b=!1);b&&this.MaxDate&&a>this.MaxDate&&(b=!1);b&&ngVal(this.BlockedDates[a],!1)&&(b=!1);b&&ngVal(this.BlockedDates[ngcal_DateStrKey(a)],!1)&&(b=!1);b&&ngVal(this.BlockedWeekDays[a.getDay()],!1)&&(b=!1);this.OnIsDayEnabled&&(b=this.OnIsDayEnabled(this,a,b));return b}
var ngcal_CurrentDay="";function ngcal_DE(a,b){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){if(""!=ngcal_CurrentDay){var c=document.getElementById(ngcal_CurrentDay);ngcal_DL(a,c)}ngcal_CurrentDay=b.id;if(c=document.getElementById(b.id)){var d=c.className;0>d.indexOf("_Focus")&&(d+="_Focus");c.className=d}ngc_EnterImg(b.id+"I")}}
function ngcal_DL(a,b){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){ngcal_CurrentDay==b.id&&(ngcal_CurrentDay="");var c=document.getElementById(b.id);if(c){var d=c.className,e=d.indexOf("_Focus");0<=e&&(d=d.substring(0,e));c.className=d}ngc_LeaveImg(b.id+"I")}}
function ngcal_DayFromElmId(a){var b="",c="",d="",e=a.lastIndexOf("_D");0<=e&&(b=a.substring(0,e),a=ng_Expand2Id(a.substring(e+2,a.length)),""!=a.id1&&(c=parseInt(a.id1)),""!=a.id2&&(d=parseInt(a.id2)));return{id:b,row:c,col:d}}
function ngcal_MD(a,b){a||(a=window.event);var c=ngcal_DayFromElmId(b.id);if(""!=c.id&&""!=c.row&&""!=c.col){var d=ngGetControlById(c.id,"ngCalendar");if(d&&d.Enabled){c.row--;c.col--;var e=d.DisplayedDates[7*c.row+c.col];a.cal=d;a.caldate=e;a.calrow=c.row;a.calcol=c.col;if((!d.OnDayClick||ngVal(d.OnDayClick(a),!1))&&d.SelectType){var c=ngVal(a.shiftKey,!1),g=ngVal(a.ctrlKey,!1);3!=d.SelectType||g||(d.SelectedDates=[]);if(d.CurrentDate.getMonth()==e.getMonth()&&d.IsDayEnabled(e)){var k=!1;d.BeginUpdate();
try{var n=d.SelectType==ngcalSelectRange?!0:"undefined"===typeof d.SelectedDates[ngcal_DateStrKey(e)];if(2!=d.SelectType&&3!=d.SelectType||!c||null==d.last_selected)d.SelectDate(e,n,g);else{3==d.SelectType&&(n=!0);var r;if(e<=d.last_selected)for(;e<=d.last_selected;){r=ngcal_DateStrKey(e);if(k||"undefined"!==typeof d.SelectedDates[r]!=n)k=!0,n?d.SelectedDates[r]=e:delete d.SelectedDates[r];e.setDate(e.getDate()+1)}else for(;e>=d.last_selected;){r=ngcal_DateStrKey(e);if(k||"undefined"!==typeof d.SelectedDates[r]!=
n)k=!0,n?d.SelectedDates[r]=e:delete d.SelectedDates[r];e.setDate(e.getDate()-1)}}}finally{k&&d.SelectChanged(),d.EndUpdate()}}}}}}function ngcal_SelectChanged(){this.OnSelectChanged&&this.OnSelectChanged(this);this.UpdateCalendar()}function ngcal_ClearSelected(){for(var a in this.SelectedDates){this.SelectedDates=[];this.last_selected=null;this.SelectChanged();break}}
function ngcal_SelectDate(a,b,c){if(0!=this.SelectType&&(a=ngVal(a,null)))if(b=ngVal(b,!0),a=ng_ExtractDate(a),this.SelectType==ngcalSelectRange){if(b)if(a<this.SelectFrom)this.SelectFrom=a,this.SelectChanged();else if(a>this.SelectTo)this.SelectTo=a,this.SelectChanged();else if(0!=this.SelectFrom-a||0!=this.SelectTo-a)this.SelectTo=this.SelectFrom=a,this.SelectChanged()}else b&&(1==this.SelectType||3==this.SelectType&&!ngVal(c,!1))&&(this.SelectedDates=[]),c=ngcal_DateStrKey(a),"undefined"!==typeof this.SelectedDates[c]!=
b&&(b&&(this.last_selected=a),b?this.SelectedDates[c]=a:delete this.SelectedDates[c],this.SelectChanged()),b&&(b=ngVal(this.DropDownOwner,null))&&1==this.SelectType&&("function"===typeof b.SetDate?b.SetDate(a):"function"===typeof b.SetText&&b.SetText(this.FormatDate(a)),b.HideDropDown&&b.HideDropDown(),b.SetFocus())}
function ngcal_GetSelected(){var a=[];if(this.SelectType==ngcalSelectRange)a.push(this.SelectFrom),a.push(this.SelectTo);else for(var b in this.SelectedDates)"undefined"!==typeof this.SelectedDates[b]&&a.push(this.SelectedDates[b]);return a}
function ngcal_SetSelected(a){if("string"===typeof a||ng_typeDate(a)){var b=[];b[0]=a;a=b}if(a=ngVal(a,null)){this.BeginUpdate();try{this.ClearSelected();for(var c,d=b=0,e=0;e<a.length;e++)if(c=a[e],"string"===typeof c&&(c=this.ParseDate(c)),"undefined"!==typeof c){c=ng_ExtractDate(c);if(this.SelectType==ngcalSelectRange){if(!d)this.SelectFrom=c;else if(1==d)this.SelectTo=c;else if(1<d)break;d++}else this.SelectedDates[ngcal_DateStrKey(c)]=c;b||(this.CurrentDate=c,b=1)}1==d&&(this.SelectTo=this.SelectFrom)}finally{this.SelectChanged(),
this.EndUpdate()}}else this.ClearSelected()}function ngcal_BeginUpdate(){this.update_cnt++}function ngcal_EndUpdate(){this.update_cnt--;0>=this.update_cnt&&(this.update_cnt=0,this.need_update&&this.UpdateCalendar())}function ngcal_DayImgDrawProps(a,b,c,d){b=ngc_ImgProps(a,b,c,d);ngcal_CurrentDay==a.substring(0,a.length-1)?(b.aL=b.oL,b.aT=b.oT):(b.aL=b.L,b.aT=b.T);return b}
function ngcal_UpdateCalendar(){if(0<this.update_cnt)this.need_update=!0;else{this.need_update=!1;var a=this.Elm();if(a){var b=this.BaseClassName,c=ng_ExtractDate(new Date),d=this.CurrentDate.getMonth()+1,e=this.CurrentDate.getFullYear(),g=[0,31,28,31,30,31,30,31,31,30,31,30,31];ng_LeapYear(e)&&(g[2]=29);var k=new Date(e,d-1,1),a=k,n=e,r=d,u=1;this.SelectType==ngcalSelectRange&&this.SelectFrom>this.SelectTo&&(a=this.SelectFrom,this.SelectFrom=this.SelectTo,this.SelectTo=a);a=k.getDay();a=a>=this.WeekStartDay?
a-this.WeekStartDay:7-this.WeekStartDay+a;0<a&&(r--,1>r&&(r=12,n--),u=g[r]-a+1);if(a=this.Elm()){ng_ClientWidth(a);k=document.getElementById(this.ID+"_Tab");if((a=document.getElementById(this.ID+"_Head"))&&k){var k=ng_ClientWidth(k),x=0,w,y,A=0,z,B=0;if(this.Navigation){y=k;if(w=this.PrevMonBtn.Visible?this.PrevMonBtn.Elm():null)w.style.left="0px",w.style.top="0px",z=ng_ClientWidth(w),y-=z,B=z,w=ng_ClientHeight(w),w>A&&(A=w);if(w=this.NextMonBtn.Visible?this.NextMonBtn.Elm():null)w.style.top="0px",
z=ng_ClientWidth(w),y-=z,w.style.left=k-z+"px",w=ng_ClientHeight(w),w>A&&(A=w);if(w=document.getElementById(this.ID+"_MON"))this.YearNavigation?ng_SetInnerHTML(w,ngTxt("calendar_months")[d-1]):ng_SetInnerHTML(w,ngTxt("calendar_months")[d-1]+" "+e),w.style.left=B+"px",w.style.width=y+"px",w=ng_ClientHeight(w),w>A&&(A=w);x+=A;if(this.YearNavigation){A=0;y=k;if(w=this.PrevYearBtn.Visible?this.PrevYearBtn.Elm():null)w.style.display="block",w.style.left="0px",w.style.top=x+"px",z=ng_ClientWidth(w),y-=
z,B=z,w=ng_ClientHeight(w),w>A&&(A=w);if(w=this.NextYearBtn.Visible?this.NextYearBtn.Elm():null)w.style.display="block",w.style.top=x+"px",z=ng_ClientWidth(w),y-=z,w.style.left=k-z+"px",w=ng_ClientHeight(w),w>A&&(A=w);if(w=document.getElementById(this.ID+"_YEAR"))w.style.display="block",ng_SetInnerHTML(w,e),w.style.top=x+"px",w.style.left=B+"px",w.style.width=y+"px",w=ng_ClientHeight(w),w>A&&(A=w);x+=A}else{if(w=this.PrevYearBtn.Visible?this.PrevYearBtn.Elm():null)w.style.display="none";if(w=this.NextYearBtn.Visible?
this.NextYearBtn.Elm():null)w.style.display="none";if(w=document.getElementById(this.ID+"_YEAR"))w.style.display="none"}}0<x&&(a.style.height=x+"px");a.style.display=x?"":"none"}for(e=0;6>e;e++)for(k=0;6>=k;k++)if(A=this.ID+"_D"+(e+1)+"_"+(k+1),od=document.getElementById(A))a=new Date(n,r-1,u),this.DisplayedDates[7*e+k]=a,B=this.SelectType==ngcalSelectRange?a>=this.SelectFrom&&a<=this.SelectTo:"undefined"!==typeof this.SelectedDates[ngcal_DateStrKey(a)],x=this.Enabled&&r==d?this.IsDayEnabled(a):!1,
w=0==a-c,y=b+"Days "+b+(w?"Now":"Day"),B&&(y+="Selected"),x||(y+="Disabled"),ngcal_CurrentDay==A&&(y+="_Focus"),(w=this.OnGetDayImg?this.OnGetDayImg(this,a,k,e):w&&this.ImgNow?this.ImgNow:this.ImgDay)&&ngc_ChangeImage(ngcal_DayImgDrawProps(A+"I",B?1:0,x,w)),A=this.OnGetDayAlt?ngVal(this.OnGetDayAlt(this,a,k,e),""):this.FormatDate(a),a=this.OnGetDayText?ngVal(this.OnGetDayText(this,a,k,e),""):u,ng_SetInnerHTML(od,a),od.title=A,od.className=y,od.onmouseover=function(a){ngcal_DE(a,this)},od.onmouseout=
function(a){ngcal_DL(a,this)},od.onclick=function(a){ngcal_MD(a,this)},od.onselectstart=function(){return!1},od.style.cursor=x?"pointer":"default",u++,u>g[r]&&(u=1,r++),12<r&&(r=1,n++)}}}}
function ngcal_DoUpdate(a){var b=this.BaseClassName,c=new ngStringBuilder;c.append('<table id="'+this.ID+'_Tab" cellspacing="0" border="0" cellpadding="0">');c.append('<tr><td id="'+this.ID+'_Head" class="'+b+'Header" colspan="7" align="left" valign="top"><div style="position:absolute;">');for(var d,e,g,k=0;6>k;k++){switch(k){case 0:e=this.PrevMonBtn;g="PrevMon";break;case 1:d=this.ID+"_MON";g="Month"+(this.Enabled?"":"Disabled");e=null;break;case 2:e=this.NextMonBtn;g="NextMon";break;case 3:e=this.PrevYearBtn;
g="PrevYear";break;case 4:d=this.ID+"_YEAR";g="Year"+(this.Enabled?"":"Disabled");e=null;break;case 5:e=this.NextYearBtn,g="NextYear"}e&&(""==e.ID&&e.Attach(this.ID+"_B"+(k+1)),d=e.ID,e.Enabled=this.Enabled,"undefined"!==typeof e.className&&(g=e.className));c.append('<div id="'+d+'" class="'+b+g+'" style="position:absolute;"></div>')}c.append("</div>&nbsp;</td></tr>");var n,r,u=ngTxt("calendar_days_short"),x=ngTxt("calendar_days");c.append('<tr id="'+this.ID+'_WeekDays" class="'+b+'WeekDaysRow">');
for(k=0;7>k;k++){c.append("<td>");d=(this.WeekStartDay+k)%7;r=ngVal(this.HiliteWeekDays[d],!1);if(g=this.OnGetWeekDayImg?this.OnGetWeekDayImg(this,d):this.ImgWeekDay)n=ngc_ImgProps(this.ID+"_WD"+n,r?1:0,this.Enabled,g),ngc_Img(c,n,"position:absolute;",ngVal(g.Attrs,""));g="WeekDay";r&&(g+="Hilite");this.Enabled||(g+="Disabled");r=this.OnGetWeekDayAlt?ngVal(this.OnGetWeekDayAlt(this,d),""):x[d];d=this.OnGetWeekDayText?ngVal(this.OnGetWeekDayText(this,d),""):u[d];c.append('<div class="'+b+"WeekDays "+
b+g+'" title="'+ng_htmlEncode(r)+'">'+d+"</div></td>")}c.append("</tr>");for(k=k=1;6>=k;k++){c.append("<tr>");for(u=1;7>=u;u++){c.append("<td>");d=this.ID+"_D"+k+"_"+u;if(g=this.OnGetDayImg?this.OnGetDayImg(this,null,u-1,k-1):this.ImgDay)n=ngcal_DayImgDrawProps(d+"I",0,this.Enabled,g),ngc_Img(c,n,"position:absolute;",ngVal(g.Attrs,""));c.append('<div id="'+d+'"></div></td>')}c.append("</tr>")}if(this.FastNavigation&&this.FastButtons&&0<this.FastButtons.length){c.append('<tr><td id="'+this.ID+'_Foot" class="'+
b+'Footer" colspan="7" align="left" valign="top"><div style="position: absolute;">');for(k=0;k<this.FastButtons.length;k++)if(g=b+"FastBtn",e=this.FastButtons[k])e.Enabled=this.Enabled,e.Parent=this,e.Visible&&(""==e.ID&&e.Attach(this.ID+"_FB"+(k+1)),"undefined"!==typeof e.className&&(g=e.className,d=g.indexOf(" "),e.BaseClassName=0<=d?g.substr(0,d):g),c.append('<div id="').append(e.ID).append('" class="').append(g).append('" style="position: absolute; z-index:1;"></div>'));c.append("</div></td></tr>")}c.append("</table>");
(b=!ng_EmptyVar(this.Frame))&&c.append('<div id="'+this.ID+'_F" style="position: absolute;left:0px;top:0px;z-index:800;"></div>');ng_SetInnerHTML(a,c.toString());for(k=0;6>k;k++){switch(k){case 0:e=this.PrevMonBtn;break;case 1:e=null;break;case 2:e=this.NextMonBtn;break;case 3:e=this.PrevYearBtn;break;case 4:e=null;break;case 5:e=this.NextYearBtn}e&&(e.Parent=this,e.Update())}this.UpdateCalendar();a.style.width="";a.style.height="";d=ng_ClientWidth(a);if(this.FastNavigation&&this.FastButtons&&0<this.FastButtons.length){for(k=
g=n=c=0;k<this.FastButtons.length;k++)if(e=this.FastButtons[k])if(e.Update(),u=e.Elm())e=ng_OuterWidth(u),n+e>d&&0<n&&(g+=c,c=n=0),u.style.left=n+"px",u.style.top=g+"px",u=ng_OuterHeight(u),u>c&&(c=u),n+=e;g+=c;if(u=document.getElementById(this.ID+"_Foot"))u.style.height=g+"px"}e=ng_ClientHeight(a);ng_SetClientWidth(a,d);ng_SetClientHeight(a,e);k=ng_StyleWidth(a);a=ng_StyleHeight(a);if(this.Bounds.W!=k||this.Bounds.H!=a)this.Bounds.W=k,this.Bounds.H=a,this.SetBounds();if(k=ngVal(this.DropDownOwner,
null))this.MaxHeight=e;b&&(a=document.getElementById(this.ID+"_F"))&&(k=new ngStringBuilder,ngc_ImgBox(k,this.ID,"ngCalendar",this.ControlHasFocus?1:0,this.Enabled,0,0,d,e,!1,this.Frame),ng_SetInnerHTML(a,k.toString()));return!0}var ngcal_LeaveTimer=null;function ngcal_DoMouseEnter(a,b,c){ngcal_LeaveTimer&&clearTimeout(ngcal_LeaveTimer);ngcal_LeaveTimer=null;b&&b.Object&&b.Object!=this&&ngcal_DoLeave(b.Object.ID);this.OnMouseEnter&&this.OnMouseEnter(this)}
function ngcal_DoLeave(a){ngcal_LeaveTimer&&clearTimeout(ngcal_LeaveTimer);ngcal_LeaveTimer=null;var b=ngGetControlById(a,"ngCalendar");a&&(""!=ngcal_CurrentDay&&(a=document.getElementById(ngcal_CurrentDay))&&ngcal_DL(null,a),b.OnMouseLeave&&b.OnMouseLeave(b))}function ngcal_DoMouseLeave(a){ngcal_LeaveTimer=setTimeout("ngcal_DoLeave('"+this.ID+"');",100)}
function ngcal_DoDropDown(a){"function"===typeof a.GetDate?this.SetSelected(a.GetDate()):this.SetSelected(a.GetText());this.SetVisible(!0);this.SetFocus()}function ngcal_FormatDate(a){if(this.OnFormatDate)return this.OnFormatDate(this,a);var b=this.DateFormat;if(""==b){var c=ngVal(this.DropDownOwner,null);c&&(b=ngVal(c.DateFormat,""))}return ng_FormatDate(a,b)}
function ngcal_ParseDate(a){if(this.OnParseDate)return this.OnParseDate(this,a);var b=this.DateFormat;if(""==b){var c=ngVal(this.DropDownOwner,null);c&&(b=ngVal(c.DateFormat,""))}return ng_ParseDate(a,b)}
function ngCalendar(a){ngControl(this,a,"ngCalendar");this.CurrentDate=new Date;this.WeekStartDay=1;this.HiliteWeekDays={0:!0};this.DateFormat="";this.ImgNow=this.ImgDay=this.ImgWeekDay=null;a=new ngButton;a.Text="&lt;";a.Alt=ngTxt("calendar_prevmonth");a.OnClick=function(a){a.Owner.Parent&&a.Owner.Parent.PrevMonth(!a.Owner.Parent.YearNavigation)};this.PrevMonBtn=a;a=new ngButton;a.Text="&gt;";a.Alt=ngTxt("calendar_nextmonth");a.OnClick=function(a){a.Owner.Parent&&a.Owner.Parent.NextMonth(!a.Owner.Parent.YearNavigation)};
this.NextMonBtn=a;a=new ngButton;a.Text="&lt;";a.Alt=ngTxt("calendar_prevyear");a.OnClick=function(a){a.Owner.Parent&&a.Owner.Parent.PrevYear()};this.PrevYearBtn=a;a=new ngButton;a.Text="&gt;";a.Alt=ngTxt("calendar_nextyear");a.OnClick=function(a){a.Owner.Parent&&a.Owner.Parent.NextYear()};this.NextYearBtn=a;a=new ngButton;a.Text=ngTxt("calendar_today");a.Alt=ngTxt("calendar_today");a.OnClick=function(a){a.Owner.Parent&&a.Owner.Parent.SelectDate(new Date)};this.TodayBtn=a;a=new ngButton;a.Text=ngTxt("calendar_tomorrow");
a.Alt=ngTxt("calendar_tomorrow_alt");a.OnClick=function(a){if(a.Owner.Parent){var c=new Date;c.setDate(c.getDate()+1);a.Owner.Parent.SelectDate(c)}};this.TomorrowBtn=a;a=new ngButton;a.Text=ngTxt("calendar_nextweek");a.Alt=ngTxt("calendar_nextweek_alt");a.OnClick=function(a){if(a.Owner.Parent){var c=new Date;c.setDate(c.getDate()+7);a.Owner.Parent.SelectDate(c)}};this.NextWeekBtn=a;this.FastButtons=[this.TodayBtn,this.TomorrowBtn,this.NextWeekBtn];this.Navigation=!0;this.YearNavigation=!1;this.FastNavigation=
!0;this.DisplayedDates=[];this.SelectedDates=[];this.SelectType=ngcalSelectSingle;this.SelectFrom=new Date;this.SelectTo=new Date;this.BlockedDates={};this.BlockedWeekDays={};this.MaxDate=this.MinDate=null;this.Frame={};this.FormatDate=ngcal_FormatDate;this.ParseDate=ngcal_ParseDate;this.SetMonth=ngcal_SetMonth;this.NextMonth=ngcal_NextMonth;this.PrevMonth=ngcal_PrevMonth;this.NextYear=ngcal_NextYear;this.PrevYear=ngcal_PrevYear;this.ClearSelected=ngcal_ClearSelected;this.SelectDate=ngcal_SelectDate;
this.GetSelected=ngcal_GetSelected;this.SetSelected=ngcal_SetSelected;this.last_selected=null;this.SelectChanged=ngcal_SelectChanged;this.IsDayEnabled=ngcal_IsDayEnabled;this.DoUpdate=ngcal_DoUpdate;this.need_update=!1;this.update_cnt=0;this.BeginUpdate=ngcal_BeginUpdate;this.EndUpdate=ngcal_EndUpdate;this.UpdateCalendar=ngcal_UpdateCalendar;this.DoDropDown=ngcal_DoDropDown;this.DoMouseEnter=ngcal_DoMouseEnter;this.DoMouseLeave=ngcal_DoMouseLeave;this.OnMouseLeave=this.OnMouseEnter=this.OnGetDayAlt=
this.OnGetDayText=this.OnGetDayImg=this.OnGetWeekDayAlt=this.OnGetWeekDayText=this.OnGetWeekDayImg=this.OnSelectChanged=this.OnIsDayEnabled=this.OnDayClick=this.OnParseDate=this.OnFormatDate=null;ngControlCreated(this)}
function Create_ngEditDate(a,b,c){if(a=ngCreateControlAsType(a,"ngEdit",b,c))return a.DateFormat="",a.FormatDate=function(a){return this.OnFormatDate?this.OnFormatDate(this,a):ng_FormatDate(a,this.DateFormat)},a.ParseDate=function(a){return this.OnParseDate?this.OnParseDate(this,a):ng_ParseDate(a,this.DateFormat)},a.GetDate=function(){return this.ParseDate(this.GetText())},a.SetDate=function(a){this.SetText(this.FormatDate(a))},a.OnFormatDate=null,a.OnParseDate=null,a}
function Create_ngEditTime(a,b,c){var d=ngCreateControlAsType(a,"ngEdit",b,c);if(d)return d.TimeFormat="",d.FormatTime=function(a){return d.OnFormatTime?d.OnFormatTime(d,a):ng_FormatTime(a,d.TimeFormat)},d.ParseTime=function(a){return d.OnParseTime?d.OnParseTime(d,a):ng_ParseTime(a,d.DateFormat)},d.GetDate=function(){return d.ParseTime(d.GetText())},d.SetDate=function(a){d.SetText(d.FormatTime(a))},d.OnFormatTime=null,d.OnParseTime=null,d}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.calendar={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngCalendar",function(){return new ngCalendar});ngRegisterControlType("ngEditDate",Create_ngEditDate);ngRegisterControlType("ngEditTime",Create_ngEditTime)}};"undefined"==typeof ngUserControls&&(ngUserControls={});ngUserControls.ngColorControls={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngColorPicker",ngColorPicker);ngRegisterControlType("ngColorPickerBox",ngColorPickerBox);ngRegisterControlType("ngColorButton",ngColorButton);ngRegisterControlType("ngColorPickerDropDown",ngColorPickerDropDown);ngRegisterControlType("ngColorPickerHint",ngColorPickerHint);ngRegisterControlType("ngColorPickerButton",ngColorPickerButton)}};
function ngColorPicker(a,b,c){ng_MergeDef(a,{Controls:{Hue_Panel:{Controls:{Hue:{Data:{ColorComponent:"H",MinValue:0,MaxValue:360},Events:{OnSelect:ngcopch_OnHueSelect},Methods:{DrawPlane:ngcopch_DrawHue,GetValue:ngcopch_GetHue}},HueEdit:{Data:{ColorComponent:"H",Precision:2,MaxLength:6,MinValue:0,MaxValue:360},Methods:{GetValue:ngcopch_GetHue}}}},Saturation_Panel:{Controls:{Saturation:{Data:{ColorComponent:"S",MinValue:0,MaxValue:1},Events:{OnSelect:ngcopch_OnSaturationSelect},Methods:{DrawPlane:ngcopch_DrawSaturation,
GetValue:ngcopch_GetSaturation}},SaturationEdit:{Data:{ColorComponent:"S",Precision:2,MaxLength:4,MinValue:0,MaxValue:1},Methods:{GetValue:ngcopch_GetSaturation}}}},Value_Panel:{Controls:{Value:{Data:{ColorComponent:"V",MinValue:0,MaxValue:1},Events:{OnSelect:ngcopch_OnValueSelect},Methods:{DrawPlane:ngcopch_DrawValue,GetValue:ngcopch_GetValue}},ValueEdit:{Data:{ColorComponent:"V",Precision:2,MaxLength:4,MinValue:0,MaxValue:1},Methods:{GetValue:ngcopch_GetValue}}}},Red_Panel:{Controls:{Red:{Data:{ColorComponent:"R",
MinValue:0,MaxValue:255},Events:{OnSelect:ngcopch_OnRedSelect},Methods:{DrawPlane:ngcopch_DrawRed,GetValue:ngcopch_GetRed}},RedEdit:{Data:{ColorComponent:"R",MaxLength:3,MinValue:0,MaxValue:255},Methods:{GetValue:ngcopch_GetRed}}}},Green_Panel:{Controls:{Green:{Data:{ColorComponent:"G",MinValue:0,MaxValue:255},Events:{OnSelect:ngcopch_OnGreenSelect},Methods:{DrawPlane:ngcopch_DrawGreen,GetValue:ngcopch_GetGreen}},GreenEdit:{Data:{ColorComponent:"G",MaxLength:3,MinValue:0,MaxValue:255},Methods:{GetValue:ngcopch_GetGreen}}}},
Blue_Panel:{Controls:{Blue:{Data:{ColorComponent:"B",MinValue:0,MaxValue:255},Events:{OnSelect:ngcopch_OnBlueSelect},Methods:{DrawPlane:ngcopch_DrawBlue,GetValue:ngcopch_GetBlue}},BlueEdit:{Data:{ColorComponent:"B",MaxLength:3,MinValue:0,MaxValue:255},Methods:{GetValue:ngcopch_GetBlue}}}},Alpha_Panel:{Controls:{Alpha:{Data:{ColorComponent:"A",MinValue:0,MaxValue:1},Events:{OnSelect:ngcopch_OnAlphaSelect},Methods:{DrawPlane:ngcopch_DrawAlpha,GetValue:ngcopch_GetAlpha}},AlphaEdit:{Data:{ColorComponent:"A",
Precision:2,MaxLength:4,MinValue:0,MaxValue:1},Methods:{GetValue:ngcopch_GetAlpha}}}},Preview_Panel:{Controls:{From:{Events:{OnClick:ngcopch_OnFromPreviewClick}},To:{Events:{OnUpdated:ngcopch_OnToPreviewUpdated,OnClick:ngcopch_OnToPreviewClick}}}}}});ng_MergeDef(a,{ParentReferences:!1,OnCreated:ngcopch_OnPickerCreated,Data:{Color:null,AutoHeight:!1,AsToolbar:!1,EditsUpdate_timeout:1E3,EditsUpdate_timer:null,ChildHandling:ngChildEnabledParentAware},Controls:{Hue_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},
Controls:{Hue:ngcopch_GetSliderLayout(),HueEdit:ngcopch_GetEditLayout(),HueLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_hue"}}}},Saturation_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Saturation:ngcopch_GetSliderLayout(),SaturationEdit:ngcopch_GetEditLayout(),SaturationLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_saturation"}}}},Value_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Value:ngcopch_GetSliderLayout(),ValueEdit:ngcopch_GetEditLayout(),
ValueLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_value"}}}},Red_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Red:ngcopch_GetSliderLayout(),RedEdit:ngcopch_GetEditLayout(),RedLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_red"}}}},Green_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Green:ngcopch_GetSliderLayout(),GreenEdit:ngcopch_GetEditLayout(),GreenLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_green"}}}},Blue_Panel:{Type:"ngPanel",
Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Blue:ngcopch_GetSliderLayout(),BlueEdit:ngcopch_GetEditLayout(),BlueLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_blue"}}}},Alpha_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Alpha:ngcopch_GetSliderLayout(),AlphaEdit:ngcopch_GetEditLayout(),AlphaLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_alpha"}}}},SatVal_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{SatVal:{Type:"ngPanel",
ParentReferences:!1,Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Plane:{Type:"ngPanel",L:0,R:0,T:0,B:0,style:{zIndex:1},innerHTML:ngcopch_GetPlaneHTML(2),OnCreated:ngcopch_OnPlaneCreated,Events:{OnUpdated:ngcopch_DrawSatVal}},Cursor:{Type:"ngPanel",style:{zIndex:2},Events:{OnUpdated:ngcopch_PositionSatValCursor}},ClickCatcher:{Type:"ngPanel",L:0,R:0,T:0,B:0,style:{zIndex:3},OnCreated:ngcopch_OnSatValClickCatcherCreated}},Events:{OnSelect:ngcopch_OnSatValSelect,OnEscPress:ngcopch_OnSatValEscPress}},
SatValLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_satval"}}}},Hex_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{HexEdit:{Type:"ngEdit",Data:{MaxLength:7},Events:{GetValue:ngcopch_GetHex,OnUpdate:ngcopch_ShowHexEditValue,OnBlur:ngcopch_OnHexEditBlur,OnKeyPress:ngcopch_OnHexEditKeyPress}},HexLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_hex"}},AHexEdit:{Type:"ngEdit",Data:{MaxLength:9},Events:{GetValue:ngcopch_GetAHex,OnUpdate:ngcopch_ShowHexEditValue,OnBlur:ngcopch_OnHexEditBlur,
OnKeyPress:ngcopch_OnHexEditKeyPress}},AHexLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_alphahex"}}}},Preview_Panel:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{From:{Type:"ngColorButton"},FromLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_from"}},To:{Type:"ngColorButton"},ToLabel:{Type:"ngText",Data:{ngTextD:"colorpicker_to"}}}}},Methods:{ShowHSV:ngcopch_ShowHSV,ShowRGB:ngcopch_ShowRGB,ShowHEX:ngcopch_ShowHEX,SetColorHSV:ngcopch_SetHSVColor,SetColorRGB:ngcopch_SetRGBColor,
SetColorHEX:ngcopch_SetHEXColor,GetColor:ngcop_GetColor,ReDrawSatVal:ngcopch_ReDrawSatVal},Events:{OnColorChanging:null,OnColorChanged:null,OnUpdated:a.Data&&a.Data.AsToolbar?ngcopch_AutoHeight_Toolbar:ngcopch_AutoHeight_Panel}});ngcop_SetDefColor(a,{H:0,S:0,V:0,R:0,G:0,B:0,A:1,HEX:"#000000",HEXA:"#000000ff"});return ngCreateControlAsType(a,a.Data.AsToolbar?"ngToolBar":"ngPanel",b,c)}
function ngcopch_GetSliderLayout(){return{Type:"ngPanel",ParentReferences:!1,Data:{Vertical:!1,PaddingH:0,PaddingV:0,MinValue:0,MaxValue:0,WithEditBounds:null,WithoutEditBounds:null,ChildHandling:ngChildEnabledParentAware},Controls:{Plane:{Type:"ngPanel",L:0,R:0,T:0,B:0,style:{zIndex:1},innerHTML:ngcopch_GetPlaneHTML(),OnCreated:ngcopch_OnPlaneCreated,Events:{OnUpdated:ngcopch_DrawSlider},Methods:{GetImg:ngc_GetImg}},Cursor:{Type:"ngPanel",style:{zIndex:2},Events:{OnUpdated:ngcopch_PositionSliderCursor}},
ClickCatcher:{Type:"ngPanel",L:0,R:0,T:0,B:0,style:{zIndex:3},OnCreated:ngcopch_OnSliderClickCatcherCreated}},Events:{OnEscPress:ngcopch_OnSliderEscPress}}}function ngcopch_GetEditLayout(){return{Type:"ngEdit",Data:{Precision:0,MinValue:0,MaxValue:0},Events:{OnUpdate:ngcopch_ShowEditValue,OnBlur:ngcopch_OnEditBlur,OnKeyPress:ngcopch_OnEditKeyPress}}}function ngcopch_OnEditBlur(){return ngcopch_ValidateEditValue(this)}
function ngcopch_OnEditKeyPress(a){return 13===a.keyCode?ngcopch_ValidateEditValue(this):!0}function ngcopch_OnHexEditBlur(){return ngcopch_ValidateHexEditValue(this)}function ngcopch_OnHexEditKeyPress(a){return 13===a.keyCode?ngcopch_ValidateHexEditValue(this):!0}
function ngcopch_GetPlaneHTML(a){if(ngIExplorer&&10>ngIExplorerVersion){a=ng_toInteger(a,1);for(var b="",c=0;c<a;c++)b+='<v:rect stroked=False filled=True style="display:block;position:absolute"><v:fill opacity="1"></v:fill></v:rect>';return b}return"<canvas></canvas>"}ngcopch_ColorPickers=[];
function ngcopch_OnPickerCreated(a){ngcopch_ColorPickers.push(a);"function"===typeof window.addEventListener?window.addEventListener("keydown",ngcopch_OnKeyDown,!0):"function"===typeof window.attachEvent&&window.attachEvent("onkeydown",ngcopch_OnKeyDown);a.Color&&ngcob_SetButtonColor(a.Controls.From,a.Color);return!0}
function ngcopch_OnPlaneCreated(a){var b=a.Elm();if(ngIExplorer&&10>ngIExplorerVersion)for(var b=b.children,c=0;c<b.length;c++)b[c].id=a.ID+"_Shape"+(c+1);else b.getElementsByTagName("canvas").item(0).id=a.ID+"_Canvas";c=a.ParentControl;b=ng_toInteger(c.PaddingV,0);c=ng_toInteger(c.PaddingH,0);a.SetBounds({L:c,T:b,R:c,B:b});return!0}
function ngcopch_OnSliderClickCatcherCreated(a){ngc_PtrEvents(a,"slider","drag tap");a.GetPointerPos=ngc_GetPointerPos;a.OnPtrStart=ngcopch_OnSliderSelectStart;a.OnPtrDrag=ngcopch_OnSliderSelectDrag;a.OnPtrEnd=ngcopch_OnSliderSelectEnd;var b=a.ParentControl,c=ng_toInteger(b.PaddingV,0),b=ng_toInteger(b.PaddingH,0);a.SetBounds({L:b,T:c,R:b,B:c});return!0}
function ngcopch_OnSatValClickCatcherCreated(a){ngc_PtrEvents(a,"satval","drag tap");a.GetPointerPos=ngc_GetPointerPos;a.OnPtrStart=ngcopch_OnSatValSelectStart;a.OnPtrDrag=ngcopch_OnSatValSelectDrag;a.OnPtrEnd=ngcopch_OnSatValSelectEnd;var b=a.ParentControl,c=ng_toInteger(b.PaddingV,0),b=ng_toInteger(b.PaddingH,0);a.SetBounds({L:b,T:c,R:b,B:c});return!0}
function ngcopch_OnKeyDown(a){if("object"!==typeof ngcopch_ColorPickers||null===ngcopch_ColorPickers)return!0;for(var b in ngcopch_ColorPickers){var c=ngcopch_ColorPickers[b];switch(a.keyCode){case 27:"object"===typeof c.Dragged&&null!==c.Dragged&&"function"===typeof c.Dragged.OnEscPress&&c.Dragged.OnEscPress()}}return!0}
function ngcopch_GetSliderSelectValue(a,b){if("object"!==typeof a.PointerInfo)return!1;var c=a.PointerInfo.StartElement,d=a.ParentControl;ng_BeginMeasureElement(c);var e=d.Vertical?ng_ClientHeight(c):ng_ClientWidth(c),g=ng_ParentPosition(c);ng_EndMeasureElement(c);var c=ng_toFloat(d.MinValue,0),k=ng_toFloat(d.MaxValue,0),d=d.Vertical?b.Y-g.y:b.X-g.x,e=0===e?0:d/e*(k-c)+c;e<c?e=c:e>k&&(e=k);return e}
function ngcopch_SetCanvasSize(a,b,c){ngIExplorer&&10>ngIExplorerVersion?(a.style.width=b-1+"px",a.style.height=c-1+"px",a.style.left="0px",a.style.top="0px"):(a.width=b,a.height=c)}
function ngcopch_PositionSliderCursor(a,b){var c=a.ParentControl,d=0;if("function"===typeof c.GetValue)d=c.GetValue();else return!0;var e=c.Vertical,g=c.Elm();ng_BeginMeasureElement(g);var k=e?ng_ClientHeight(g):ng_ClientWidth(g);ng_EndMeasureElement(g);var g="number"===typeof a.Bounds.W?a.Bounds.W:0,n="number"===typeof a.Bounds.H?a.Bounds.H:0,r=ng_toInteger(c.PaddingH,0),u=ng_toInteger(c.PaddingV,0),k=k-2*(e?u:r),x=ng_toInteger(c.MinValue,0),c=ng_toInteger(c.MaxValue,0),d=Math.round(k*(d-x)/(c-x)),
d=d+(e?u:r)-(e?n:g)/2;a.SetBounds({L:e?0:d,T:e?d:0});return!0}function ngcopch_PositionSatValCursor(a,b){var c=a.ParentControl,d=c.Owner.Owner.GetColor(),e=ng_toFloat(d.S,0);0>e?e=0:1<e&&(e=1);d=ng_toFloat(d.V,0);0>d?d=0:1<d&&(d=1);c=c.Elm();ng_BeginMeasureElement(c);var g=ng_ClientWidth(c),k=ng_ClientHeight(c);ng_EndMeasureElement(c);a.SetBounds({L:g*e-("number"===typeof a.Bounds.H?a.Bounds.H:0)/2,T:k*(1-d)-("number"===typeof a.Bounds.W?a.Bounds.W:0)/2});return!0}
function ngcopch_GetHue(){return ng_toFloat(this.Owner.Owner.GetColor().H,0)}function ngcopch_GetSaturation(){return ng_toFloat(this.Owner.Owner.GetColor().S,0)}function ngcopch_GetValue(){return ng_toFloat(this.Owner.Owner.GetColor().V,0)}function ngcopch_GetRed(){return ng_toInteger(this.Owner.Owner.GetColor().R,0)}function ngcopch_GetGreen(){return ng_toInteger(this.Owner.Owner.GetColor().G,0)}function ngcopch_GetBlue(){return ng_toInteger(this.Owner.Owner.GetColor().B,0)}
function ngcopch_GetAlpha(){return ng_toFloat(this.Owner.Owner.GetColor().A,100)}function ngcopch_GetHex(){return ng_toString(this.Owner.Owner.GetColor().HEX,"")}function ngcopch_GetAHex(){return ng_toString(this.Owner.Owner.GetColor().HEXA,"")}
function ngcopch_DrawSlider(a,b){ng_BeginMeasureElement(b);var c=ng_ClientWidth(b),d=ng_ClientHeight(b);ng_EndMeasureElement(b);var e=this.ParentControl,g=e.Vertical,k=document.getElementById(a.ID+(ngIExplorer&&10>ngIExplorerVersion?"_Shape1":"_Canvas"));return k?"function"===typeof e.DrawPlane?e.DrawPlane(a,k,c,d,g):!0:!1}
function ngcopch_DrawSliderGradient(a,b,c,d,e,g){if(ngIExplorer&&10>ngIExplorerVersion){c=b.children[0];c.type="gradient";c.method="sigma";c.angle=e?"0":"90";d=[];for(var k=g.length;0<k;k--)e=ng_toInteger(g[k-1].R,0),a=ng_toInteger(g[k-1].G,0),b=ng_toInteger(g[k-1].B,0),e="rgb("+e+","+a+","+b+")",k===g.length?c.color=e:1===k?c.color2=e:(a=0===k?0:1-(k-1)/(g.length-1),d.push(a+" "+e));c.colors.value=d.join(",")}else{if(!b.getContext)return!1;for(var k=b.getContext("2d"),n=e?k.createLinearGradient(0,
0,0,d):k.createLinearGradient(0,0,c,0),r=0;r<g.length;r++)e=ng_toInteger(g[r].R,0),a=ng_toInteger(g[r].G,0),b=ng_toInteger(g[r].B,0),e="rgb("+e+","+a+","+b+")",a=0===r?0:r/(g.length-1),n.addColorStop(a,e);k.fillStyle=n;k.fillRect(0,0,c,d)}}
function ngcopch_DrawHue(a,b,c,d,e){if(c===a.Width&&d===a.Height&&e===a.Vertical)return!0;a.Width=c;a.Height=d;a.Vertical=e;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[{R:255,G:0,B:0},{R:255,G:255,B:0},{R:0,G:255,B:0},{R:0,G:255,B:255},{R:0,G:0,B:255},{R:255,G:0,B:255},{R:255,G:0,B:0}]);return!0}
function ngcopch_DrawSaturation(a,b,c,d,e){var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toFloat(g.H,0),n=ng_toFloat(g.V,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Hue&&n===a.Value)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Hue=k;a.Value=n;g=ColorsConverter.HSVToRGB(k,0,n);k=ColorsConverter.HSVToRGB(k,1,n);if(null===g||null===k)return!1;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[g,k]);return!0}
function ngcopch_DrawValue(a,b,c,d,e){var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toFloat(g.H,0),n=ng_toFloat(g.S,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Hue&&n===a.Saturation)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Hue=k;a.Saturation=n;g=ColorsConverter.HSVToRGB(k,n,0);k=ColorsConverter.HSVToRGB(k,n,1);if(null===g||null===k)return!1;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[g,k]);return!0}
function ngcopch_DrawRed(a,b,c,d,e){var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toInteger(g.G,0),g=ng_toInteger(g.B,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Green&&g===a.Blue)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Green=k;a.Blue=g;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[{R:0,G:k,B:g},{R:255,G:k,B:g}]);return!0}
function ngcopch_DrawGreen(a,b,c,d,e){var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toInteger(g.R,0),g=ng_toInteger(g.B,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Red&&g===a.Blue)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Red=k;a.Blue=g;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[{R:k,G:0,B:g},{R:k,G:255,B:g}]);return!0}
function ngcopch_DrawBlue(a,b,c,d,e){var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toInteger(g.R,0),g=ng_toInteger(g.G,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Red&&g===a.Green)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Red=k;a.Green=g;ngcopch_SetCanvasSize(b,c,d);ngcopch_DrawSliderGradient(a,b,c,d,e,[{R:k,G:g,B:0},{R:k,G:g,B:255}]);return!0}
function ngcopch_DrawAlpha(a,b,c,d,e){ngcop_DrawTransparentBackground(a.Elm(),a.GetImg());var g=a.ParentControl.Owner.Owner.GetColor(),k=ng_toInteger(g.R,0),n=ng_toInteger(g.G,0),g=ng_toInteger(g.B,0);if(c===a.Width&&d===a.Height&&e===a.Vertical&&k===a.Red&&n===a.Green&&g===a.Blue)return!0;a.Width=c;a.Height=d;a.Vertical=e;a.Red=k;a.Green=n;a.Blue=g;ngcopch_SetCanvasSize(b,c,d);if(ngIExplorer&&10>ngIExplorerVersion)c=b.children[0],c.type="gradient",c.method="sigma",c.angle=e?"0":"270",c.color2="rgb("+
k+","+n+","+g+")",c.color=c.color2,c.opacity="100%",c.opacity2="0%";else{if(!b.getContext)return!1;a=b.getContext("2d");e=e?a.createLinearGradient(0,0,0,d):a.createLinearGradient(0,0,c,0);e.addColorStop(0,"transparent");e.addColorStop(1,"rgb("+k+","+n+","+g+")");a.fillStyle=e;a.fillRect(0,0,c,d)}return!0}
function ngcopch_DrawSatVal(a,b){ng_BeginMeasureElement(b);var c=ng_ClientWidth(b),d=ng_ClientHeight(b);ng_EndMeasureElement(b);var e=this.ParentControl.Owner.Owner.GetColor(),e=ng_toFloat(e.H,0);if(e===this.Hue&&c===this.Width&&d===this.Height)return!0;this.Hue=e;this.Width=c;this.Height=d;e=ColorsConverter.HSVToRGB(e,1,1);if(null===e)return!1;var g=ngIExplorer&&10>ngIExplorerVersion,k=null,n=null,r=null;if(g){n=document.getElementById(a.ID+"_Shape1");r=document.getElementById(a.ID+"_Shape2");if(!n||
!r)return!1;ngcopch_SetCanvasSize(n,c,d);ngcopch_SetCanvasSize(r,c,d)}else{k=document.getElementById(a.ID+"_Canvas");if(!k)return!1;ngcopch_SetCanvasSize(k,c,d)}if(0===c||0===d)return!0;if(g)n.style.zIndex="1",c=n.children[0],c.type="gradient",c.method="sigma",c.angle="90",c.color="rgb("+e.R+","+e.G+","+e.B+")",c.color2="rgb(255,255,255)",r.style.zIndex="2",c=r.children[0],c.type="gradient",c.method="linear",c.angle="180",c.color2="rgb(0,0,0)",c.color="rgb(255,255,255)",c.opacity="100%",c.opacity2=
"0%";else{if(!k.getContext)return!1;r=k.getContext("2d");g=r.createLinearGradient(0,0,c,0);g.addColorStop(0,"rgb(255,255,255)");g.addColorStop(1,"rgb("+e.R+","+e.G+","+e.B+")");r.fillStyle=g;r.fillRect(0,0,c,d);e=r.createLinearGradient(0,0,0,d);e.addColorStop(0,"transparent");e.addColorStop(1,"rgb(0,0,0)");r.fillStyle=e;r.fillRect(0,0,c,d)}return!0}function ngcopch_ReDrawSatVal(){var a=this.Controls.SatVal.Controls.Plane;a.Hue=null;a.Update()}
function ngcopch_ShowEditValue(a){if(a.Invalid)return!0;var b=0;"function"===typeof a.GetValue&&(b=a.GetValue());if("number"===typeof a.Precision)var c=Math.pow(10,a.Precision),b=Math.round(b*c)/c;a.SetText(b.toString());return!0}function ngcopch_ShowHexEditValue(a){if(a.Invalid)return!0;var b="";"function"===typeof a.GetValue&&(b=a.GetValue());a.SetText(b.toString().toUpperCase());return!0}
function ngcopch_ValidateEditValue(a){var b=a.GetText(),c=ng_toFloat(a.MinValue,0),d=ng_toFloat(a.MaxValue,0),e=NaN;""===b||"."===b?e=c:("."===b.substring(b.length-1,b.length)&&(b=b.substring(0,b.length-1)),e=parseFloat(b.match(/^-?\d*(\.\d+)?$/)));!isNaN(e)&&(e<c||e>d)&&(e=NaN);if(isNaN(e))a.SetInvalid(!0);else{"number"===typeof a.Precision&&(b=Math.pow(10,a.Precision),e=Math.round(e*b)/b);a.SetText(e.toString());a.SetInvalid(!1);b=a.ColorComponent;if("string"!==typeof b)return!0;a=a.Owner.Owner;
e=ngcopch_ChangeColorByTarget(a,e,b);ngcopch_SelectedColorChanged(a,e)}return!0}
function ngcopch_ValidateHexEditValue(a){var b=a.GetText();"#"!==b.substring(0,1)&&(b="#"+b);var c=a.MaxLength;if((7===b.length||9===b.length)&&b.length===c){var d=7===c?ColorsConverter.HexToRGB(b):ColorsConverter.HexToRGBA(b);if(d){a.SetInvalid(!1);var e=a.Owner.Owner,g=e.GetColor(),g={R:d.R,G:d.G,B:d.B,A:7===c?g.A:d.A},g=ngcop_RecalculateHSV(g),g=ngcop_RecalculateHEX(g),b=b.toUpperCase();if(7===c&&b===g.HEX.toUpperCase()||b===g.HEXA.toUpperCase())return ngcopch_ChangeSelectedColor(e,g),7===c?ngcopch_UpdateHex(e,
!0,!0):ngcopch_UpdateAll(e,!0,!0),a.SetText(b),ngcopch_SelectedColorChanged(e,g),!0}}a.SetInvalid(!0);return!0}function ngcopch_OnSliderSelectStart(a,b){var c=a.ParentControl,d=c.Owner.Owner;c.SelectStartValue="function"===typeof c.GetValue?c.GetValue():0;d.Dragged=c;return!0}function ngcopch_OnSatValSelectStart(a,b){var c=a.ParentControl,d=c.Owner.Owner,e=d.GetColor();c.SelectStartSaturation=ng_toFloat(e.S,0);c.SelectStartValue=ng_toFloat(e.V,0);d.Dragged=c;return!0}
function ngcopch_OnSliderSelectDrag(a,b){var c=a.ParentControl;if(c.Owner.Owner.Dragged!==c)return!1;"function"===typeof c.OnSelect&&c.OnSelect(a,b,!1);return!0}function ngcopch_OnSatValSelectDrag(a,b){return ngcopch_OnSliderSelectDrag(a,b)}function ngcopch_OnSliderSelectEnd(a,b){var c=a.ParentControl,d=c.Owner.Owner;d.Dragged===c&&"function"===typeof c.OnSelect&&c.OnSelect(a,b,!0);c.SelectStartValue=null;d.Dragged=null;clearTimeout(d.EditsUpdate_timer);d.EditsUpdate_timer=null;return!0}
function ngcopch_OnSatValSelectEnd(a,b){var c=a.ParentControl,d=c.Owner.Owner;d.Dragged===c&&"function"===typeof c.OnSelect&&c.OnSelect(a,b,!0);c.SelectStartSaturation=null;c.SelectStartValue=null;d.Dragged=null;clearTimeout(d.EditsUpdate_timer);d.EditsUpdate_timer=null;return!0}
function ngcopch_OnSliderEscPress(){var a=this.Owner.Owner;clearTimeout(a.EditsUpdate_timer);a.EditsUpdate_timer=null;if("number"===typeof this.SelectStartValue){var b=ngcopch_ChangeColorByTarget(a,this.SelectStartValue,this.ColorComponent);ngcopch_SelectedColorChanged(a,b)}a.Dragged=null}
function ngcopch_OnSatValEscPress(){var a=this.Owner.Owner;clearTimeout(a.EditsUpdate_timer);a.EditsUpdate_timer=null;if("number"===typeof this.SelectStartSaturation&&"number"===typeof this.SelectStartValue){var b=a.GetColor();b.S=this.SelectStartSaturation;b.V=this.SelectStartValue;b=ngcop_RecalculateRGB(b);b=ngcop_RecalculateHEX(b);b=ngcopch_ChangeSelectedColor(a,b);ngcopch_UpdateSatVal(a,!0);ngcopch_SelectedColorChanged(a,b)}a.Dragged=null}
function ngcopch_OnHSVSelect(a,b,c,d){var e=d.GetColor();"number"!==typeof a&&(a=ng_toFloat(e.H,0));"number"!==typeof b&&(b=ng_toFloat(e.S,0));"number"!==typeof c&&(c=ng_toFloat(e.V,0));a={H:a,S:b,V:c,A:e.A};a=ngcop_RecalculateRGB(a);a=ngcop_RecalculateHEX(a);a=ngcopch_ChangeSelectedColor(d,a);return ngcopch_SelectedColorChanged(d,a)}
function ngcopch_OnRGBSelect(a,b,c,d){var e=d.GetColor();"number"!==typeof a&&(a=ng_toInteger(e.R,0));"number"!==typeof b&&(b=ng_toInteger(e.G,0));"number"!==typeof c&&(c=ng_toInteger(e.B,0));a={R:a,G:b,B:c,A:e.A};a=ngcop_RecalculateHSV(a);a=ngcop_RecalculateHEX(a);a=ngcopch_ChangeSelectedColor(d,a);return ngcopch_SelectedColorChanged(d,a)}
function ngcopch_OnHueSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnHSVSelect(b,null,null,a)&&ngcopch_UpdateHue(a,c);return!0}function ngcopch_OnSaturationSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnHSVSelect(null,b,null,a)&&ngcopch_UpdateSaturation(a,c);return!0}
function ngcopch_OnValueSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnHSVSelect(null,null,b,a)&&ngcopch_UpdateValue(a,c);return!0}function ngcopch_OnRedSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnRGBSelect(Math.round(b),null,null,a)&&ngcopch_UpdateRed(a,c);return!0}
function ngcopch_OnGreenSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnRGBSelect(null,Math.round(b),null,a)&&ngcopch_UpdateGreen(a,c);return!0}function ngcopch_OnBlueSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;ngcopch_OnRGBSelect(null,null,Math.round(b),a)&&ngcopch_UpdateBlue(a,c);return!0}
function ngcopch_OnSatValSelect(a,b,c){if("object"!==typeof a.PointerInfo)return!1;var d=a.PointerInfo.StartElement;ng_BeginMeasureElement(d);var e=ng_ClientWidth(d),g=ng_ClientHeight(d),k=ng_ParentPosition(d);ng_EndMeasureElement(d);d=b.X-k.x;b=b.Y-k.y;e=0===e?0:d/e;g=0===g?0:1-b/g;0>e?e=0:1<e&&(e=1);0>g?g=0:1<g&&(g=1);a=a.ParentControl.Owner.Owner;b=a.GetColor();b.S=e;b.V=g;b=ngcop_RecalculateRGB(b);b=ngcop_RecalculateHEX(b);if(b=ngcopch_ChangeSelectedColor(a,b))ngcopch_UpdateSatVal(a,c),ngcopch_SelectedColorChanged(a,
b);return!0}function ngcopch_OnAlphaSelect(a,b,c){b=ngcopch_GetSliderSelectValue(a,b);if(!1===b)return!1;a=a.ParentControl.Owner.Owner;var d=a.GetColor();d.A=b;d=ngcop_RecalculateHEX(d);if(d=ngcopch_ChangeSelectedColor(a,d))ngcopch_UpdateAlpha(a,c),ngcopch_SelectedColorChanged(a,d);return!0}
function ngcopch_UpdateHue(a,b,c){a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Controls.Plane.Update();a.Controls.Value.Controls.Plane.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.SatVal.Controls.Plane.Update();a.Controls.To.Update();var d="HueEdit RedEdit GreenEdit BlueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateSaturation(a,b,c){a.Controls.Saturation.Controls.Cursor.Update();a.Controls.Value.Controls.Plane.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.SatVal.Controls.Cursor.Update();a.Controls.To.Update();var d="SaturationEdit RedEdit GreenEdit BlueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateValue(a,b,c){a.Controls.Value.Controls.Cursor.Update();a.Controls.Saturation.Controls.Plane.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.SatVal.Controls.Cursor.Update();a.Controls.To.Update();var d="ValueEdit RedEdit GreenEdit BlueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateSatVal(a,b,c){a.Controls.SatVal.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.To.Update();var d="SaturationEdit ValueEdit RedEdit GreenEdit BlueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateRed(a,b,c){a.Controls.Red.Controls.Cursor.Update();a.Controls.Green.Controls.Plane.Update();a.Controls.Blue.Controls.Plane.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.SatVal.Update();a.Controls.To.Update();var d="RedEdit HueEdit SaturationEdit ValueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateGreen(a,b,c){a.Controls.Green.Controls.Cursor.Update();a.Controls.Red.Controls.Plane.Update();a.Controls.Blue.Controls.Plane.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.SatVal.Update();a.Controls.To.Update();var d="GreenEdit HueEdit SaturationEdit ValueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateBlue(a,b,c){a.Controls.Blue.Controls.Cursor.Update();a.Controls.Red.Controls.Plane.Update();a.Controls.Green.Controls.Plane.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.SatVal.Update();a.Controls.To.Update();var d="BlueEdit HueEdit SaturationEdit ValueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateAlpha(a,b,c){a.Controls.Alpha.Controls.Cursor.Update();a.Controls.To.Update();var d=["AlphaEdit","AHexEdit"];b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateHex(a,b,c){a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Controls.Plane.Update();a.Controls.SatVal.Update();a.Controls.To.Update();var d="RedEdit GreenEdit BlueEdit HueEdit SaturationEdit ValueEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_UpdateAll(a,b,c){a.Controls.Hue.Controls.Cursor.Update();a.Controls.Saturation.Update();a.Controls.Value.Update();a.Controls.Red.Update();a.Controls.Green.Update();a.Controls.Blue.Update();a.Controls.Alpha.Update();a.Controls.SatVal.Update();a.Controls.To.Update();var d="RedEdit GreenEdit BlueEdit HueEdit SaturationEdit ValueEdit AlphaEdit HexEdit AHexEdit".split(" ");b?ngcopch_UpdateEdits(a,d,c):ngcopch_SetUpdateEditsTimer(a,d,c)}
function ngcopch_SetAllEditsValid(a){var b="RedEdit GreenEdit BlueEdit HueEdit SaturationEdit ValueEdit AlphaEdit HexEdit AHexEdit".split(" "),c;for(c in b){var d=a.Controls[b[c]];d.Invalid&&"function"===typeof d.SetInvalid&&d.SetInvalid(!1)}}function ngcopch_UpdateEdits(a,b,c){"undefined"===typeof c&&(c=!0);for(var d in b){var e=a.Controls[b[d]];c&&e.Invalid&&"function"===typeof e.SetInvalid&&e.SetInvalid(!1);e.Update()}}
function ngcopch_SetUpdateEditsTimer(a,b,c){for(var d in b)b[d]="'"+b[d]+"'";clearTimeout(a.EditsUpdate_timer);a.EditsUpdate_timer=null;d=0<a.EditsUpdate_timeout?a.EditsUpdate_timeout:1;b="ngcopch_UpdateEdits(ngGetControlById('"+a.ID+"','"+a.CtrlType+"'),["+b.join(",")+"]"+("undefined"===typeof c?"":","+(!!c).toString())+")";a.EditsUpdate_timer=setTimeout(b,d)}
function ngcopch_ChangeColorByTarget(a,b,c){var d=a.GetColor();switch(c){case "H":d.H=b;break;case "S":d.S=b;break;case "V":d.V=b;break;case "R":d.R=b;break;case "G":d.G=b;break;case "B":d.B=b;break;case "A":d.A=b;break;default:return null}switch(c){case "H":case "S":case "V":d=ngcop_RecalculateRGB(d);break;case "R":case "G":case "B":d=ngcop_RecalculateHSV(d)}d=ngcop_RecalculateHEX(d);if(d=ngcopch_ChangeSelectedColor(a,d))switch(c){case "H":ngcopch_UpdateHue(a,!0);break;case "S":ngcopch_UpdateSaturation(a,
!0);break;case "V":ngcopch_UpdateValue(a,!0);break;case "R":ngcopch_UpdateRed(a,!0);break;case "G":ngcopch_UpdateGreen(a,!0);break;case "B":ngcopch_UpdateBlue(a,!0);break;case "A":ngcopch_UpdateAlpha(a,!0)}return d}function ngcopch_ChangeSelectedColor(a,b){if("function"===typeof a.OnColorChanging&&!a.OnColorChanging(b))return null;ngcop_SetColor(a,b);return b}function ngcopch_SelectedColorChanged(a,b){b&&"function"===typeof a.OnColorChanged&&a.OnColorChanged(b);return b}
function ngcopch_OnToPreviewUpdated(a,b){ngcob_SetButtonColor(a,a.Owner.Owner.GetColor())}function ngcopch_OnFromPreviewClick(a){if(a=this.GetColor()){var b=this.Owner.Owner;ngcopch_ChangeSelectedColor(b,a);ngcopch_SetAllEditsValid(b);b.Update();ngcopch_SelectedColorChanged(b,a)}return!0}function ngcopch_OnToPreviewClick(a){this.GetColor()&&ngcob_SetButtonColor(this.Owner.From,this.GetColor());return!0}
function ngcopch_AutoHeight_Panel(a){if(a.AutoHeight){var b=0,c,d;for(d in a.ChildControls){var e=a.ChildControls[d];e.Visible&&e.Bounds&&(c=ng_toInteger(e.Bounds.H,0),c+=ng_toInteger(e.Bounds.T,0),c>b&&(b=c))}"function"===typeof a.DoAutoHeight&&(c=a.DoAutoHeight(b),"number"===typeof c&&(b=c));a.Bounds.H!==b&&(a.SetBounds({H:b}),a.Update(!1))}}
function ngcopch_AutoHeight_Toolbar(a){if(a.AutoHeight){var b=0,c;for(c in a.ChildControls){var d=a.ChildControls[c];d.Visible&&d.Bounds&&(b+=ng_toInteger(d.Bounds.H,0))}if("function"===typeof a.DoAutoHeight&&(b=a.DoAutoHeight(b),"number"!==typeof b))return;a.Bounds.H!==b&&(a.SetBounds({H:b}),a.Update(!1))}}
function ngcopch_ShowHSV(a,b,c,d){var e=this.GetColor();if(null!==a&&"number"!==typeof a||null!==b&&"number"!==typeof b||null!==c&&"number"!==typeof c)return e;var g=typeof d;if(null!==d&&"undefined"!==g&&"number"!==g)return e;null===a&&(a=e.H);null===b&&(b=e.S);null===c&&(c=e.V);if(null===d||"undefined"===g)d=e.A;a=ngcop_HSVAToColor(a,b,c,d);if(a=ngcopch_ChangeSelectedColor(this,a))ngcopch_SetAllEditsValid(this),this.Update(),ngcopch_SelectedColorChanged(this,a);return this.GetColor()}
function ngcopch_ShowRGB(a,b,c,d){var e=this.GetColor();if(null!==a&&"number"!==typeof a||null!==b&&"number"!==typeof b||null!==c&&"number"!==typeof c)return e;var g=typeof d;if(null!==d&&"undefined"!==g&&"number"!==g)return e;null===a&&(a=e.R);null===b&&(b=e.G);null===c&&(c=e.B);if(null===d||"undefined"===g)d=e.A;a=ngcop_RGBAToColor(a,b,c,d);if(a=ngcopch_ChangeSelectedColor(this,a))ngcopch_SetAllEditsValid(this),this.Update(),ngcopch_SelectedColorChanged(this,a);return this.GetColor()}
function ngcopch_ShowHEX(a){if("string"!==typeof a||"#"!==a.substring(0,1))return this.GetColor();a=ngcop_HexToColor(a);if(null===a)return this.GetColor();if(a=ngcopch_ChangeSelectedColor(this,a))ngcopch_SetAllEditsValid(this),this.Update(),ngcopch_SelectedColorChanged(this,a);return this.GetColor()}
function ngcopch_SetPickerColor(a,b){if(b=ngcopch_ChangeSelectedColor(a,b))ngcopch_SetAllEditsValid(a),ngcob_SetButtonColor(a.Controls.From,b),ngcopch_UpdateAll(a,!0,!0),ngcopch_SelectedColorChanged(a,b);return a.GetColor()}function ngcopch_SetHSVColor(a,b,c,d){a=this.ShowHSV(a,b,c,d);ngcob_SetButtonColor(this.Controls.From,a);return a}function ngcopch_SetRGBColor(a,b,c,d){a=this.ShowRGB(a,b,c,d);ngcob_SetButtonColor(this.Controls.From,a);return a}
function ngcopch_SetHEXColor(a){if("string"!==typeof a||"#"!==a.substring(0,1))return this.GetColor();a=this.ShowHEX(a);ngcob_SetButtonColor(this.Controls.From,a);return a}
function ngcop_SetDefColor(a,b){if(a){a.Data||(a.Data={});if(a.Data.Color){var c=a.Data.Color;switch(typeof c){case "string":var d=ngcop_HexToColor(c);if(d){a.Data&&!1===a.Data.AllowAlpha&&(d=ngcop_RemoveColorTransparency(d));a.Data.Color=d;return}break;case "object":var e=1;a.Data&&!1===a.Data.AllowAplha||(e="number"===typeof c.A?c.A:"object"===typeof b&&b?b.A:1);if("number"===typeof c.H&&"number"===typeof c.S&&"number"===typeof c.V&&(d=ngcop_HSVAToColor(c.H,c.S,c.V,e))){a.Data.Color=d;return}if("number"===
typeof c.R&&"number"===typeof c.G&&"number"===typeof c.B&&(d=ngcop_RGBAToColor(c.R,c.G,c.B,e))){a.Data.Color=d;return}if("string"===typeof c.HEX&&7===c.HEX.length&&(d=ngcop_HexToColor(c.HEX))){a.Data.Color=d;return}if("string"===typeof c.HEXA&&9===c.HEXA.length&&(d=ngcop_HexToColor(c.HEXA))){a.Data&&!1===a.Data.AllowAplha&&(d=ngcop_RemoveColorTransparency(d));a.Data.Color=d;return}}}a.Data.Color=b}}
function ngcop_DrawTransparentBackground(a,b){if(b&&"string"===typeof b.Src){var c=typeof b.L,d=typeof b.T,e="0px",g="0px";"string"===c?e="-"+b.L:"number"===c&&(e=-1*b.L+"px");"string"===d?g="-"+b.T:"number"===d&&(g=-1*b.T+"px");a.style.background="url('"+b.Src+"') repeat scroll "+e+" "+g+" transparent"}else a.style.background=""}function ngcop_RecalculateHSV(a){var b=ColorsConverter.RGBToHSV(a.R,a.G,a.B);a.H=b.H;a.S=b.S;a.V=b.V;return a}
function ngcop_RecalculateRGB(a){var b=ColorsConverter.HSVToRGB(a.H,a.S,a.V);a.R=b.R;a.G=b.G;a.B=b.B;return a}function ngcop_RecalculateHEX(a){"object"===typeof a&&(a.HEX=ColorsConverter.RGBToHex(a.R,a.G,a.B),a.HEXA=ColorsConverter.RGBAToHex(a.R,a.G,a.B,a.A));return a}function ngcop_HSVAToColor(a,b,c,d){0>a?a=0:360<a&&(a=360);0>b?b=0:1<b&&(b=1);0>c?c=0:1<c&&(c=1);0>d?d=0:1<c&&(d=1);a={H:a,S:b,V:c,A:d};a=ngcop_RecalculateRGB(a);return a=ngcop_RecalculateHEX(a)}
function ngcop_RGBAToColor(a,b,c,d){0>a?a=0:255<a&&(a=255);a=Math.round(a);0>b?b=0:255<b&&(b=255);b=Math.round(b);0>c?c=0:255<c&&(c=255);c=Math.round(c);0>d?d=0:1<d&&(d=1);a={R:a,G:b,B:c,A:d};a=ngcop_RecalculateHSV(a);return a=ngcop_RecalculateHEX(a)}
function ngcop_HexToColor(a){if(7===a.length){a=ColorsConverter.HexToRGB(a);if(!a)return null;a.A=1}else if(9===a.length){if(a=ColorsConverter.HexToRGBA(a),!a)return null}else return null;a={R:a.R,G:a.G,B:a.B,A:a.A};a=ngcop_RecalculateHSV(a);return a=ngcop_RecalculateHEX(a)}function ngcop_RemoveColorTransparency(a){if("object"!==typeof a)return null;a.A=1;"string"===typeof a.HEX&&(a.HEXA="#"+a.HEX.substring(1,7)+"ff");return a}
function ngcop_SetColor(a,b){if("function"!==typeof a.GetColor)return null;var c=a.GetColor();if(null===b||"number"!==typeof b.H||"number"!==typeof b.S||"number"!==typeof b.V||"number"!==typeof b.R||"number"!==typeof b.G||"number"!==typeof b.B||"number"!==typeof b.A||"string"!==typeof b.HEX||"string"!==typeof b.HEXA)return c;a.Color={H:b.H,S:b.S,V:b.V,R:b.R,G:b.G,B:b.B,A:b.A,HEX:b.HEX,HEXA:b.HEXA};"function"===typeof a.ShowColor&&a.ShowColor();return a.GetColor()}
function ngcop_GetColor(){return this.Color}function ngcop_CheckHSV(a,b,c,d,e){if("object"!==typeof e)return null;if(null!==a&&"number"!==typeof a||null!==b&&"number"!==typeof b||null!==c&&"number"!==typeof c)return e;var g=typeof d;if(null!==d&&"undefined"!==g&&"number"!==g)return e;null===a&&(a=e.H);null===b&&(b=e.S);null===c&&(c=e.V);if(null===d||"undefined"===g)d=e.A;return ngcop_HSVAToColor(a,b,c,d)}
function ngcop_CheckRGB(a,b,c,d,e){if("object"!==typeof e)return null;if(null!==a&&"number"!==typeof a||null!==b&&"number"!==typeof b||null!==c&&"number"!==typeof c)return e;var g=typeof d;if(null!==d&&"undefined"!==g&&"number"!==g)return e;null===a&&(a=e.R);null===b&&(b=e.G);null===c&&(c=e.B);if(null===d||"undefined"===g)d=e.A;return ngcop_RGBAToColor(a,b,c,d)}
var ngColorPickerH=1,ngColorPickerS=2,ngColorPickerV=4,ngColorPickerSV=8,ngColorPickerR=16,ngColorPickerG=32,ngColorPickerB=64,ngColorPickerA=128,ngColorPickerPreview=256,ngColorPickerHex=512,ngColorPickerAHex=1024,ngColorPickerEdits=2048,ngColorPickerModeBar=4096,ngCopLayout_H_SV=ngColorPickerH|ngColorPickerSV|ngColorPickerPreview,ngCopLayout_HA_SV=ngCopLayout_H_SV|ngColorPickerA,ngCopLayout_HSV=ngColorPickerH|ngColorPickerS|ngColorPickerV|ngColorPickerPreview,ngCopLayout_HSVA=ngCopLayout_HSV|ngColorPickerA,
ngCopLayout_RGB=ngColorPickerR|ngColorPickerG|ngColorPickerB|ngColorPickerPreview,ngCopLayout_RGBA=ngCopLayout_RGB|ngColorPickerA,ngCopLayout_Default=ngColorPickerModeBar|ngCopLayout_H_SV|ngColorPickerEdits;
function ngColorPickerBox(a,b,c){ng_MergeDef(a,{Layout:ngCopLayout_Default,OnCreated:ngcopbx_OnPickerBoxCreated,Controls:{ModeBar:{Type:"ngPanel",ParentReferences:!1,Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Bar:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{Env_H_SV:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{H_SV:{Type:"ngRadioButton",Data:{Mode:"h_sv",ngTextD:"colorpicker_H-SV",Checked:!0},Events:{OnCheckChanged:ngcopbx_OnModeChange}}}},
Env_HSV:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{HSV:{Type:"ngRadioButton",Data:{Mode:"hsv",ngTextD:"colorpicker_HSV"},Events:{OnCheckChanged:ngcopbx_OnModeChange}}}},Env_RGB:{Type:"ngPanel",Data:{ChildHandling:ngChildEnabledParentAware},Controls:{RGB:{Type:"ngRadioButton",Data:{Mode:"rgb",ngTextD:"colorpicker_RGB"},Events:{OnCheckChanged:ngcopbx_OnModeChange}}}}}}}}}});if(a.Layout){var d=(a.Layout&ngCopLayout_Default)===ngCopLayout_Default,e=!d&&a.Layout&ngColorPickerEdits;
ng_MergeDef(a,{Controls:{ModeBar:{Data:{Visible:!!(a.Layout&ngColorPickerModeBar)}},Hue_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerH)},Controls:{HueEdit:{Data:{Visible:e}}}},Saturation_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerS)},Controls:{SaturationEdit:{Data:{Visible:a.Layout&ngColorPickerEdits}}}},Value_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerV)},Controls:{ValueEdit:{Data:{Visible:a.Layout&ngColorPickerEdits}}}},Red_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerR)},Controls:{RedEdit:{Data:{Visible:a.Layout&
ngColorPickerEdits}}}},Green_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerG)},Controls:{GreenEdit:{Data:{Visible:a.Layout&ngColorPickerEdits}}}},Blue_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerB)},Controls:{BlueEdit:{Data:{Visible:a.Layout&ngColorPickerEdits}}}},Alpha_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerA)},Controls:{AlphaEdit:{Data:{Visible:e}}}},SatVal_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerSV)}},Hex_Panel:{Data:{Visible:!d&&(a.Layout&ngColorPickerHex||a.Layout&ngColorPickerAHex)},
Controls:{HexEdit:{Data:{Visible:!!(a.Layout&ngColorPickerHex)}},HexLabel:{Data:{Visible:!!(a.Layout&ngColorPickerHex)}},AHexEdit:{Data:{Visible:!!(a.Layout&ngColorPickerAHex)}},AHexLabel:{Data:{Visible:!!(a.Layout&ngColorPickerAHex)}}}},Preview_Panel:{Data:{Visible:!!(a.Layout&ngColorPickerPreview)}}}})}if("object"!==typeof a.Data||null==a.Data)a.Data={};a.Data.Layout=a.Layout;return ngCreateControlAsType(a,"ngColorPicker",b,c)}
function ngcopbx_OnPickerBoxCreated(a){var b=a.Controls.ModeBar;b.Controls.H_SV.RadioGroup=a.ID+"_mode";b.Controls.HSV.RadioGroup=a.ID+"_mode";b.Controls.RGB.RadioGroup=a.ID+"_mode";var c=(a.Layout&ngCopLayout_Default)===ngCopLayout_Default;ngcopbx_StretchSliders(a,c?!1:!!(a.Layout&ngColorPickerEdits));if(c)for(var d in b.Controls)if(b.Controls[d].Checked){"function"===typeof b.OnModeChanged&&b.OnModeChanged(b.Controls[d].Mode);break}return ngcopch_OnPickerCreated(a)}
function ngcopbx_OnModeChange(a){if(!a.Checked)return!0;var b=a.Owner.Owner,c=b.Owner.Owner;a=a.Mode;var d=!1,e=!1,g=!1,k=!1,n=!1,r=!1,u=!1,x=!!(c.Layout&ngColorPickerEdits),w=c.Layout&ngColorPickerHex||c.Layout&ngColorPickerAHex;switch(a){case "h_sv":k=d=!0;w=x=!1;break;case "hsv":g=e=d=!0;break;case "rgb":u=r=n=!0}c.Controls.Hue_Panel.SetVisible(d);c.Controls.Saturation_Panel.SetVisible(e);c.Controls.Value_Panel.SetVisible(g);c.Controls.SatVal_Panel.SetVisible(k);c.Controls.Red_Panel.SetVisible(n);
c.Controls.Green_Panel.SetVisible(r);c.Controls.Blue_Panel.SetVisible(u);c.Controls.HueEdit.SetVisible(x);c.Controls.AlphaEdit.SetVisible(x);c.Controls.Hex_Panel.SetVisible(w);ngcopbx_StretchSliders(c,x);"function"===typeof b.OnModeChanged&&b.OnModeChanged(a);return!0}
function ngcopbx_StretchSliders(a,b){var c="Hue Saturation Value Red Green Blue Alpha".split(" "),d;for(d in c)if(a.Controls[c[d]+"_Panel"].Visible){var e=a.Controls[c[d]];if(b&&"object"===typeof e.WithEditBounds&&null!==e.WithEditBounds)e.SetBounds(e.WithEditBounds);else if(b||"object"!==typeof e.WithoutEditBounds||null===e.WithoutEditBounds)continue;else e.SetBounds(e.WithoutEditBounds);e.Update()}}
function ngColorButton(a,b,c){ng_MergeDef(a,{Data:{Color:null,BackgroundImg:null,AllowAlpha:!0},OnCreated:function(a){a.ShowColor();return!0},Methods:{ShowColor:ngcob_ShowButtonColor,SetColorHSV:ngcob_SetHSV,SetColorRGB:ngcob_SetRGB,SetColorHEX:ngcob_SetHEX,GetColor:ngcop_GetColor},Events:{OnUpdated:ngcob_AddHTMLContent,OnColorChanging:null,OnColorChanged:null}});ngcop_SetDefColor(a,{H:0,S:0,V:0,R:0,G:0,B:0,A:1,HEX:"#000000",HEXA:"#000000ff"});return ngCreateControlAsType(a,"ngButton",b,c)}
function ngcob_AddHTMLContent(a){a=document.getElementById(this.ID+"_BCK");var b=document.getElementById(this.ID+"_CO");if(!a||!b){var c=this.Elm();if(!c)return!0;c.children[0]&&(c.children[0].style.zIndex="3");var d=this.BaseClassName?this.BaseClassName:"";a||(ng_AppendInnerHTML(c,'<div id="'+this.ID+'_BCK" class="'+d+'Back" style="display:block; position:absolute; overflow:hidden; z-index:1; left:0px; right:0px; top:0px; bottom:0px;"/>'),(a=document.getElementById(this.ID+"_BCK"))&&ngcop_DrawTransparentBackground(a,
this.BackgroundImg));b||ng_AppendInnerHTML(c,'<div id="'+this.ID+'_CO" class="'+d+'Color"style="display:block; position:absolute; overflow:hidden; z-index:2; left:0px; right:0px; top:0px; bottom:0px;"/>')}this.GetColor()&&this.ShowColor();return!0}function ngcob_SetButtonColor(a,b){a.AllowAlpha||(b=ngcop_RemoveColorTransparency(b));return ngcop_SetColor(a,b)}function ngcob_SetHSV(a,b,c,d){var e=this.GetColor(),e=ngcop_CheckHSV(a,b,c,d,e);ngcob_ChangeColor(this,e);return this.GetColor()}
function ngcob_SetRGB(a,b,c,d){var e=this.GetColor(),e=ngcop_CheckRGB(a,b,c,d,e);ngcob_ChangeColor(this,e);return this.GetColor()}function ngcob_SetHEX(a){if("string"!==typeof a||"#"!==a.substring(0,1))return this.GetColor();a=ngcop_HexToColor(a);if(null===a)return this.GetColor();ngcob_ChangeColor(this,a);return this.GetColor()}
function ngcob_ShowButtonColor(){var a=document.getElementById(this.ID+"_CO"),b=this.GetColor();a&&("object"===typeof b&&null!==b&&(a.style.backgroundColor="rgb("+b.R+","+b.G+","+b.B+")",a.style.opacity=b.A,a.style.mozOpacity=b.A,a.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+Math.floor(100*b.A)+")"),a.style.display=this.Enabled?"block":"none")}
function ngcob_ChangeColor(a,b){if("function"===typeof a.OnColorChanging&&!a.OnColorChanging(b))return null;ngcob_SetButtonColor(a,b);a.Update();"function"===typeof a.OnColorChanged&&a.OnColorChanged(b)}
function ngColorPickerDropDown(a,b,c){a.Data=ngNullVal(a.Data,{});ng_MergeDef(a,{Data:{Color:null,AllowAlpha:!0,MaxLength:!1===a.Data.AllowAlpha?7:9},DropDown:{Type:"ngColorPickerBox",Controls:{ModeBar:{},Hue_Panel:{},Saturation_Panel:{},Value_Panel:{},Red_Panel:{},Green_Panel:{},Blue_Panel:{},Alpha_Panel:{},SatVal_Panel:{},Hex_Panel:{},Preview_Panel:{},Buttons:{Type:"ngPanel",Controls:{Submit:{Type:"ngButton",Data:{ngTextD:"colorpicker_Submit"},Events:{OnClick:ngcopdd_SubmitColor}},Cancel:{Type:"ngButton",
Data:{ngTextD:"colorpicker_Cancel"},Events:{OnClick:ngcopdd_CancelColor}}}}}},OnCreated:function(a){a.ShowColor();return!0},Methods:{ShowColor:ngcopdd_ShowDropDownColor,SetColorHSV:ngcopdd_SetHSV,SetColorRGB:ngcopdd_SetRGB,SetColorHEX:ngcopdd_SetHEX,GetColor:ngcop_GetColor},Events:{OnBlur:ngcopdd_OnBlur,OnKeyPress:ngcopdd_OnKeyPress,OnColorChanging:null,OnColorChanged:null}});ngcop_SetDefColor(a,{H:0,S:0,V:0,R:0,G:0,B:0,A:1,HEX:"#000000",HEXA:"#000000ff"});a=ngCreateControlAsType(a,"string"===typeof a.CreateFrom?
a.CreateFrom:"ngDropDown",b,c);if(!a)return a;a.DropDownButton.AddEvent("OnUpdated",ngcob_AddHTMLContent);a.DropDownButton.AddEvent("GetColor",ngcopdd_GetColor);a.DropDownButton.AddEvent("ShowColor",ngcob_ShowButtonColor);a.DropDownButton.AddEvent("OnClick",ngcopdd_OnUserDrop);a.DropDownButton.AllowAlpha=!1===a.AllowAlpha?!1:!0;return a}function ngcopdd_OnBlur(){return ngcopdd_ValidateHex(this)}function ngcopdd_OnKeyPress(a){return 13===a.keyCode?ngcopdd_ValidateHex(this):!0}
function ngcopdd_GetColor(){return this.Color}function ngcopdd_SubmitColor(){var a=this.Owner.Owner,b=a.Owner;b.HideDropDown();ngcopdd_ChangeColor(b,a.GetColor());return!0}function ngcopdd_CancelColor(){this.Owner.Owner.Owner.HideDropDown();return!0}function ngcopdd_OnUserDrop(){var a=this.Parent,b=a.DropDownControl;b.Visible&&ngcopch_SetPickerColor(b,a.GetColor());return!0}function ngcopdd_SetDropDownColor(a,b){a.AllowAlpha||(b=ngcop_RemoveColorTransparency(b));return ngcop_SetColor(a,b)}
function ngcopdd_SetHSV(a,b,c,d){var e=this.GetColor(),e=ngcop_CheckHSV(a,b,c,d,e);ngcopdd_ChangeColor(this,e);return this.GetColor()}function ngcopdd_SetRGB(a,b,c,d){var e=this.GetColor(),e=ngcop_CheckRGB(a,b,c,d,e);ngcopdd_ChangeColor(this,e);return this.GetColor()}function ngcopdd_SetHEX(a){if("string"!==typeof a||"#"!==a.substring(0,1))return this.GetColor();a=ngcop_HexToColor(a);if(null===a)return this.GetColor();ngcopdd_ChangeColor(this,a);return this.GetColor()}
function ngcopdd_ChangeColor(a,b){if("function"===typeof a.OnColorChanging&&!a.OnColorChanging(b))return null;ngcopdd_SetDropDownColor(a,b);a.Update();"function"===typeof a.OnColorChanged&&a.OnColorChanged(b)}function ngcopdd_ShowDropDownColor(){var a=ngcob_SetButtonColor(this.DropDownButton,this.GetColor());this.SetText((this.AllowAlpha?a.HEXA:a.HEX).toUpperCase());this.DropDownControl&&this.DropDownControl.Visible&&ngcopch_SetPickerColor(this.DropDownControl,a)}
function ngcopdd_ValidateHex(a){var b=a.GetText();"#"!==b.substring(0,1)&&(b="#"+b);if(a.AllowAlpha&&9===b.length||!a.AllowAlpha&&7===b.length){var c=a.AllowAlpha?ColorsConverter.HexToRGBA(b):ColorsConverter.HexToRGB(b);if(c&&("undefined"===typeof c.A&&(c.A=1),c=ngcop_RecalculateHSV(c),c=ngcop_RecalculateHEX(c),b=b.toUpperCase(),a.AllowAlpha&&b===c.HEXA.toUpperCase()||!a.AllowAlpha&&b===c.HEX.toUpperCase()))return a.SetInvalid(!1),ngcopdd_ChangeColor(a,c),!0}a.SetInvalid(!0);return!0}
function ngColorPickerHint(a,b,c){ng_MergeDef(a,{ParentReferences:!1,OnCreated:ngcoph_OnCreated,Controls:{Picker:{Type:"ngColorPickerBox",Controls:{ModeBar:{},Hue_Panel:{},Saturation_Panel:{},Value_Panel:{},Red_Panel:{},Green_Panel:{},Blue_Panel:{},Alpha_Panel:{},SatVal_Panel:{},Hex_Panel:{},Preview_Panel:{},Buttons:{Type:"ngPanel",Controls:{Submit:{Type:"ngButton",Data:{ngTextD:"colorpicker_Submit"}},Cancel:{Type:"ngButton",Data:{ngTextD:"colorpicker_Cancel"}}}}}}}});return ngCreateControlAsType(a,
"string"===typeof a.CreateFrom?a.CreateFrom:"ngHint",b,c)}function ngcoph_OnCreated(a){a.Visible&&a.Controls.Picker.ReDrawSatVal()}
function ngColorPickerButton(a,b,c){ng_MergeDef(a,{Data:{PickerLayout:null,HintDef:{Type:"ngColorPickerHint",Controls:{Picker:{Controls:{ModeBar:{},Hue_Panel:{},Saturation_Panel:{},Value_Panel:{},Red_Panel:{},Green_Panel:{},Blue_Panel:{},Alpha_Panel:{},SatVal_Panel:{},Hex_Panel:{},Preview_Panel:{},Buttons:{Controls:{Submit:{Events:{OnClick:ngcopb_SubmitColor}},Cancel:{Events:{OnClick:ngcopb_CancelColor}}}}}}}}},Methods:{ShowColor:ngcopb_ShowButtonColor},Events:{OnClick:ngcopb_OnClick}});var d=a.Data.PickerLayout;
"number"===typeof d&&(a.Data.HintDef.Controls.Picker.Layout=d);a.Data&&a.Data.HintDef&&("object"!==typeof a.Data.HintDef.Data&&(a.Data.HintDef.Data={}),a.Data.HintDef.Data.AllowAlpha=!1===a.Data.AllowAlpha?!1:!0);return ngCreateControlAsType(a,"string"===typeof a.CreateFrom?a.CreateFrom:"ngColorButton",b,c)}function ngcopb_SubmitColor(){var a=this.Owner.Owner,b=a.Owner.Owner;b.SetVisible(!1);ngcob_ChangeColor(b.Owner,a.GetColor());return!0}
function ngcopb_CancelColor(){var a=this.Owner.Owner.Owner.Owner;"function"===typeof a.SetVisible&&a.SetVisible(!1);return!0}function ngcopb_ShowButtonColor(){this.ShowColor.callParent();if(this.Hint&&this.Hint.Visible){var a=this.Hint.Controls.Picker;a&&ngcopch_SetPickerColor(a,this.GetColor())}}
function ngcopb_OnClick(){this.Hint||"object"!==typeof this.HintDef||(this.Hint=ngCreateHint(this.HintDef),this.Hint.Owner=this);if(this.Hint&&"function"===typeof this.Hint.PopupCtrl){this.Hint.PopupCtrl(this);var a=this.Hint.Controls.Picker;a&&ngcopch_SetPickerColor(a,this.GetColor())}};function ngp_DoRelease(a){a.style.display="none"}function ngPanel(a){ngControl(this,a,"ngPanel");this.DoRelease=ngp_DoRelease;ngControlCreated(this)}function ngFrame_Create(a,b,c){a.ParentReferences=ngVal(a.ParentReferences,!1);return ngCreateControlAsType(a,"ngPanel",b,c)}
function ngt_DoCreate(a,b,c,d){b="";"undefined"!==typeof a.W||"undefined"!==typeof a.L&&"undefined"!==typeof a.R||(b="horizontal");"undefined"!==typeof a.H||"undefined"!==typeof a.T&&"undefined"!==typeof a.B||(b="horizontal"==b?"auto":"vertical");""!=b&&(a.Data&&"undefined"!==typeof a.Data.AutoSizeMode||(this.AutoSizeMode=b),a.Data&&"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!0))}
function ngt_DoUpdate(a){var b=this.BaseClassName,c=this.GetText(),d=this.GetAlt();this.HTMLEncode&&(c=ng_htmlEncode(c,!0));this.AutoSize&&ngIExplorer&&0==ng_GetStylePx(a.style.height)&&(a.style.height="1px");var e="";!this.AutoSize||"auto"!=this.AutoSizeMode&&"horizontal"!=this.AutoSizeMode||(e+="white-space: nowrap; ");this.AutoSize&&"vertical"!=this.AutoSizeMode||(e+="width:"+ng_ClientWidth(a)+"px; ");this.AutoSize&&"horizontal"!=this.AutoSizeMode||(e+="height:"+ng_ClientHeight(a)+"px; ");var g=
new ngStringBuilder;g.append('<span id="'+this.ID+'_T" class="'+b+"Text"+(this.Enabled?"":"Disabled")+'" style="position:absolute;'+e+"text-align:"+this.TextAlign+';"');""!=d&&g.append(' title="'+ng_htmlEncode(d)+'"');g.append(">");g.append(c);g.append("</span>");ng_SetInnerHTML(a,g.toString());if(this.AutoSize&&(b=document.getElementById(this.ID+"_T"))){if("auto"==this.AutoSizeMode||"horizontal"==this.AutoSizeMode)c=ng_ClientWidth(b),"undefined"!==typeof this.MinWidth&&c<this.MinWidth&&(c=this.MinWidth),
ng_SetStyleWidth(a,c),ng_SetStyleWidth(b,c);if("auto"==this.AutoSizeMode||"vertical"==this.AutoSizeMode)c=ng_ClientHeight(b),"undefined"!==typeof this.MinHeight&&c<this.MinHeight&&(c=this.MinHeight),ng_SetStyleHeight(a,c),ng_SetStyleHeight(b,c);b=!1;if("undefined"===typeof this.Bounds.T||"undefined"===typeof this.Bounds.B)c=ng_StyleHeight(a),this.Bounds.H!=c&&(this.Bounds.H=c,b=!0);if("undefined"===typeof this.Bounds.L||"undefined"===typeof this.Bounds.R)a=ng_StyleWidth(a),this.Bounds.W!=a&&(this.Bounds.W=
a,b=!0);b&&this.SetBounds()}return!0}function ngt_DoPtrStart(a){this.CanSelect&&"control"==a.EventID?(a.PreventDefault=!1,a.DocumentDeselect=!1,a.PreventSelect=!1):a.StopPropagation=!1}function ngt_DoAcceptGestures(a,b){b.touch=!0}
function ngText(a){ngControl(this,a,"ngText");this.DoCreate=ngt_DoCreate;this.DoUpdate=ngt_DoUpdate;this.DoPtrStart=ngt_DoPtrStart;this.DoAcceptGestures=ngt_DoAcceptGestures;this.TextAlign="left";this.AutoSize=!1;this.AutoSizeMode="auto";this.Alt=this.Text="";this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.CanSelect=!0;this.SetText=ngc_SetText;this.GetText=ngc_GetText;this.GetAlt=ngc_GetAlt;this.OnGetAlt=this.OnGetText=this.OnSetText=null;ngControlCreated(this)}
function ngi_DoCreate(a,b,c,d){"undefined"!==typeof a.Data&&"undefined"!==typeof a.Data.AutoSize||"undefined"===typeof a.W&&("undefined"===typeof a.L||"undefined"===typeof a.R)||"undefined"===typeof a.H&&("undefined"===typeof a.T||"undefined"===typeof a.B)||(this.AutoSize=!1)}
function ngi_DoUpdate(a){var b=this.GetAlt(),c=this.GetImg(),d=new ngStringBuilder;if(c){var e=ngc_ImgProps(this.ID+"_I",0,this.Enabled,c);if("undefined"===typeof e.W)ngc_ImgSW(d,e,0,ng_ClientWidth(a),"position:absolute;",(""!=b?'title="'+ng_htmlEncode(b)+'"':"")+ngVal(c.Attrs,"")),this.AutoSize&&(ng_SetClientHeight(a,e.H),b=ng_StyleHeight(a),this.Bounds.H!=b&&(this.Bounds.H=b,this.SetBounds()));else if("undefined"===typeof e.H)ngc_ImgSH(d,e,0,ng_ClientHeight(a),"position:absolute;",(""!=b?'title="'+
ng_htmlEncode(b)+'"':"")+ngVal(c.Attrs,"")),this.AutoSize&&(ng_SetClientWidth(a,e.W),c=ng_StyleWidth(a),this.Bounds.W!=c&&(this.Bounds.W=c,this.SetBounds()));else if(ngc_Img(d,e,"position:absolute;",(""!=b?'title="'+ng_htmlEncode(b)+'"':"")+ngVal(c.Attrs,"")),this.AutoSize&&(ng_SetClientWidth(a,e.W),ng_SetClientHeight(a,e.H),c=ng_StyleWidth(a),b=ng_StyleHeight(a),this.Bounds.W!=c||this.Bounds.H!=b))this.Bounds.W=c,this.Bounds.H=b,this.SetBounds()}ng_SetInnerHTML(a,d.toString());return!0}
function ngImage(a){ngControl(this,a,"ngImage");this.DoCreate=ngi_DoCreate;this.DoUpdate=ngi_DoUpdate;this.Alt="";this.Img=null;this.AutoSize=!0;this.GetAlt=ngc_GetAlt;this.GetImg=ngc_GetImg;this.OnGetImg=this.OnGetAlt=null;ngControlCreated(this)}function ngimgmap_DoCreate(a,b,c,d){"undefined"===typeof a.W&&("undefined"===typeof a.L||"undefined"===typeof a.R)||"undefined"!==typeof a.Data&&"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!1)}
function imgm_DoPtrStart(a){var b=a.EventID;"shp"===b.substr(0,3)&&(a.IsInSrcElement()||(a.SrcElement=document.getElementById(this.ID+"_HM")),a.Touch&&(b=parseInt(b.substring(3,b.length)),imgm_EnterShape(this,b),a.InShapeElm=!0))}
function imgm_DoPtrDrag(a){var b=a.EventID;if("shp"===b.substr(0,3)){if(a.Touch){var b=parseInt(b.substring(3,b.length)),c=a.IsInSrcElement();c&&!a.InShapeElm?(imgm_EnterShape(this,b),a.InShapeElm=!0):!c&&a.InShapeElm&&(imgm_LeaveShape(this,b),a.InShapeElm=!1)}return!0}return!1}function imgm_DoPtrEnd(a){var b=a.EventID;"shp"===b.substr(0,3)&&(a.Touch&&a.InShapeElm&&(b=parseInt(b.substring(3,b.length)),imgm_LeaveShape(this,b)),delete a.InShapeElm)}
function imgm_DoPtrClick(a){var b=a.EventID;"shp"!==b.substr(0,3)||200<=a.EndTime-a.StartTime&&!a.IsInSrcElement()||(b=parseInt(b.substring(3,b.length)),a=a.Event,a.Owner=this,a.imap=this,a.imapshpidx=b,0<=b&&b<this.Shapes.length&&(b=ngVal(this.Shapes[b],null),(a.imapshp=b)&&b.OnClick&&!ngVal(b.OnClick(a),!1)||this.OnShapeClick&&this.OnShapeClick(a)))}
function imgm_LeaveShape(a,b){if(0<=b&&b<a.Shapes.length){var c=ngVal(a.Shapes[b],null);ngc_ChangeImg(a.ID+"_I",0,a.Enabled,a.GetImg());var d=a.Elm();try{d&&(d.style.cursor=ngVal(a.Cursor,"default"))}catch(e){}c&&c.OnMouseLeave&&!ngVal(c.OnMouseLeave(c,a,b),!1)||a.OnMouseShapeLeave&&a.OnMouseShapeLeave(a,b)}}
function imgm_EnterShape(a,b){if(0<=b&&b<a.Shapes.length){var c=ngVal(a.Shapes[b],null),d=c?ngVal(c.Img,null):null;ngc_ChangeImg(a.ID+"_I",0,a.Enabled,d);var d=(a.OnShapeClick||c&&c.OnClick)&&a.Enabled,e=a.Elm();try{e&&(e.style.cursor=c&&c.Cursor?c.Cursor:d?"pointer":"default")}catch(g){}c&&c.OnMouseEnter&&!ngVal(c.OnMouseEnter(c,a,b),!1)||a.OnMouseShapeEnter&&a.OnMouseShapeEnter(a,b)}}
function imgm_MO(a,b,c,d){a||(a=windows.event);ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/)||(a=ngGetControlById(c))&&imgm_EnterShape(a,d)}function imgm_MU(a,b,c,d){a||(a=windows.event);ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/)||(a=ngGetControlById(c))&&imgm_LeaveShape(a,d)}function imgm_nop(){}function ngimgmap_DoMouseEnter(a,b,c){ngc_EnterImg(this.ID+"_I");this.OnMouseEnter&&this.OnMouseEnter(this)}
function ngimgmap_DoMouseLeave(a,b){this.OnMouseLeave&&this.OnMouseLeave(this);ngc_LeaveImg(this.ID+"_I");var c=this.Elm();try{c&&(c.style.cursor=ngVal(this.Cursor,"default"))}catch(d){}}
function ngimgmap_DoUpdate(a){var b,c=this.GetAlt();b=this.GetImg();var d=new ngStringBuilder;if(b){var e=ngc_ImgProps(this.ID+"_I",0,this.Enabled,b);ngc_Img(d,e,"position:absolute;",(""!=c?'title="'+ng_htmlEncode(c)+'"':"")+ngVal(b.Attrs,""));this.AutoSize&&(ng_SetClientWidth(a,e.W),ng_SetClientHeight(a,e.H),b=ng_StyleWidth(a),e=ng_StyleHeight(a),this.Bounds.W!=b||this.Bounds.H!=e)&&(this.Bounds.W=b,this.Bounds.H=e,this.SetBounds())}for(var e=ng_ClientWidth(a),g=ng_ClientHeight(a),k=new ngStringBuilder,
n=0;n<this.Shapes.length;n++){var r=this.Shapes[n];if(""!=ngVal(r.Coords,"")){b=this.OnGetShapeAlt?ngVal(this.OnGetShapeAlt(this,n),""):ngVal(r.Alt,"");var u=(this.OnShapeClick||r.OnClick)&&this.Enabled;k.append('<area shape="'+ngVal(r.Shape,"rect")+'" coords="'+r.Coords+'" title="'+ng_htmlEncode(b)+'"');u&&k.append(" "+ngc_PtrEventsHTML(this,"shp"+n,"tap drag"));k.append(" onmouseover=\"imgm_MO(event,this,'"+this.ID+"',"+n+');" onmouseout="imgm_MU(event,this,\''+this.ID+"',"+n+')" />')}}k.empty()||
(ngFireFox1x&&k.append('<area href="javascript:imgm_nop();" shape="rect" coords="0,0,'+e+","+g+'" />'),d.append('<img id="'+this.ID+'_HM" src="'+ngEmptyURL+'" style="position:absolute; width:'+e+"px; height:"+g+'px; z-index: 10;" alt="'+ng_htmlEncode(c)+'" border="0" usemap="#'+this.ID+'_IMAP" />'),d.append('<map id="'+this.ID+'_IM" name="'+this.ID+'_IMAP">'),d.append(k),d.append("</map>"));ng_SetInnerHTML(a,d.toString());return!0}
function ngImageMap(a){ngControl(this,a,"ngImageMap");this.DoCreate=ngimgmap_DoCreate;this.DoUpdate=ngimgmap_DoUpdate;this.DoMouseEnter=ngimgmap_DoMouseEnter;this.DoMouseLeave=ngimgmap_DoMouseLeave;this.DoPtrStart=imgm_DoPtrStart;this.DoPtrDrag=imgm_DoPtrDrag;this.DoPtrEnd=imgm_DoPtrEnd;this.DoPtrClick=imgm_DoPtrClick;this.Alt="";this.Img=null;this.AutoSize=!0;this.Shapes=[];this.GetAlt=ngc_GetAlt;this.GetImg=ngc_GetImg;this.OnMouseShapeLeave=this.OnMouseShapeEnter=this.OnMouseLeave=this.OnMouseEnter=
this.OnShapeClick=this.OnGetShapeAlt=this.OnGetImg=this.OnGetAlt=null;ngControlCreated(this)}var ngb_RadioGroups={};function ngb_SimpleRect(a){var b={};if(a.AutoSize){var c;b.W=0;b.H=0;for(var d=-1;3>d;d++)if(c=a.GetImg(d))1!=d&&(b.W+=c.W),c.H>b.H&&(b.H=c.H)}else b.W=a.Bounds.W,b.H=a.Bounds.H;return b}
function ngb_GetClassName(a){if(this.OnGetClassName){var b=this.GetText(),b=this.OnGetClassName(this,a,b);""!=ngVal(b,"")&&(a=b)}if(this.Enabled)switch(this.Checked){case !0:case 1:a+="Checked";break;case 2:a+="Grayed"}else a+="Disabled";return this.BaseClassName+a}function ngb_Check(a){var b=this.GetAction();b&&!b.in_action_check?b.Check(a):(a=ngVal(a,1),ngVal(this.Checked,0)!=a&&(this.Checked=a,this.OnCheckChanged&&this.OnCheckChanged(this),this.Checked==a&&this.Update()))}
function ngb_Click(a){var b=this.GetAction();b&&!b.in_action_click?b.Click(a):this.Enabled&&!ngVal(this.ReadOnly,!1)&&("undefined"===typeof a&&(a={}),a.Owner=this,a.btn=this,this.OnClick&&ngVal(this.OnClick(a),!1))}function ngb_GetClickInfo(a,b){a.Owner=ngGetControlByElement(b,"ngButton");a.btn=a.Owner;a.btnObj=b}
function ngb_GetImg(a){var b=null;if(this.OnGetImg)b=this.OnGetImg(this,a);else switch(a){case -1:b=this.Img;break;case 0:b=this.LeftImg;break;case 1:b=this.MiddleImg;break;case 2:b=this.RightImg}return ngVal(b,null)}function ngb_DoCreate(a,b,c,d){"undefined"===typeof a.W&&("undefined"===typeof a.L||"undefined"===typeof a.R)||"undefined"!==typeof a.Data&&"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!1)}
function ngb_SetAction(a){if("string"===typeof a&&(a=ngGetControlById(a),!a))return null;a=ngVal(a,null);var b=ngVal(this.Action,null);if(b==a)return a;b&&b.RemoveControl&&b.RemoveControl(this);(this.Action=a)&&a.AddControl&&a.AddControl(this);this.SyncAction();this.Update();return a}function ngb_GetAction(){var a=ngVal(this.Action,null);"string"===typeof a&&(a=this.SetAction(a));return a}
function ngb_SyncAction(a){"undefined"===typeof a&&(a=this.GetAction());a&&(this.Visible=a.Visible,this.Enabled=a.Enabled,this.Checked=a.Checked,this.Img=a.GetImg(),this.Text=a.GetText(),this.Alt=a.GetAlt())}
function ngb_DoUpdate(a){var b=this.GetAction();this.SyncAction(b);var c=this.BaseClassName,d=ngVal(this.Checked,0);if(b)b.CheckRadioGroup();else if("undefined"!==typeof this.RadioGroup&&d&&ngb_RadioGroups[this.RadioGroup]!=this){var e=ngb_RadioGroups[this.RadioGroup];ngb_RadioGroups[this.RadioGroup]=this;e&&"function"==typeof e.Check&&e.Check(0)}var g=new ngStringBuilder,k,n,r;ngIExplorer&&0==ng_GetStylePx(a.style.height)&&(a.style.height="1px");var u=ng_ClientWidth(a),x=-1,w=0,y=0,A=e=0,z=0,B=this.GetText(),
D=this.GetAlt();this.HTMLEncode&&(B=ng_htmlEncode(B));var C=this.GetImg(-1);C&&(r=ngc_ImgProps(this.ID+"_I",d,this.Enabled,C),r.H>e&&(e=r.H));var E=this.GetClassName("Btn");if(""!=B){ng_SetInnerHTML(a,'<div id="'+this.ID+'_T" class="'+E+'" style="position:absolute; visibility: hidden; white-space: nowrap;"><div class="'+c+'Text">'+B+"</div></div>");var F=document.getElementById(this.ID+"_T");F&&(ng_BeginMeasureElement(F),y=ng_ClientWidth(F),w=ng_OuterWidth(F),k=ng_OuterHeight(F),ng_EndMeasureElement(F),
k>e&&(e=k))}this.AutoSize&&(x=w,C&&(x+=this.ImgIndent+r.W));F=null;if(k=this.GetImg(0))F||(F=new ngStringBuilder),n=ngc_ImgProps(this.ID+"_IL",d,this.Enabled,k),ngc_Img(F,n,"position:absolute; left: 0px;",ngVal(k.Attrs,"")),A=n.W,n.H>e&&(e=n.H);if(k=this.GetImg(2))F||(F=new ngStringBuilder),n=ngc_ImgProps(this.ID+"_IR",d,this.Enabled,k),z=n.W;u=0<=x?x+A+z:u;"undefined"!==typeof this.MinWidth&&u<this.MinWidth&&(u=this.MinWidth,0<=x&&(x=u-A-z));k&&(ngc_Img(F,n,"position:absolute; left: "+(0<=x?A+x:
u-z)+"px;",ngVal(k.Attrs,"")),n.H>e&&(e=n.H));if(k=this.GetImg(1))F||(F=new ngStringBuilder),n=ngc_ImgProps(this.ID+"_IM",d,this.Enabled,k),ngc_ImgSW(F,n,A,0<=x?x:u-A-z,"",ngVal(k.Attrs,"")),n.H>e&&(e=n.H);b=this.Enabled&&(b?b.OnClick||this.OnClick:this.OnClick);d=this.OnDblClick&&this.Enabled;n="";b&&(n="tap");d&&(""!=n&&(n+=" "),n+="doubletap");g.append("<span "+ngc_PtrEventsHTML(this,"btn",n)+(""!=D?' title="'+ng_htmlEncode(D)+'"':"")+' style="position:absolute; left:0px;top:0px;width:'+u+"px;height:"+
e+"px;");"undefined"!==typeof this.Cursor?""!=this.Cursor&&g.append("cursor:"+this.Cursor+";"):g.append(b||d?"cursor:pointer;":"cursor:default;");g.append('">');if(C){D=0;switch(this.TextAlign){case "right":"right"==this.ImgAlign?(D=u-z-w-r.W-this.ImgIndent,C=u-z-r.W):(C=u-z-w-r.W-this.ImgIndent,D=u-z-w);break;case "center":D=Math.round((u-(w+this.ImgIndent+r.W))/2);"right"==this.ImgAlign?C=D+w+this.ImgIndent:(C=D,D+=this.ImgIndent+r.W);break;default:"right"==this.ImgAlign?(D=A,C=A+w+this.ImgIndent):
(C=A,D=A+r.W+this.ImgIndent)}g.append('<span id="'+this.ID+'_T" class="'+E+'" style="white-space: nowrap;position: absolute; z-index:1;left:'+D+"px;top:0px;width:"+(x-(w-y)-r.W-this.ImgIndent)+"px;"+(0<e?"line-height: "+e+"px;":"")+'"><div class="'+c+'Text">'+B+"</div></span>");ngc_Img(g,r,"position:absolute;z-index:1;left: "+C+"px;top:"+Math.round((e-r.H)/2)+"px;","")}else g.append('<span id="'+this.ID+'_T" class="'+E+'" style="white-space: nowrap;text-align:'+this.TextAlign+";position: absolute; z-index:1;left:0px;top:0px;width:"+
(u-(w-y))+"px;"+(0<e?"line-height: "+e+"px;":"")+'"><div class="'+c+'Text">'+B+"</div></span>");F&&(g.append('<span style="position: absolute;z-index:0;left:0px;">'),g.append(F),g.append("</span>"));g.append("</span>");ng_SetInnerHTML(a,g.toString());c=this.Bounds.W;this.AutoSize&&ng_ClientWidth(a)!=u&&(ng_SetClientWidth(a,u),c=ng_StyleWidth(a));ng_SetClientHeight(a,e);a=ng_StyleHeight(a);if(c!=this.Bounds.W||a!=this.Bounds.H)this.Bounds.W=c,this.Bounds.H=a,this.SetBounds();return!0}
function ngb_DoMouseEnter(a,b,c){if(a=document.getElementById(this.ID+"_T"))b=a.className,0>b.indexOf("_Focus")&&(b+="_Focus"),a.className=b;ngc_EnterImg(this.ID+"_I");ngc_EnterImg(this.ID+"_IL");ngc_EnterImgS(this.ID+"_IM");ngc_EnterImg(this.ID+"_IR");this.OnMouseEnter&&this.OnMouseEnter(this)}
function ngb_DoMouseLeave(a,b){this.OnMouseLeave&&this.OnMouseLeave(this);var c=document.getElementById(this.ID+"_T");if(c){var d=c.className,e=d.indexOf("_Focus");0<=e&&(d=d.substring(0,e));c.className=d}ngc_LeaveImg(this.ID+"_I");ngc_LeaveImg(this.ID+"_IL");ngc_LeaveImgS(this.ID+"_IM");ngc_LeaveImg(this.ID+"_IR")}function ngb_DoPtrClick(a){"btn"===a.EventID&&(ngb_GetClickInfo(a.Event,a.StartElement),this.Click(a.Event))}
function ngb_DoPtrDblClick(a){"btn"===a.EventID&&(ngb_GetClickInfo(a.Event,a.StartElement),this.OnDblClick&&this.OnDblClick(a.Event))}function ngb_SetText(a){var b=this.GetAction();b?b.SetText(a):(this.OnSetText&&(a=this.OnSetText(a,this)),a!=this.Text&&(this.Text=a,this.Update()))}function ngb_SetVisible(a){var b=this.GetAction();b&&!b.in_action_visible?b.SetVisible(a):this.DefaultSetVisible(a)}function ngb_SetEnabled(a){var b=this.GetAction();b?b.SetEnabled(a):this.DefaultSetEnabled(a)}
function ngButton(a,b){ngControl(this,a,"ngButton");this.Action=null;this.Text=ngVal(b,"");this.TextAlign="center";this.Alt="";this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.AutoSize=!0;this.Checked=0;this.DoMouseEnter=ngb_DoMouseEnter;this.DoMouseLeave=ngb_DoMouseLeave;this.DoPtrClick=ngb_DoPtrClick;this.DoPtrDblClick=ngb_DoPtrDblClick;this.Img=null;this.ImgAlign="left";this.ImgIndent=0;this.RightImg=this.MiddleImg=this.LeftImg=null;this.Check=ngb_Check;this.Click=ngb_Click;this.SetText=ngb_SetText;
this.GetText=ngc_GetText;this.GetAlt=ngc_GetAlt;this.GetImg=ngb_GetImg;this.GetClassName=ngb_GetClassName;this.DoCreate=ngb_DoCreate;this.DoUpdate=ngb_DoUpdate;this.DefaultSetVisible=this.SetVisible;this.SetVisible=ngb_SetVisible;this.DefaultSetEnabled=this.SetEnabled;this.SetEnabled=ngb_SetEnabled;this.GetAction=ngb_GetAction;this.SetAction=ngb_SetAction;this.SyncAction=ngb_SyncAction;this.ActionSetVisible=this.SetVisible;this.ActionCheck=this.Check;this.ActionClick=this.Click;this.ActionUpdate=
this.Update;this.OnGetClassName=this.OnGetImg=this.OnMouseLeave=this.OnMouseEnter=this.OnClick=this.OnDblClick=this.OnCheckChanged=this.OnGetAlt=this.OnGetText=this.OnSetText=null;ngControlCreated(this)}
function ngRadioCheckBox_Create(a,b,c){b=ngCreateControlAsType(a,"ngButton",b,c);if(!b)return b;b.OnClick=function(a){if((a=a.Owner)&&!a.Action)if(this.RadioAllowUncheck||"undefined"===typeof a.RadioGroup){var b=ngVal(a.Checked,0);switch(b){case 0:case !1:b=ngVal(a.AllowGrayed,!1)?2:1;break;case 1:case !0:b=0;break;default:b=1}a.Check(b)}else a.Check(1)};"undefined"===typeof b.ReadOnly&&(b.ReadOnly=!1);"undefined"===typeof b.AllowGrayed&&(b.AllowGrayed=!1);"undefined"===typeof b.RadioAllowUncheck&&
(b.RadioAllowUncheck=!1);"ngRadioButton"==a.Type&&"undefined"===typeof b.RadioGroup&&(b.RadioGroup="default");return b}
function ngg_DoUpdate(a){var b=this.BaseClassName,c=document.getElementById(this.ID+"_F");if(!c)return!0;var d=new ngStringBuilder,e=ng_ClientWidth(a);a=ng_ClientHeight(a);var g=this.GetText();this.HTMLEncode&&(g=ng_htmlEncode(g));var k={};ngc_ImgBox(d,this.ID,"ngGroup",0,this.Enabled,0,0,e,a,!1,this.Frame,"","",void 0,k);this.ControlsInside?(this.ControlsPanel.Bounds.T=k.Top.H,this.ControlsPanel.Bounds.L=k.Left.W,this.ControlsPanel.Bounds.R=k.Right.W,this.ControlsPanel.Bounds.B=k.Bottom.H):(this.ControlsPanel.Bounds.T=
0,this.ControlsPanel.Bounds.L=0,this.ControlsPanel.Bounds.R=0,this.ControlsPanel.Bounds.B=0);this.ControlsPanel.SetBounds();""!=g&&d.append('<div id="'+this.ID+'_C" class="'+b+(this.Enabled?"Caption":"CaptionDisabled")+'" style="position: absolute; left: 0px;top: 0px;">'+g+"</div>");ng_SetInnerHTML(c,d.toString());return!0}
function ngg_SetClientRect(a){if(ngVal(a,!1)){var b={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},c,d;"undefined"!==typeof a.W&&(c=this.ControlsInside&&"undefined"!=typeof this.Frame.Left?ngc_ImgProps(this.ID+"_L",0,this.Enabled,this.Frame.Left):b,d=this.ControlsInside&&"undefined"!=typeof this.Frame.Right?ngc_ImgProps(this.ID+"_R",0,this.Enabled,this.Frame.Right):b,this.Bounds.W=a.W+c.W+d.W,delete this.Bounds.R);"undefined"!==typeof a.H&&(c=this.ControlsInside&&"undefined"!=typeof this.Frame.Top?ngc_ImgProps(this.ID+
"_B",0,this.Enabled,this.Frame.Top):b,b=this.ControlsInside&&"undefined"!=typeof this.Frame.Bottom?ngc_ImgProps(this.ID+"_B",0,this.Enabled,this.Frame.Bottom):b,this.Bounds.H=a.H+c.H+b.H,delete this.Bounds.B)}}function ngg_GetClientRect(){var a,b;if(ngVal(this.ControlsPanel,!1)){var c=this.ControlsPanel.Elm();c&&(a=ng_ClientWidth(c),b=ng_ClientHeight(c))}return{W:a,H:b}}function ngg_DoRelease(a){a.style.display="none";(a=document.getElementById(this.ID+"_F"))&&ng_SetInnerHTML(a,"")}
function ngg_DoCreate(a,b,c,d){d=this.BaseClassName;if("undefined"!==typeof a.CW||"undefined"!==typeof a.CH)this.SetClientRect({W:a.CW,H:a.CH}),this.SetBounds();var e={};e.ControlsPanel="object"===typeof a.ControlsPanel?ng_CopyVar(a.ControlsPanel):{};ng_MergeDef(e.ControlsPanel,{Type:"ngPanel",className:d+"ControlsPanel",id:this.ID+"_P",ScrollBars:ssAuto,L:0,T:0,R:0,B:0});e.ControlsPanel.Controls=a.Controls;e.ControlsPanel.ModifyControls=a.ModifyControls;d=ngCreateControls(e,void 0,c);ngVal(a.ParentReferences,
!0)||(this.Controls={},this.Controls.Owner=this,this.Controls.AddControls=function(a,b){ngCreateControls(a,this,ngVal(b,e.ControlsPanel.id))},b=this.Controls);this.ControlsPanel=d.ControlsPanel;this.ControlsPanel.Owner=this;delete d.ControlsPanel;ngCloneRefs(b,d);delete a.Controls;delete a.ModifyControls;a=document.createElement("div");a.id=this.ID+"_F";a.style.position="absolute";a.style.zIndex="800";c.appendChild(a)}
function ngGroup(a){ngControl(this,a,"ngGroup");this.Text="";this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.Frame={};this.ControlsInside=!0;this.SetText=ngc_SetText;this.GetText=ngc_GetText;this.GetClientRect=ngg_GetClientRect;this.SetClientRect=ngg_SetClientRect;this.DoCreate=ngg_DoCreate;this.DoRelease=ngg_DoRelease;this.DoUpdate=ngg_DoUpdate;this.OnSetText=this.OnGetText=null;ngControlCreated(this)}
var ngHintHideOnFocus=0,ngHintHideOnInput=1,ngDefaultHintStyle,ngeDropDownEdit=0,ngeDropDownList=1,KEY_BACK=8,KEY_TAB=9,KEY_RETURN=13,KEY_SHIFT=16,KEY_CONTROL=17,KEY_MENU=18,KEY_PAUSE=19,KEY_CAPITAL=20,KEY_ESC=27,KEY_PRIOR=33,KEY_NEXT=34,KEY_END=35,KEY_HOME=36,KEY_LEFT=37,KEY_UP=38,KEY_RIGHT=39,KEY_DOWN=40,KEY_INSERT=45,KEY_DELETE=46,KEY_LWIN=91,KEY_RWIN=92,KEY_APPS=93,KEY_NUMPAD0=96,KEY_NUMPAD1=97,KEY_NUMPAD2=98,KEY_NUMPAD3=99,KEY_NUMPAD4=100,KEY_NUMPAD5=101,KEY_NUMPAD6=102,KEY_NUMPAD7=103,KEY_NUMPAD8=
104,KEY_NUMPAD9=105,KEY_MULTIPLY=106,KEY_ADD=107,KEY_SUBSTRACT=109,KEY_DECIMAL=110,KEY_DIVIDE=111,KEY_F1=112,KEY_F2=113,KEY_F3=114,KEY_F4=115,KEY_F5=116,KEY_F6=117,KEY_F7=118,KEY_F8=119,KEY_F9=120,KEY_F10=121,KEY_F11=122,KEY_F12=123,KEY_NUMLOCK=144,KEY_SCROLL=145;
function nge_HintStyle(a){if(ngAndroid&&!ngChrome)return ngHintHideOnFocus;if(a){if(a.Password||0<a.MaxLength&&ngWindowsPhone)return ngHintHideOnFocus;if("undefined"!==typeof a.HintStyle)return a.HintStyle}return"undefined"!==typeof ngDefaultHintStyle?ngDefaultHintStyle:ngHintHideOnInput}
function nge_SuggestionResults(a,b,c){var d=ng_Expand2Id(a);if((a=ngGetControlById(d.id1))&&ngVal(a.Suggestion,!1)&&d.id2==a.SuggestionCmdID&&b==a.GetText()&&(d=a.DropDownControl)&&(!a.OnSuggestionData||ngVal(a.OnSuggestionData(a,b,c),!1))){if(a.OnSuggestionResults){var e={found:!1,needupdate:!1};if(!ngVal(a.OnSuggestionResults(a,b,c,e),!1))return;d.Visible&&e.needupdate&&e.found&&(d.SetItemFocus(null),d.Update());a.SuggestionFound=e.found}else"undefined"===typeof c||0==c.length?a.SuggestionFound=
!1:(d.Clear(),d.AddItems(c),d.Visible&&(d.SetItemFocus(null),d.Update()),a.SuggestionFound=!0);a.SuggestionFound?((d=a.DropDownControl)&&d.SetItemFocus(null),a.DropDown()):a.HideDropDown()}}
function nge_Suggestion(a){var b=ngGetControlById(a);if(b&&ngVal(b.Suggestion,!1)){b.SuggestionTimer&&clearTimeout(b.SuggestionTimer);b.SuggestionTimer=null;var c=b.GetText();if(""==c)b.HideDropDown(),b.SuggestionLastSearch="";else if(ngVal(b.SuggestionLastSearch,"")!=c){if(b.OnSuggestionSearch){a={found:!1,needupdate:!1};if(!ngVal(b.OnSuggestionSearch(b,c,a),!1))return;var d=b.DropDownControl;d&&d.Visible&&a.needupdate&&a.found&&(d.SetItemFocus(null),d.Update());b.SuggestionFound=a.found;b.SuggestionLastSearch=
c}else{b.SuggestionLastSearch=c;a=ngVal(b.SuggestionURL,"");var e=ngVal(b.SuggestionIgnoreCase,!0),g=ngVal(b.SuggestionPartial,2);b.OnSuggestionURL?a=b.OnSuggestionURL(b,a):""!=a&&(b.SuggestionCmdID=ngVal(b.SuggestionCmdID,-1)+1,99<b.SuggestionCmdID&&(b.SuggestionCmdID=0),a=ng_AddURLParam(a,"S="+ng_URLEncode(b.ID+"_"+b.SuggestionCmdID)),"undefined"!==typeof b.SuggestionType&&""!=b.SuggestionType&&(a=ng_AddURLParam(a,"T="+ng_URLEncode(b.SuggestionType))),a=ng_AddURLParam(a,"Q="+ng_URLEncode(c)+"&IC="+
(e?"1":"0")+"&P="+g));if(""!=a){b.SuggestionRPC||(b.SuggestionRPC=new ngRPC(b.ID));b.SuggestionRPC.sendRequest(a);return}var k=!1,n=!1;if(d=b.DropDownControl){e&&(c=c.toLowerCase());var r="";0<d.Columns.length&&(r=ngVal(b.SuggestionSearchColumn,d.Columns[0].ID));var u,x;b.OnSuggestionCompareItem?g=-1:-1==g&&(g=2);d.Scan(function(a,y,A,z){u=0<d.Columns.length?ngVal(y.Text[r],""):y.Text;e&&(u=u.toLowerCase());switch(g){case -1:x=ngVal(b.OnSuggestionCompareItem(b,c,u,a,y,A),!1);break;case 1:if(c.length>
u.length)return!1;x=u.substring(0,c.length)==c;break;case 2:x=0<=u.indexOf(c);break;default:x=u==c}y.Visible!=x&&(y.Visible=x,n=!0);y.Visible&&(k=!0);return!0});d.Visible&&n&&k&&(d.SetItemFocus(null),d.Update())}b.SuggestionFound=k}b.SuggestionFound?((d=b.DropDownControl)&&d.SetItemFocus(null),b.DropDown()):b.HideDropDown()}else b.HideDropDown()}}
function nge_SuggestionRefresh(a,b){var c=this.DropDownControl;c&&(this.SuggestionTimer&&clearTimeout(this.SuggestionTimer),ngVal(a,!1)&&(this.SuggestionLastSearch=""),(c=c.Elm())&&""!=c.style.height&&(c.style.display="none",c.style.height=""),"undefined"===typeof b&&(b=ngVal(this.SuggestionDelay,200)),this.SuggestionTimer=setTimeout("nge_Suggestion('"+this.ID+"')",b))}
function nge_SuggestionCancelRefresh(){this.SuggestionTimer&&clearTimeout(this.SuggestionTimer);this.SuggestionTimer=null;this.SuggestionCmdID=ngVal(this.SuggestionCmdID,-1)+1}function nge_GetCaretPos(){var a=this.ControlHasFocus?document.getElementById(this.ID+"_T"):null;if(a){var b=0;if(document.selection)a.focus(),b=document.selection.createRange(),b.moveStart("character",-a.value.length),b=b.text.length;else if(a.selectionStart||"0"==a.selectionStart)b=a.selectionStart;return b}}
function nge_SetCaretPos(a){var b=document.getElementById(this.ID+"_T");b&&!ng_IsInactiveModalElm(b)&&(b.setSelectionRange?(b.focus(),b.setSelectionRange(a,a)):b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveEnd("character",a),b.moveStart("character",a),b.select()))}function nge_SetHintCaret(a){a.SetCaretPos("right"===a.TextAlign?a.GetHint().length:0)}
function nge_TextChanged(a,b,c){"undefined"===typeof c&&(c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngEdit"));if(c){var d=b.value;c.HintVisible||c.Text==d||(c.Text=d,c.OnTextChanged&&c.OnTextChanged(c),b.className=c.GetClassName("Input"));a=c.HintVisible;if(""==d&&(!c.HasFocus||nge_HintStyle(c)===ngHintHideOnInput)||a)d=c.GetHint(),""!=d?(nge_ShowHint(c,b,d),!c.LockHintCaretPos&&a||nge_SetHintCaret(c)):nge_HideHint(c,b)}}
function nge_KeyDown(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngEdit");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===c){a.Owner=c;if(c.OnKeyDown&&!ngVal(c.OnKeyDown(a,b),!1))return!1;if(c.LockHintCaretPos&&c.HintVisible)switch(a.keyCode){case 35:case 36:case 37:case 39:case 38:case 40:case 8:case 46:case 33:case 34:a.preventDefault&&a.preventDefault(),a.returnValue=!1}if(ngVal(c.Suggestion,!1))switch(c=
c.DropDownControl,a.keyCode){case 33:case 34:case 38:case 40:if(c&&c.Visible){if((c=c.Elm())&&c.onkeydown)c.onkeydown(a);break}break;case 37:case 39:c&&c.Visible&&(d=c.GetItemFocus())&&"undefined"!==typeof d.Items&&0<d.Items.length&&(37==a.keyCode?c.Collapse(d):c.Expand(d),a.preventDefault&&a.preventDefault(),a.returnValue=!1)}}}}
function nge_DefFormButton2(a,b){var c,d=a.ChildControls;if("undefined"!==typeof d){for(var e=0;e<d.length;e++)if((c=d[e])&&c.Click&&c.Enabled&&c.Visible&&""==ngVal(c.FormID,"")&&(b&&ngVal(c.Default,!1)||!b&&ngVal(c.Cancel,!1))){var g=setTimeout(function(){clearTimeout(g);"function"===typeof c.Click&&c.Click()},10);return!0}for(e=0;e<d.length;e++)if(c=d[e],""==ngVal(c.FormID,"")&&c.Visible&&nge_DefFormButton2(c,b))return!0}return!1}
function nge_DefFormButton(a,b){var c=a.ParentControl;if(c){var d,e=c.ChildControls;if("undefined"!==typeof e)for(var g=0;g<e.length;g++)if((d=e[g])&&d!=a&&d.Click&&d.Enabled&&d.Visible&&""==ngVal(d.FormID,"")&&(b&&ngVal(d.Default,!1)||!b&&ngVal(d.Cancel,!1))){var k=setTimeout(function(){clearTimeout(k);"function"===typeof d.Click&&d.Click()},10);return!0}if(""==ngVal(c.FormID,"")&&nge_DefFormButton(c,b))return!0;if("undefined"!==typeof e)for(g=0;g<e.length;g++)if((d=e[g])&&d!=a&&d.Visible&&""==ngVal(d.FormID,
"")&&nge_DefFormButton2(d,b))return!0}return!1}function nge_KeyPress(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngEdit");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===c)if(a.Owner=c,c.OnKeyPress&&!ngVal(c.OnKeyPress(a,b),!1))return!1}}
function nge_KeyUpHint(a,b,c){if(a.HintVisible)if(c=a.GetHint(),""!=c){var d=b.value,e=0,g,k;g=d.length-1;for(k=c.length-1;0<=g&&0<=k&&d.charAt(g)==c.charAt(k);g--,k--);if(0<=g||0<=k){if(0<=k){for(e=0;e<g&&e<c.length&&d.charAt(e)==c.charAt(e);e++);e===c.length&&(g=d.length-1);e<k&&(g=e-1)}nge_HideHint(a,b,d.substr(e,g-e+1))}}else nge_HideHint(a,b)}
function nge_KeyUp(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngEdit");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===c){a.Owner=c;nge_KeyUpHint(c,b,"Input");if(c.OnKeyUp&&!ngVal(c.OnKeyUp(a,b),!1))return!1;nge_TextChanged(a,b,c);if(ngVal(c.Suggestion,!1))switch(d=c.DropDownControl,a.keyCode){case 35:case 36:case 37:break;case 9:if(!d)break;case 27:c.SuggestionTimer&&clearTimeout(c.SuggestionTimer);
c.SuggestionTimer=null;c.HideDropDown();break;case 39:case 13:if(d&&d.Visible){var e=d.GetItemFocus();if(e){if(39==a.keyCode&&e&&"undefined"!==typeof e.Items&&0<e.Items.length)break;d.SetItemFocus(null);c.SuggestionTimer&&clearTimeout(c.SuggestionTimer);c.SuggestionTimer=null;d.SelectDropDownItem(e);c=null}}break;case 33:case 34:case 38:case 40:if(d&&d.Visible){if((c=d.Elm())&&c.onkeyup)c.onkeyup(a);c=null;break}if(40!=a.keyCode)break;default:""==b.value?(c.SuggestionTimer&&clearTimeout(c.SuggestionTimer),
c.SuggestionTimer=null,c.HideDropDown()):c.SuggestionRefresh(),40==a.keyCode&&(c=null)}40==a.keyCode&&c&&c.DropDown();if(13==a.keyCode&&c){d=!1;if(c.Buttons)for(var g,e=0;e<c.Buttons.length;e++)if(g=c.Buttons[e],ngVal(g.Default,!1)&&"function"===typeof g.Click){var k=setTimeout(function(){clearTimeout(k);"function"===typeof g.Click&&g.Click(a)},10),d=!0;break}!d&&nge_DefFormButton(c,1)&&(d=!0);!d&&c.Buttons&&0<c.Buttons.length&&!1!==c.Buttons[0].Default&&"function"===typeof c.Buttons[0].Click&&(g=
c.Buttons[0],k=setTimeout(function(){clearTimeout(k);"function"===typeof g.Click&&g.Click(a)},10),d=!0);d&&(c.SetFocus(!1),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}if(27==a.keyCode&&c){d=!1;if(c.Buttons)for(e=0;e<c.Buttons.length;e++)if(g=c.Buttons[e],ngVal(g.Cancel,!1)&&"function"===typeof g.Click){k=setTimeout(function(){clearTimeout(k);"function"===typeof g.Click&&g.Click(a)},10);d=!0;break}!d&&nge_DefFormButton(c,0)&&(d=!0);d&&(c.SetFocus(!1),a.stopPropagation?a.stopPropagation():
a.cancelBubble=!0)}}}}function nge_SetText(a){this.OnSetText&&(a=this.OnSetText(a,this));if(a!=this.Text){this.Text=a;var b=document.getElementById(this.ID+"_T");if(b){var c=!1;if(""==a){var d=this.GetHint();""==d||this.HasFocus&&nge_HintStyle(this)!==ngHintHideOnInput?b.value=a:(c=!0,nge_ShowHint(this,b,d))}else b.value=a;this.HintVisible&&!c&&nge_HideHint(this,b)}this.OnTextChanged&&this.OnTextChanged(this);b&&(b.className=this.GetClassName("Input",d))}}
function nge_DoAcceptGestures(a,b){b.tap=!0}function nge_DoGesture(a){return a.Owner===this&&"drag"===a.Gesture&&this.HasFocus?!0:!1}function nge_DoPtrStart(a){"control"===a.EventID&&(this.DropDownType==ngeDropDownList&&this.DropDownControl?(a.CanFocus=!1,a.PreventDefault=!0,a.PreventSelect=!0):a.PreventDefault=!1)}
function nge_DoPtrClick(a){"control"===a.EventID&&this.Enabled&&!this.ReadOnly&&(this.DropDownType==ngeDropDownList&&this.DropDownControl?this.DropDownControl.Visible?this.HideDropDown():this.DropDown():this.LockHintCaretPos&&this.HintVisible&&nge_HintStyle(this)===ngHintHideOnInput&&nge_SetHintCaret(this))}
function nge_DoUpdateImages(){var a,b=this.HasFocus?1:0;a=this.OnGetImg?this.OnGetImg(this,0):this.LeftImg;ngc_ChangeImg(this.ID+"_IL",b,this.Enabled,a);a=this.OnGetImg?this.OnGetImg(this,2):this.RightImg;ngc_ChangeImg(this.ID+"_IR",b,this.Enabled,a);a=this.OnGetImg?this.OnGetImg(this,1):this.MiddleImg;ngc_ChangeImgS(this.ID+"_IM",b,this.Enabled,a)}var ngMobileKeyboardActive=0;
function nge_BeginMobileKeyboard(){var a="object"===typeof ngApp&&ngApp?ngApp.Elm():null;a&&ngVal(ngApp.MobileKeyboardFix,!0)&&(2==ngMobileKeyboardActive?(ngApp.MobileKeyboardTimer&&clearTimeout(ngApp.MobileKeyboardTimer),delete ngApp.MobileKeyboardTimer):(ngMobileKeyboardActive=1,ngApp.SavedAppHeight=a.style.height,ngApp.SavedAppBottom=a.style.bottom,ngApp.SavedAppMarginBottom=a.style.marginBottom,ng_SetClientHeight(a,ng_ClientHeight(a)),a.style.bottom="",a.style.marginBottom=ng_WindowHeight()+"px",
ng_IE7RedrawFix(document.body),ngApp.MobileKeyboardTimer&&clearTimeout(ngApp.MobileKeyboardTimer),ngApp.MobileKeyboardTimer=setTimeout(function(){clearTimeout(ngApp.MobileKeyboardTimer);delete ngApp.MobileKeyboardTimer;nge_FinishMobileKeyboard()},1E3)))}
function nge_EndMobileKeyboard(){"object"===typeof ngApp&&ngApp&&ngApp.Elm()&&"undefined"!==typeof ngApp.SavedAppHeight&&(ngApp.MobileKeyboardTimer&&clearTimeout(ngApp.MobileKeyboardTimer),ngApp.MobileKeyboardTimer=setTimeout(function(){clearTimeout(ngApp.MobileKeyboardTimer);delete ngApp.MobileKeyboardTimer;nge_FinishMobileKeyboard()},1==ngMobileKeyboardActive?10:1E3),ngMobileKeyboardActive=2)}
function nge_FinishMobileKeyboard(){ngMobileKeyboardActive=0;var a="object"===typeof ngApp&&ngApp?ngApp.Elm():null;if(a&&"undefined"!==typeof ngApp.SavedAppHeight){a.style.bottom=ngApp.SavedAppBottom;a.style.height=ngApp.SavedAppHeight;a.style.marginBottom=ngApp.SavedAppMarginBottom;ng_IE7RedrawFix(document.body);delete ngApp.SavedAppBottom;delete ngApp.SavedAppHeight;delete ngApp.SavedAppMarginBottom;var b=ng_ClientWidth(a),a=ng_ClientHeight(a);b===ngApp.LastResizeW&&a===ngApp.LastResizeH||nga_DoResize()}}
function nge_DoFocus(a,b){this.HasFocus=!0;this.DoUpdateImages();nge_BeginMobileKeyboard();this.LockHintCaretPos&&this.HintVisible&&nge_SetHintCaret(this);this.DropDownControl&&this.DropDownControl.Visible&&this.HideDropDown();this.OnFocus&&this.Enabled&&this.OnFocus(this);""==this.Text&&nge_HintStyle(this)===ngHintHideOnFocus&&nge_HideHint(this,b,"")}
function nge_DoSetEnabled(a){this.Enabled=a;!a&&this.ControlHasFocus&&(this.SetFocus(!1),this.HasFocus=!1,this.OnBlur&&this.OnBlur(this));this.Update&&this.Update()}function nge_DoBlur(a,b){this.HasFocus=!1;nge_EndMobileKeyboard();this.OnBlur&&this.Enabled&&this.OnBlur(this);if(""==this.Text&&!this.HintVisible){var c=document.getElementById(this.ID+"_T");if(c){var d=this.GetHint();""!=d&&nge_ShowHint(this,c,d)}}this.DoUpdateImages()}
function nge_ShowHint(a,b,c){a.HintVisible=!0;b.className=a.GetClassName("Input",c);b.value!=c&&(b.value=c);if(ngIExplorer&&8>=ngIExplorerVersion){if("text"!==b.getAttribute("type")){b=a.Password;c=a.HasFocus;a.Password=!1;a.Update();a.Password=b;c&&ngApp.InvokeLater(function(){var b=document.getElementById(a.ID+"_T");b&&b.focus()});return}}else b.setAttribute("type","text");b.removeAttribute("maxlength")}
function nge_HideHint(a,b,c){a.HintVisible=!1;b.className=a.GetClassName("Input");if(a.Password){if(ngIExplorer&&8>=ngIExplorerVersion){a.Update();ngApp.InvokeLater(function(){var b=document.getElementById(a.ID+"_T");b&&b.focus()});return}b.setAttribute("type","password")}0<a.MaxLength&&b.setAttribute("maxlength",a.MaxLength);"undefined"!==typeof c&&(b.value=0<a.MaxLength?c.substr(0,a.MaxLength):c)}
function nge_OnDropDownSetVisible(a,b){if(!b&&!a.__hidingdropdown){a.__hidingdropdown=!0;try{var c=a.DropDownOwner;if(c){if(c.OnHideDropDown&&!ngVal(c.OnHideDropDown(c,a),!1))return!1;if("function"===typeof a.DoHideDropDown)return a.DoHideDropDown(this),!1}}finally{delete a.__hidingdropdown}}return!0}function nge_HideDropDown(){var a=this.DropDownControl;if(a&&(a.SetVisible(!1),null!==this._origDDWidth)){if(a=a.Elm())a.style.width=this._origDDWidth;this._origDDWidth=null}}
function nge_IsInsidePopup(a,b,c){c=this.Elm();for(b=1!==b&&this.DropDownOwner?this.DropDownOwner.Elm():null;a&&a!==b&&a!==c;)a=a.parentNode;return a?!0:!1}
function nge_DropDown(){var a=this.DropDownControl;if(a&&(!this.OnDropDown||ngVal(this.OnDropDown(this,a),!1))){var b=this.Elm(),c=a.Elm();if(c&&b&&(a.Visible||(c.style.left="-10000px",c.style.top="-10000px"),"function"===typeof a.DoDropDown?a.DoDropDown(this):(a.SetVisible(!0),a.SetFocus()),a.Visible&&(c=a.Elm()))){ng_BeginMeasureElement(b);var d=ng_OuterWidth(b),e=ng_OuterHeight(b);ng_EndMeasureElement(b);ng_BeginMeasureElement(c);var g=ng_OuterWidth(c),k=ng_OuterHeight(c);ng_EndMeasureElement(c);
var n=c.parentNode,b=ng_ParentPosition(b,n,!0);this._origDDWidth=c.style.width;"undefined"!==typeof this.DropDownWidth?0<this.DropDownWidth&&ng_SetOuterWidth(c,this.DropDownWidth):g<d&&(ng_SetOuterWidth(c,d),g=d);var r=ngVal(a.MaxHeight,150);k>r&&(ng_SetOuterHeight(c,r),k=r);var r=ng_ClientHeightEx(n),u=ng_ClientWidthEx(n);b.x+g<=u-20&&"left"==this.DropDownAlign||0>b.x+d-g?b.x+g>u?(d=u-g,0>d&&(d=0)):d=b.x:d=b.x+d-g;b.y+e+k>r-20&&0<=b.y-k?e=b.y-k:b.y+e+k>r?(e=r-k,0>e&&(e=0)):e=b.y+e;d+=ng_ScrollX(n);
e+=ng_ScrollY(n);c.style.left=d+"px";c.style.top=e+"px";c.style.zIndex="100000";a.Bounds.L=d;a.Bounds.T=e;a.Update();"function"===typeof a.DoDropDownFinished&&a.DoDropDownFinished(this)}}}
function nge_SetDropDownControl(a){var b=this.DropDownControl;b&&(b.RemoveEvent("OnSetVisible",nge_OnDropDownSetVisible),b.RemoveEvent("IsInsidePopup",nge_IsInsidePopup),"function"===typeof b.SetDropDownOwner&&b.SetDropDownOwner(null),delete b.DropDownOwner);if(this.DropDownControl=a)a.DropDownOwner=this,a.IsPopup=!0,a.AddEvent(nge_OnDropDownSetVisible,"OnSetVisible"),a.AddEvent("IsInsidePopup",nge_IsInsidePopup),"function"===typeof a.SetDropDownOwner&&a.SetDropDownOwner(this)}
function nge_GetClassName(a,b){"undefined"===typeof b&&(b=this.GetHint());var c=this.GetText();if(this.OnGetClassName){var d=this.OnGetClassName(this,a,c,b);""!=ngVal(d,"")&&(a=d)}if(""!=this.DefaultText&&c==this.DefaultText||this.HintVisible)a+="Hint";this.Enabled||(a+="Disabled");return this.BaseClassName+a}
function nge_DoUpdate(a){var b=new ngStringBuilder,c=this.BaseClassName,d,e;ngIExplorer&&0==ng_GetStylePx(a.style.height)&&(a.style.height="1px");var g=ng_ClientWidth(a),k=0,n=0,r=0,u=0,x=this.GetAlt(),w=this.ControlHasFocus&&nge_HintStyle(this)!==ngHintHideOnInput?"":this.GetHint(),y=null;if(d=this.OnGetImg?this.OnGetImg(this,0):this.LeftImg)y||(y=new ngStringBuilder),e=ngc_ImgProps(this.ID+"_IL",this.ControlHasFocus?1:0,this.Enabled,d),ngc_Img(y,e,"position:absolute; left: 0px;",ngVal(d.Attrs,"")),
n=e.W,e.H>k&&(k=e.H);if(d=this.OnGetImg?this.OnGetImg(this,2):this.RightImg)y||(y=new ngStringBuilder),e=ngc_ImgProps(this.ID+"_IR",this.ControlHasFocus?1:0,this.Enabled,d),ngc_Img(y,e,"position:absolute; left: "+(g-e.W)+"px;",ngVal(d.Attrs,"")),r=e.W,e.H>k&&(k=e.H);if(d=this.OnGetImg?this.OnGetImg(this,1):this.MiddleImg)y||(y=new ngStringBuilder),e=ngc_ImgProps(this.ID+"_IM",this.ControlHasFocus?1:0,this.Enabled,d),ngc_ImgSW(y,e,n,g-n-r,"",ngVal(d.Attrs,"")),e.H>k&&(k=e.H);d=!this.Enabled||this.ReadOnly||
this.DropDownType==ngeDropDownList;if(e=this.ControlHasFocus?document.getElementById(this.ID+"_T"):null){var A=a.firstChild;A||(e=null);if(e&&ngIExplorer&&8>=ngIExplorerVersion){var z=e.getAttribute("type");if(this.Password&&!this.HintVisible&&"password"!==z||"text"!==z)e=null}}e?""!=x?A.setAttribute("title",x):A.removeAttribute("title"):b.append("<span "+(""!=x?' title="'+ng_htmlEncode(x)+'"':"")+">");if(this.Buttons&&0<this.Buttons.length)for(var B,D=0;D<this.Buttons.length;D++){x=this.Buttons[D];
x.Enabled=this.Enabled;if(""==x.BaseClassName||x.BaseClassName==x.CtrlType)x.BaseClassName=c+"Button";x.Visible&&(""==x.ID&&x.Attach(this.ID+"_B"+(D+1)),B=ngb_SimpleRect(x),B.H>k&&(k=B.H),z=ngVal(x.ButtonAlign,""),"left"==z?(x.Bounds.L=n+0,n+=B.W):(x.Bounds.L=g-r-u-B.W,u+=B.W),x.Bounds.T=0,x.Bounds.W=B.W,b.append('<div id="'+x.ID+'" class="'+x.BaseClassName+'" style="position: absolute; z-index:1; left:'+x.Bounds.L+"px; top: 0px; width: "+B.W+"px; height: "+B.H+'px"></div>'))}ng_SetClientHeight(a,
k);c=ng_StyleHeight(a);this.Bounds.H!=c&&(this.Bounds.H=c,this.SetBounds());g=g-u-0-n-r-2;0>g&&(g=0);r=(ngIExplorer&&11>ngIExplorerVersion||ngOpera)&&"right"===this.TextAlign?"1px":"";if(e){for(u=A.lastChild;u;)a=u.previousSibling,u!=e&&A.removeChild(u),u=a;a=document.createElement("div");ng_SetInnerHTML(a,b.toString());for(u=a.firstChild;u;)a=u.nextSibling,A.insertBefore(u,e),u=a;e.className=this.GetClassName("Input",w);if(!ngIExplorer||8<ngIExplorerVersion)this.Password&&!this.HintVisible?e.setAttribute("type",
"password"):e.setAttribute("type","text");0<this.MaxLength&&!this.HintVisible?e.setAttribute("maxlength",this.MaxLength):e.removeAttribute("maxlength");d?(e.setAttribute("readonly","readonly"),ngIExplorer&&this.SetFocus(!1)):e.removeAttribute("readonly");e.style.textAlign=this.TextAlign;""!=r&&(e.style.paddingRight=r);e.style.left=n+0+"px";e.style.top=this.OffsetTop+"px";e.style.width=g+"px";this.HintVisible&&e.value!=w&&(e.value=w,this.LockHintCaretPos&&nge_SetHintCaret(this));if(y)for(b.clear(),
b.append('<span style="position: absolute;z-index:0;left:0px;">'),b.append(y),b.append("</span>"),a=document.createElement("div"),ng_SetInnerHTML(a,b.toString()),u=a.firstChild;u;)a=u.nextSibling,A.appendChild(u),u=a}else this.HintVisible=""==this.Text&&""!=w,b.append("<input type="),this.Password&&!this.HintVisible?b.append('"password" '):b.append('"text" '),d&&b.append('readonly="readonly" '),b.append('id="'+this.ID+'_T" class="'+this.GetClassName("Input",w)),b.append('" style="border:0px; white-space: nowrap;text-align:'+
this.TextAlign+";position: absolute; z-index:1;left:"+(n+0)+"px;top:"+this.OffsetTop+"px;width:"+g+"px;"+(""!=r?"padding-right:"+r+";":"")),d&&b.append("cursor: default;"),b.append('" value="'+ng_htmlEncode(""==this.Text?w:this.Text)+'" '),0<this.MaxLength&&!this.HintVisible&&b.append('maxlength="'+this.MaxLength+'" '),b.append('onkeydown="nge_KeyDown(event,this)" onkeyup="nge_KeyUp(event,this)" onkeypress="nge_KeyPress(event,this)" onchange="nge_TextChanged(event,this)"'),b.append(" onfocus=\"ngc_Focus(event,this,'ngEdit')\" onblur=\"ngc_Blur(event,this,'ngEdit')\""),
b.append(" />"),y&&(b.append('<span style="position: absolute;z-index:0;left:0px;">'),b.append(y),b.append("</span>")),b.append("</span>"),ng_SetInnerHTML(a,b.toString());if(this.Buttons&&0<this.Buttons.length)for(D=0;D<this.Buttons.length;D++)x=this.Buttons[D],x.Parent=this,x.Update();return!0}
function nge_SetFocus(a){a=ngVal(a,!0);if(a!=this.HasFocus){var b=document.getElementById(this.ID+"_T");if(b)try{a?ng_IsInactiveModalElm(b)||(b.focus(),this.SelectOnFocus&&!this.HintVisible&&b.select()):b.blur()}catch(c){}}}
function nge_SetReadOnly(a){a=ngVal(a,!0);if(a==this.ReadOnly)return!0;if(this.OnSetReadOnly&&!ngVal(this.OnSetReadOnly(this,a),!1))return!1;this.ReadOnly=a;var b=document.getElementById(this.ID+"_T");b&&(a?(b.setAttribute("readonly","readonly"),b.style.cursor="default",ngIExplorer&&this.ControlHasFocus&&this.SetFocus(!1)):(b.removeAttribute("readonly"),b.style.cursor=""));this.OnReadOnlyChanged&&this.OnReadOnlyChanged(this,a);return!0}
function nge_DoMouseEnter(a,b,c){if(a=document.getElementById(this.ID+"_T"))b=a.className,0>b.indexOf("_Focus")&&(b+="_Focus"),a.className=b;ngc_EnterImg(this.ID+"_IL");ngc_EnterImgS(this.ID+"_IM");ngc_EnterImg(this.ID+"_IR");this.OnMouseEnter&&this.OnMouseEnter(this)}
function nge_DoMouseLeave(a,b){this.OnMouseLeave&&this.OnMouseLeave(this);var c=document.getElementById(this.ID+"_T");if(c){var d=c.className,e=d.indexOf("_Focus");0<=e&&(d=d.substring(0,e));c.className=d}ngc_LeaveImg(this.ID+"_IL");ngc_LeaveImgS(this.ID+"_IM");ngc_LeaveImg(this.ID+"_IR")}
function nge_DoCreate(a,b,c,d){a.DropDown&&"object"===typeof a.DropDown&&"function"===typeof this.SetDropDownControl&&(ng_MergeDef(a.DropDown,{L:0,T:0,id:this.ID+"_DD",Data:{Visible:!1}}),this.InDesignMode&&(a.DropDown.Data.Visible=!1),d=ngCreateControls({Control:a.DropDown},void 0,"object"===typeof ngApp&&ngApp?ngApp.TopElm():document.body),"undefined"!==typeof d.Control&&(d.Control.Owner=this,this.SetDropDownControl(d.Control)));if("object"===typeof a.Buttons){d={};for(c=0;c<a.Buttons.length;c++)b=
ng_CopyVar(a.Buttons[c]),d["B"+c]=b;d=ngCreateControls(d,void 0,null);"object"===typeof this.Buttons&&this.Buttons||(this.Buttons=[]);for(c=0;c<a.Buttons.length;c++)if(b=d["B"+c])b.Owner=this,this.Buttons[this.Buttons.length]=b;this.Buttons.length||(this.Buttons=null)}}function nge_DoDispose(){this.HideDropDown();this.DropDownControl&&this.DropDownControl.Dispose();return!0}
function ngEdit(a,b){ngControl(this,a,"ngEdit");this.DoCreate=nge_DoCreate;this.DoDispose=nge_DoDispose;this.DoAcceptGestures=nge_DoAcceptGestures;this.DoGesture=nge_DoGesture;this.Text=ngVal(b,"");this.DefaultText="";this.TextAlign="left";this.Hint=this.Alt="";this.Password=this.ReadOnly=!1;this.MaxLength=0;this.RightImg=this.MiddleImg=this.LeftImg=null;this.OffsetTop=0;this.HasFocus=!1;this.SelectOnFocus=!0;this.Buttons=null;this.DropDownType=ngeDropDownEdit;this.DropDownControl=null;this.DropDownWidth=
void 0;this.DropDownAlign="left";this.LockHintCaretPos=!0;this.Invalid=!1;this.SetText=nge_SetText;this.GetText=ngc_GetText;this.GetAlt=ngc_GetAlt;this.GetHint=ngc_GetHint;this.SetReadOnly=nge_SetReadOnly;this.GetCaretPos=nge_GetCaretPos;this.SetCaretPos=nge_SetCaretPos;this.GetClassName=nge_GetClassName;this.DoMouseEnter=nge_DoMouseEnter;this.DoMouseLeave=nge_DoMouseLeave;this.DoSetEnabled=nge_DoSetEnabled;this.DoFocus=nge_DoFocus;this.DoBlur=nge_DoBlur;this.DoPtrStart=nge_DoPtrStart;this.DoPtrClick=
nge_DoPtrClick;this.SetDropDownControl=nge_SetDropDownControl;this.DropDown=nge_DropDown;this.HideDropDown=nge_HideDropDown;this.SuggestionRefresh=nge_SuggestionRefresh;this.SuggestionCancelRefresh=nge_SuggestionCancelRefresh;this.DoUpdateImages=nge_DoUpdateImages;this.DoUpdate=nge_DoUpdate;this.SetFocus=nge_SetFocus;this.SetInvalid=ngc_SetInvalid;this.OnGetImg=this.OnReadOnlyChanged=this.OnSetReadOnly=this.OnSetInvalid=this.OnBlur=this.OnFocus=this.OnMouseLeave=this.OnMouseEnter=this.OnKeyPress=
this.OnKeyUp=this.OnKeyDown=this.OnClickOutside=this.OnHideDropDown=this.OnDropDown=this.OnGetClassName=this.OnGetHint=this.OnGetAlt=this.OnTextChanged=this.OnGetText=this.OnSetText=null;ngControlCreated(this)}
function ngDropDown_Add(a){var b=new ngButton;a.DropDownButton=b;b.OnPtrStart=function(a,b){"btn"===b.EventID&&(b.CanFocus=!1,b.PreventDefault=!0)};b.OnClick=function(a){if((a=a.Owner?a.Owner.Parent:null)&&a.Enabled&&!a.ReadOnly){var b=a.DropDownControl;b&&b.Visible?a.HideDropDown():a.DropDown()}};a.Buttons=Array(b)}
function ngDropDown_Create(a,b,c,d,e){b=ngCreateControlAsType(a,ngVal(d,"ngEdit"),b,c);if(!b)return b;e&&(b.DropDownType=ngeDropDownList,b.SelectOnFocus=!0);ngDropDown_Add(b);"undefined"===typeof a.DropDown&&(a.DropDown={});return b}
function ngedn_GetText(a){var b=parseInt(a.Text,10);if(""==a.Text||isNaN(b))if("undefined"!==typeof a.DefaultNum)b=a.DefaultNum,a.Text=""+b;else return a.Text;"undefined"!==typeof a.MinNum&&b<a.MinNum&&(a.Text=""+a.MinNum);"undefined"!==typeof a.MaxNum&&b>a.MaxNum&&(a.Text=""+a.MaxNum);return a.Text}
function ngEditNum_Create(a,b,c){var d=ngVal(a.ArrowsAlign,"right"),e=ngVal(a.Arrows,"leftright"),g=ngCreateControlAsType(a,"ngEdit",b,c);if(!g)return g;g.TextAlign="both"==d?"center":"right";g.OnGetText=ngedn_GetText;g.AddEvent("OnKeyUp",function(a,b){switch(a.keyCode){case 38:return g.ReadOnly||this.DoUp(),!1;case 40:return g.ReadOnly||this.DoDown(),!1}return!0});g.Step=1;g.DefaultNum=0;g.DoUp=function(){var a=this.GetNum();if("undefined"!==typeof a){var b=a;ngVal(this.StepRound,!1)&&(b=Math.ceil(a/
this.Step)*this.Step);a=a==b?a+this.Step:b}this.SetNum(a)};g.DoDown=function(){var a=this.GetNum();if("undefined"!==typeof a){var b=a;ngVal(this.StepRound,!1)&&(b=Math.floor(a/this.Step)*this.Step);a=a==b?a-this.Step:b}this.SetNum(a)};g.GetNum=function(){if(this.OnGetNum)return this.OnGetNum(this);var a=parseInt(this.GetText(),10);if(!isNaN(a))return"undefined"!==typeof this.MinNum&&a<this.MinNum&&(a=this.MinNum),"undefined"!==typeof this.MaxNum&&a>this.MaxNum&&(a=this.MaxNum),a};g.SetNum=function(a){if(isNaN(a)||
"undefined"===typeof a)a=this.DefaultNum;a=ngVal(a,0);this.OnSetNum?this.OnSetNum(this,a):("undefined"!==typeof this.MinNum&&a<this.MinNum&&(a=this.MinNum),"undefined"!==typeof this.MaxNum&&a>this.MaxNum&&(a=this.MaxNum),this.SetText(""+a))};g.ButtonUp=null;g.ButtonDown=null;if("none"!=e){g.ButtonUp=new ngButton;"left"==d&&(g.ButtonUp.ButtonAlign="left");g.ButtonUp.Default=!1;g.ButtonUp.OnClick=function(a){var b=a.Owner?a.Owner.Parent:null;!b||b.ReadOnly||b.OnUp&&!ngVal(b.OnUp(a,b.GetNum()),!1)||
(b.DoUp(),a.Owner.Touching||b.SetFocus())};g.ButtonDown=new ngButton;if("left"==d||"both"==d)g.ButtonDown.ButtonAlign="left";g.ButtonDown.Default=!1;g.ButtonDown.OnClick=function(a){var b=a.Owner?a.Owner.Parent:null;!b||b.ReadOnly||b.OnDown&&!ngVal(b.OnDown(a,b.GetNum()),!1)||(b.DoDown(),a.Owner.Touching||b.SetFocus())};g.Buttons="left"==d?[g.ButtonDown,g.ButtonUp]:[g.ButtonUp,g.ButtonDown]}return g}
function ngem_SetHintCaret(a){var b=0;if("right"===a.TextAlign){var c=a.GetHint(),b=c.indexOf("\n");0>b&&(b=c.indexOf("\r"));0>b&&(b=c.length)}a.SetCaretPos(b)}
function ngem_TextChanged(a,b,c){"undefined"===typeof c&&(c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngMemo"));if(c){var d=b.value;c.HintVisible||c.Text==d||(c.Text=d,c.OnTextChanged&&c.OnTextChanged(c),b.className=c.GetClassName("Input"));a=c.HintVisible;if(""==d&&(!c.HasFocus||nge_HintStyle(c)===ngHintHideOnInput)||a)d=c.GetHint(),""!=d?(c.HintVisible=!0,b.className=c.GetClassName("Input",d),b.value=d,!c.LockHintCaretPos&&a||ngem_SetHintCaret(c)):c.HintVisible=!1}}
function ngem_KeyPress(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngMemo");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===c)if(a.Owner=c,c.OnKeyPress&&!ngVal(c.OnKeyPress(a,b),!1))return!1}}
function ngem_KeyDown(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngMemo");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(d&&d!==c)return;a.Owner=c;if(c.OnKeyDown&&!ngVal(c.OnKeyDown(a,b),!1))return!1;if(c.LockHintCaretPos&&c.HintVisible)switch(a.keyCode){case 35:case 36:case 37:case 39:case 38:case 40:case 8:case 46:case 33:case 34:a.preventDefault&&a.preventDefault(),a.returnValue=!1}if(13==a.keyCode)for(c=
c.ParentControl;c;)"ngWindow"==c.CtrlType&&(c.IgnoreDefFormBtn=!0),c=c.ParentControl}return!1}function ngem_KeyUp(a,b){a||(a=window.event);var c=ngGetControlById(b.id.substring(0,b.id.length-2),"ngMemo");if(c&&c.Enabled&&!c.ReadOnly){var d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===c){a.Owner=c;nge_KeyUpHint(c,b,"Input");if(c.OnKeyUp&&!ngVal(c.OnKeyUp(a,b),!1))return!1;ngem_TextChanged(a,b,c);27==a.keyCode&&c&&nge_DefFormButton(c,0)}}}
function ngem_SetText(a){this.OnSetText&&(a=this.OnSetText(a,this));if(a!=this.Text){this.Text=a;var b=document.getElementById(this.ID+"_T");if(b)if(this.HintVisible=!1,""==a){var c=this.GetHint();""==c||this.HasFocus&&nge_HintStyle(this)!==ngHintHideOnInput?b.value=a:(this.HintVisible=!0,b.value=c)}else b.value=a;this.OnTextChanged&&this.OnTextChanged(this);b&&(b.className=this.GetClassName("Input",c))}}
function ngem_DoFocus(a,b){this.HasFocus=!0;this.DoUpdateImages();nge_BeginMobileKeyboard();this.LockHintCaretPos&&this.HintVisible&&ngem_SetHintCaret(this);this.OnFocus&&this.Enabled&&this.OnFocus(this);""==this.Text&&nge_HintStyle(this)===ngHintHideOnFocus&&(this.HintVisible=!1,b.value="",b.className=this.GetClassName("Input"))}
function ngem_DoBlur(a,b){this.HasFocus=!1;nge_EndMobileKeyboard();this.OnBlur&&this.Enabled&&this.OnBlur(this);if(""==this.Text&&!this.HintVisible){var c=document.getElementById(this.ID+"_T");if(c){var d=this.GetHint();""!=d&&(this.HintVisible=!0,c.className=this.GetClassName("Input",d),c.value=d)}}this.DoUpdateImages()}function ngem_DoUpdateImages(){ngc_ChangeBox(this.ID,this.HasFocus?1:0,this.Enabled,this.Frame)}
function ngem_DoUpdate(a){var b=new ngStringBuilder,c=this.BaseClassName,d=0,e=0,g=ng_ClientWidth(a),k=ng_ClientHeight(a),n={};ngc_ImgBox(b,this.ID,"ngMemo",this.HasFocus?1:0,this.Enabled,0,0,g,k,!1,this.Frame,"",{Content:'class="'+c+'Back"'},"",n);var c=this.GetAlt(),r=this.ControlHasFocus&&nge_HintStyle(this)!==ngHintHideOnInput?"":this.GetHint(),d=d+n.Left.W,g=g-(n.Left.W+n.Right.W),e=e+n.Top.H,k=k-(n.Top.H+n.Bottom.H);0>g&&(g=0);0>k&&(k=0);var n=!this.Enabled||this.ReadOnly,u=this.ControlHasFocus?
document.getElementById(this.ID+"_T"):null;if(u){for(var x,w=a.lastChild;w;)x=w.previousSibling,w!=u&&a.removeChild(w),w=x;x=document.createElement("div");ng_SetInnerHTML(x,b.toString());for(w=x.firstChild;w;)x=w.nextSibling,a.insertBefore(w,u),w=x;u.className=this.GetClassName("Input",r);""!=c?u.setAttribute("title",c):u.removeAttribute("title");n?(u.setAttribute("readonly","readonly"),ngIExplorer&&this.SetFocus(!1)):u.removeAttribute("readonly");u.style.textAlign=this.TextAlign;u.style.left=d+"px";
u.style.top=e+"px";u.style.width=g+"px";u.style.height=k+"px";this.HintVisible&&u.value!=r&&(u.value=r,this.LockHintCaretPos&&ngem_SetHintCaret(this))}else this.HintVisible=""==this.Text&&""!=r,b.append("<textarea "),""!=c&&b.append('title="'+ng_htmlEncode(c)+'" '),n&&b.append('readonly="readonly" '),b.append('id="'+this.ID+'_T" class="'+this.GetClassName("Input",r)),b.append('" style="border:0px; margin:0px 0px 0px 0px; padding: 0px 0px 0px 0px; overflow: auto; text-align:'+this.TextAlign+";position: absolute; z-index:1;left:"+
d+"px;top:"+e+"px;width:"+g+"px;height:"+k+'px;" '),b.append('onkeydown="ngem_KeyDown(event,this)" onkeyup="ngem_KeyUp(event,this)" onkeypress="ngem_KeyPress(event,this)" onchange="ngem_TextChanged(event,this)"'),b.append(" onfocus=\"ngc_Focus(event,this,'ngMemo')\" onblur=\"ngc_Blur(event,this,'ngMemo')\""),b.append(">"),b.append(ng_htmlEncode(""==this.Text?r:this.Text).replace(/\n/g,"&#13;&#10;")),b.append("</textarea>"),ng_SetInnerHTML(a,b.toString());return!0}
function ngem_DoMouseEnter(a,b,c){if(a=document.getElementById(this.ID+"_T"))b=a.className,0>b.indexOf("_Focus")&&(b+="_Focus"),a.className=b;ngc_EnterBox(this.ID);this.OnMouseEnter&&this.OnMouseEnter(this)}function ngem_DoMouseLeave(a,b){this.OnMouseLeave&&this.OnMouseLeave(this);var c=document.getElementById(this.ID+"_T");if(c){var d=c.className,e=d.indexOf("_Focus");0<=e&&(d=d.substring(0,e));c.className=d}ngc_LeaveBox(this.ID)}function ngem_DoAcceptGestures(a,b){b.drag=!0;b.tap=!0}
function ngem_DoPtrStart(a){"control"===a.EventID&&(a.PreventDefault=!1)}function ngem_DoPtrClick(a){"control"===a.EventID&&this.LockHintCaretPos&&this.HintVisible&&nge_HintStyle(this)===ngHintHideOnInput&&ngem_SetHintCaret(this)}
function ngMemo(a,b){ngControl(this,a,"ngMemo");this.DoAcceptGestures=ngem_DoAcceptGestures;this.DoGesture=nge_DoGesture;this.DoPtrStart=ngem_DoPtrStart;this.DoPtrClick=ngem_DoPtrClick;this.Text=ngVal(b,"");this.DefaultText="";this.TextAlign="left";this.Hint=this.Alt="";this.ReadOnly=!1;this.Frame={};this.HasFocus=!1;this.LockHintCaretPos=this.SelectOnFocus=!0;this.Invalid=!1;this.SetText=ngem_SetText;this.GetText=ngc_GetText;this.GetAlt=ngc_GetAlt;this.GetHint=ngc_GetHint;this.SetReadOnly=nge_SetReadOnly;
this.GetCaretPos=nge_GetCaretPos;this.SetCaretPos=nge_SetCaretPos;this.GetClassName=nge_GetClassName;this.DoMouseEnter=ngem_DoMouseEnter;this.DoMouseLeave=ngem_DoMouseLeave;this.DoSetEnabled=nge_DoSetEnabled;this.DoFocus=ngem_DoFocus;this.DoBlur=ngem_DoBlur;this.DoUpdateImages=ngem_DoUpdateImages;this.DoUpdate=ngem_DoUpdate;this.SetFocus=nge_SetFocus;this.SetInvalid=ngc_SetInvalid;this.OnReadOnlyChanged=this.OnSetReadOnly=this.OnSetInvalid=this.OnBlur=this.OnFocus=this.OnMouseLeave=this.OnMouseEnter=
this.OnKeyPress=this.OnKeyUp=this.OnKeyDown=this.OnGetClassName=this.OnGetHint=this.OnGetAlt=this.OnTextChanged=this.OnGetText=this.OnSetText=null;ngControlCreated(this)}var ngpg_CurrentPageId="";function ngpg_DoPtrClick(a){var b=a.EventID;"page"===b.substr(0,4)&&(b=b.substring(4,b.length),a=a.Event,a.Owner=this,a.pages=this,a.page=b,this.OnClick&&!ngVal(this.OnClick(a),!1)||""==b||this.SetPage(parseInt(b)))}
function ngpg_DoPtrDblClick(a){var b=a.EventID;"page"===b.substr(0,4)&&(b=b.substring(4,b.length),a=a.Event,a.Owner=this,a.pages=this,a.page=b,this.OnDblClick&&ngVal(this.OnDblClick(a),!1))}function ngpg_DoPtrStart(a){a.Touch&&"page"===a.EventID.substr(0,4)&&ngpg_EnterPg(a.Event,a.SrcElement)}
function ngpg_DoPtrDrag(a){a.Touch&&"page"===a.EventID.substr(0,4)&&(a.IsInSrcElement()?ngpg_CurrentPageId!=a.SrcElement.id&&ngpg_EnterPg(a.Event,a.SrcElement):ngpg_CurrentPageId==a.SrcElement.id&&ngpg_LeavePg(a.Event,a.SrcElement));return!1}function ngpg_DoPtrEnd(a){a.Touch&&"page"===a.EventID.substr(0,4)&&a.IsInSrcElement()&&ngpg_CurrentPageId==a.SrcElement.id&&ngpg_LeavePg(a.Event,a.SrcElement)}
function ngpg_EnterPg(a,b){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){var c=b.className;if(""!=ngpg_CurrentPageId){var d=document.getElementById(ngpg_CurrentPageId);ngpg_LeavePg(a,d)}ngpg_CurrentPageId=b.id;0>c.indexOf("_Focus")&&(c+="_Focus");b.className=c;ngc_EnterImg(b.id+"_IL");ngc_EnterImgS(b.id+"_IM");ngc_EnterImg(b.id+"_IR")}}
function ngpg_LeavePg(a,b){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){var c=b.className;ngpg_CurrentPageId==b.id&&(ngpg_CurrentPageId="");var d=c.indexOf("_Focus");0<=d&&(c=c.substring(0,d));b.className=c;ngc_LeaveImg(b.id+"_IL");ngc_LeaveImgS(b.id+"_IM");ngc_LeaveImg(b.id+"_IR")}}
function ngpg_ChangePageState(a,b){var c=this.ID+"_"+a,d=document.getElementById(c);if(d&&this.Elm()){var e=this.BaseClassName,g="",k=this.PageImages.length?this.PageImages[a%this.PageImages.length]:{},n=this.Enabled&&this.Pages[a]&&ngVal(this.Pages[a].Enabled,!0),g=n?b?"PageSelected":"Page":"PageDisabled";0<=d.className.indexOf("_Focus")&&(g+="_Focus");d.className=e+g;k.LeftImg&&ngc_ChangeImage(ngpg_ImgDrawProps(c+"_IL",b,n,k.LeftImg));k.MiddleImg&&ngc_ChangeImageS(ngpg_ImgDrawProps(c+"_IM",b,n,
k.MiddleImg));k.RightImg&&ngc_ChangeImage(ngpg_ImgDrawProps(c+"_IR",b,n,k.RightImg))}}function ngpg_GetPageByText(a){if(""==ngVal(a,""))return-1;var b;for(i=0;i<this.Pages.length;i++)if(b=this.Pages[i],b=this.OnGetText?ngVal(this.OnGetText(this,i),""):ngVal(b?b.Text:"",""),b==a)return i;return-1}function ngpg_GetPageById(a){if(""==ngVal(a,""))return-1;var b;for(i=0;i<this.Pages.length;i++)if((b=this.Pages[i])&&b.id==a)return i;return-1}
function ngpg_GetIdByPage(a){return 0>ngVal(a,-1)||"undefined"==typeof this.Pages[a]||"undefined"==typeof this.Pages[a].id?"":this.Pages[a].id}function ngpg_GetPageObjById(a){a=this.GetPageById(a);return 0>a?null:this.Pages[a]}function ngpg_GetPageByControl(a){if(a)for(var b=a.ParentControl;b;){for(a=0;a<this.Pages.length;a++)if(b==this.Pages[a].ControlsPanel)return a;b=b.ParentControl}return-1}function ngpg_GetPageObjByControl(a){a=this.GetPageByControl(a);return 0>a?null:this.Pages[a]}
function ngpg_SetPageByControl(a){a=this.GetPageByControl(a);if(0>a)return!1;this.SetPage(a);return this.Page==a}
function ngpg_SetPage(a){if("string"===typeof a){var b=a;a=this.GetPageById(b);0>a&&(a=this.GetPageByText(b));0>a&&(a=b)}a=parseInt(a);if(!(0>a||a>=this.Pages.length||isNaN(a)||a==this.Page||this.OnPageChanging&&!ngVal(this.OnPageChanging(this,a),!1))){b=this.Page;this.Page=a;var c=this.Pages[b];"undefined"!==typeof c&&c.ControlsPanel&&c.ControlsPanel.SetVisible(!1);this.PagesVisible&&(this.row1pages[a]?(this.ChangePageState(a,1),this.ChangePageState(b,0)):this.Update());c=this.Pages[a];"undefined"!==
typeof c&&c.ControlsPanel&&c.ControlsPanel.SetVisible(!0);this.OnPageChanged&&this.OnPageChanged(this,b)}}function ngpg_ImgDrawProps(a,b,c,d){b=ngc_ImgProps(a,b,c,d);ngpg_CurrentPageId==a.substring(0,a.length-3)?(b.aL=b.oL,b.aT=b.oT):(b.aL=b.L,b.aT=b.T);return b}function ngpg_DoRelease(a){a.style.display="none";this.row1pages=[]}
function ngpg_DoUpdate(a){var b=document.getElementById(this.ID+"_F");if(!b)return!0;var c=this.BaseClassName,d=new ngStringBuilder,e=ng_ClientWidth(a),g=ng_ClientHeight(a);this.row1pages=[];if(this.PagesVisible){var k,n,r,u,x,w,y,A,z,B,D=0,C,E,F,H,J="bottom"==this.PagesVAlign,N="right"==this.PagesAlign,P=e-this.PagesIndent;0<this.PagesSize&&P>this.PagesSize&&(P=this.PagesSize);0>this.PagesSize&&(P+=this.PagesSize);u=N?J?this.Frame.LeftBottom:this.Frame.LeftTop:J?this.Frame.RightBottom:this.Frame.RightTop;
"undefined"!==typeof u&&(P-=u.W);var G,M,R,I={Tabs:[]},O=[];O[0]=I;var S=0;for(k=a=w=y=0;a<this.Pages.length;a++)if(M=this.Pages[a],!M||ngVal(M.Visible,!0)){F=a==this.Page?1:0;H=this.OnGetText?ngVal(this.OnGetText(this,a),""):ngVal(M?M.Text:"","");this.HTMLEncode&&(H=ng_htmlEncode(H));u=this.OnGetAlt?ngVal(this.OnGetAlt(this,a),""):ngVal(M?M.Alt:"","");z=(R=this.Enabled&&ngVal(M.Enabled,!0))?F?"PageSelected":"Page":"PageDisabled";z=c+z;r=this.ID+"_"+a;x=this.PageImages.length?this.PageImages[k]:{};
G={};G.Enabled=R;G.Page=a;G.Text=H;G.Alt=u;G.id=r;G.txtclass=z;E=A=B=C=0;(u=x.LeftImg)?(n=ngpg_ImgDrawProps(r+"_IL",F,R,u),n.Attrs=u.Attrs,E+=n.W,G.LeftImg=n):G.LeftImg=null;(u=x.MiddleImg)?(n=ngpg_ImgDrawProps(r+"_IM",F,R,u),n.Attrs=u.Attrs,G.MiddleImg=n):G.MiddleImg=null;(u=x.RightImg)?(n=ngpg_ImgDrawProps(r+"_IR",F,R,u),n.Attrs=u.Attrs,E+=n.W,G.RightImg=n):G.RightImg=null;(u=x.Separator)?(n=ngpg_ImgDrawProps(r+"_IS",F,this.Enabled,u),n.Attrs=u.Attrs,G.Separator=n):G.Separator=null;""!=H&&(ng_SetInnerHTML(b,
'<div id="'+this.ID+'_T" class="'+z+'" style="position:absolute; visibility: hidden; white-space: nowrap;"><div class="'+c+'PageText">'+H+"</div></div>"),r=document.getElementById(this.ID+"_T"))&&("undefined"!==typeof M.W?B=M.W-E:(B=ng_ClientWidth(r),"undefined"!==typeof M.MinWidth&&B+E<M.MinWidth&&(B=M.MinWidth-E)),C=ng_ClientHeight(r));if(n=G.LeftImg)A+=n.W,n.H>C&&(C=n.H);(n=G.MiddleImg)&&n.H>C&&(C=n.H);A+=B;if(n=G.RightImg)n.H>C&&(C=n.H),A+=n.W;(n=G.Separator)&&n.H>C&&(C=n.H);G.w=A;G.tw=B;G.th=
C;if(w+A>P&&0<I.Tabs.length){n=I.Tabs[I.Tabs.length-1];n.Separator&&(w-=n.Separator.W,n.w-=n.Separator.W);n.Separator=null;I.h=D;I.w=w;I={Tabs:[]};O[O.length]=I;if(0<this.MaxRows&&O.length>this.MaxRows)break;y+=D;D=w=0}u&&(A+=u.W,G.w=A);C>D&&(D=C);I.Tabs[I.Tabs.length]=G;F&&(S=O.length-1);w+=A;k++;k>=this.PageImages.length&&(k=0)}0<I.Tabs.length?(n=I.Tabs[I.Tabs.length-1],n.Separator&&(w-=n.Separator.W,n.w-=n.Separator.W),n.Separator=null,I.h=D,I.w=w):--O.length;y-=this.RowOverlap*(O.length-1);k=
y+D;for(a=0;a<this.Pages.length;a++)(M=this.Pages[a])&&M.ControlsPanel&&(J?M.ControlsPanel.Bounds.B!=k&&(M.ControlsPanel.Bounds.B=k,M.ControlsPanel.SetBounds()):M.ControlsPanel.Bounds.T!=k&&(M.ControlsPanel.Bounds.T=k,M.ControlsPanel.SetBounds()));J?(ngc_ImgBox(d,this.ID,"ngPages",0,this.Enabled,0,0,e,g-y,!1,this.Frame),y=g):(ngc_ImgBox(d,this.ID,"ngPages",0,this.Enabled,0,y,e,g-y,!1,this.Frame),y=0);n=Array(O.length);k=S;for(a=0;a<O.length;a++)n[O.length-a-1]=O[k++],k>=O.length&&(k=0);O=n;for(a=
0;a<O.length;a++){I=O[a];if(!J||0<a)I.h-=this.RowOverlap;if(1<O.length&&0<I.Tabs.length){B=Math.floor((P-I.w)/I.Tabs.length);for(k=A=0;k<I.Tabs.length;k++)G=I.Tabs[k],G.tw+=B,G.w+=B,G.LeftImg&&(A+=G.LeftImg.W),A+=G.tw,G.RightImg&&(A+=G.RightImg.W),G.Separator&&(A+=G.Separator.W);A=P-A;if(0<A)for(w=Math.floor(I.Tabs.length/A),0>=w&&(w=1),k=0;k<I.Tabs.length&&0<A;k++)G=I.Tabs[k],k%w||(G.tw++,G.w++,A--)}J&&(y-=I.h);w=this.PagesIndent;for(k=0;k<I.Tabs.length;k++){G=I.Tabs[k];a==O.length-1&&(this.row1pages[G.Page]=
!0);A=0;d.append('<div style="position:absolute; left:'+(N?e-w-G.w:w)+"px; top:"+y+'px;">');N&&(u=G.Separator)&&(ngc_Img(d,u,"position:absolute; left: "+A+"px;",ngVal(u.Attrs,"")),A+=u.W);d.append('<div id="'+G.id+'" class="'+G.txtclass+'" ');""!=G.Alt&&d.append('title="'+G.Alt+'" ');G.Enabled?("undefined"!==typeof this.Cursor?""!=this.Cursor&&d.append('style="cursor:'+this.Cursor+';" '):d.append('style="cursor:pointer;" '),d.append(ngc_PtrEventsHTML(this,"page"+G.Page,"tap drag"+(this.OnDblClick?
" doubletap":""))+" ")):d.append('style="cursor:default;" ');d.append('onmouseover="ngpg_EnterPg(event,this);" onmouseout="ngpg_LeavePg(event,this);">');if(u=G.LeftImg)ngc_Img(d,u,"position:absolute; left: "+A+"px;",ngVal(u.Attrs,"")),A+=u.W;g=A;if(u=G.MiddleImg)ngc_ImgSW(d,u,A,G.tw,"",ngVal(u.Attrs,"")),A+=G.tw;if(u=G.RightImg)ngc_Img(d,u,"position:absolute; left: "+A+"px;",ngVal(u.Attrs,"")),A+=u.W;d.append('<div id="'+G.id+'_T" style="position:absolute; left:'+g+"px; overflow: hidden; top:0px; width:"+
G.tw+"px; text-align: "+this.TextAlign+"; white-space: nowrap;"+(0<G.th?"line-height:"+G.th+"px;":"")+'"><div class="'+c+'PageText">'+G.Text+"</div></div>");d.append("</div>");!N&&(u=G.Separator)&&(ngc_Img(d,u,"position:absolute; left: "+A+"px;",ngVal(u.Attrs,"")),A+=u.W);d.append("</div>");w+=A}J||(y+=I.h)}}else ngc_ImgBox(d,this.ID,"ngPages",0,this.Enabled,0,0,e,g,!1,this.Frame);ng_SetInnerHTML(b,d.toString());return!0}
function ngpg_DoCreate(a,b,c,d){if("undefined"!==typeof a.Pages&&"object"===typeof this.Pages){var e,g=this.BaseClassName+"ControlsPanels",k;for(k in a.Pages){e=a.Pages[k];d={};var n=e.Controls;delete e.Controls;ng_MergeDef(d,e);e.Controls=n;this.Pages[k]=d;n={ControlsPanel:{}};ng_MergeDef(n.ControlsPanel,e.ControlsPanel);ng_MergeDef(n.ControlsPanel,a.ControlsPanel);ng_MergeDef(n.ControlsPanel,{Type:"ngPanel",className:g,id:this.ID+"_P"+k,ScrollBars:ssAuto,L:0,T:0,R:0,B:0,Data:{Visible:!1}});n.ControlsPanel.Controls=
e.Controls;n.ControlsPanel.ModifyControls=e.ModifyControls;k==this.Page&&(n.ControlsPanel.Data.Visible=!0);e=ngCreateControls(n,void 0,c);ngVal(a.ParentReferences,!0)||(function(a,b,c){a.Controls={};a.Controls.Owner=c;a.Controls.AddControls=function(c,d){ngCreateControls(c,a,ngVal(d,b))}}(d,n.ControlsPanel.id,this),b=d.Controls);d.ControlsPanel=e.ControlsPanel;d.ControlsPanel.Owner=this;delete e.ControlsPanel;ngCloneRefs(b,e)}}a=document.createElement("div");a.id=this.ID+"_F";a.style.position="absolute";
a.style.zIndex="800";c.appendChild(a)}
function ngPages(a){ngControl(this,a,"ngPages");this.DoCreate=ngpg_DoCreate;this.Page=0;this.PagesVisible=!0;this.MaxRows=this.PagesSize=this.PagesIndent=0;this.PagesAlign="left";this.PagesVAlign="top";this.TextAlign="center";this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.Pages=[];this.RowOverlap=0;this.PageImages=[];this.Frame={};this.SetPage=ngpg_SetPage;this.GetPageById=ngpg_GetPageById;this.GetIdByPage=ngpg_GetIdByPage;this.GetPageObjById=ngpg_GetPageObjById;this.GetPageByText=ngpg_GetPageByText;
this.GetPageByControl=ngpg_GetPageByControl;this.GetPageObjByControl=ngpg_GetPageObjByControl;this.SetPageByControl=ngpg_SetPageByControl;this.row1pages=[];this.ChangePageState=ngpg_ChangePageState;this.DoRelease=ngpg_DoRelease;this.DoPtrStart=ngpg_DoPtrStart;this.DoPtrDrag=ngpg_DoPtrDrag;this.DoPtrEnd=ngpg_DoPtrEnd;this.DoUpdate=ngpg_DoUpdate;this.DoPtrClick=ngpg_DoPtrClick;this.DoPtrDblClick=ngpg_DoPtrDblClick;this.OnDblClick=this.OnClick=this.OnGetAlt=this.OnGetText=this.OnPageChanged=this.OnPageChanging=
null;ngControlCreated(this)}function ngtb_DoCreate(a,b,c,d){"undefined"===typeof a.Data&&(a.Data={});ngVal(a.Data.Vertical,this.Vertical)?"undefined"!==typeof a.W||"undefined"!==typeof a.L&&"undefined"!==typeof a.R||"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!0):"undefined"!==typeof a.H||"undefined"!==typeof a.T&&"undefined"!==typeof a.B||"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!0)}function ngtb_DoRelease(a){a.style.display="none"}
function ngtbc_OnSetVisible(a,b){if(!ngVal(a.ToolBarAutoUpdate,!0)||ngVal(a.ToolBarIgnore,!1)||!a.ParentControl)return!0;if(""!=a.ID){var c=a.Elm();c&&(a.DoSetVisible?a.DoSetVisible(c,b):(c.style.display=b?"block":"none",c.style.visibility=b?"visible":"hidden"),ng_IE7RedrawFix(document.body))}a.Visible!=b&&((a.Visible=b)&&a.Update(!0),a.ParentControl.Update(!1),a.OnVisibleChanged&&a.OnVisibleChanged(a));return!1}
function ngtbc_SetBounds(a){var b=this.tb_SetBounds.apply(this,arguments);b&&(this.tb_boundschanged=!0);return b}
function ngtbc_Measure(a,b){var c,d,e=a.ParentControl;"undefined"!==typeof a.ToolBarWidth||"undefined"!==typeof a.ToolBarHeight?(c="undefined"!==typeof a.ToolBarWidth?a.ToolBarWidth:ng_OuterWidth(b),d="undefined"!==typeof a.ToolBarHeight?a.ToolBarHeight:ng_OuterHeight(b)):(ng_BeginMeasureElement(b),c=ng_OuterWidth(b),d=ng_OuterHeight(b),ng_EndMeasureElement(b));e.Vertical?d+=ngVal(a.ToolBarIndent,0):c+=ngVal(a.ToolBarIndent,0);d+=ngVal(a.ToolBarVPadding,e.VPadding);c+=ngVal(a.ToolBarHPadding,e.HPadding);
return{cw:c,ch:d}}
function ngtbc_DoUpdate(a){var b=this.ParentControl;if(ngVal(this.ToolBarAutoUpdate,!0)&&b&&!b.tb_update&&!ngVal(this.ToolBarIgnore,!1)){var b=!0,c=!1;if(this.tb_indent!=this.ToolBarIndent)c=!0;else{var d=ngtbc_Measure(this,a);if(this.tb_height!=d.ch||this.tb_width!=d.cw)c=!0}if(!c&&"function"===typeof this.ngc_DoUpdate){this.tb_boundschanged=!1;var d=this.ToolBarWidth,e=this.ToolBarHeight;if((b=this.ngc_DoUpdate(a))&&this.tb_boundschanged)if(this.ToolBarWidth!==d||this.ToolBarHeight!==e)c=!0;else if(d=
ngtbc_Measure(this,a),this.tb_height!=d.ch||this.tb_width!=d.cw)c=!0}return b&&c?(this.ParentControl.Update(),!0):b}return"function"===typeof this.ngc_DoUpdate?this.ngc_DoUpdate(a):!0}function ngtb_RegisterControl(a){"object"===typeof a&&a&&!a.tb_fncregistered&&(a.DoUpdate!=ngtbc_DoUpdate&&(a.ngc_DoUpdate=a.DoUpdate,a.DoUpdate=ngtbc_DoUpdate,a.AddEvent(ngtbc_OnSetVisible,"OnSetVisible"),a.tb_SetBounds=a.SetBounds,a.SetBounds=ngtbc_SetBounds),a.tb_fncregistered=!0)}
function ngtb_UnregisterControl(a){"object"===typeof a&&a&&(a.DoUpdate==ngtbc_DoUpdate&&("function"===typeof a.ngc_DoUpdate&&(a.DoUpdate=a.ngc_DoUpdate,delete a.ngc_DoUpdate),a.RemoveEvent("OnSetVisible",ngtbc_OnSetVisible),"function"===typeof a.tb_SetBounds&&(a.SetBounds=a.tb_SetBounds,delete a.tb_SetBounds)),"undefined"!==typeof a.tb_fncregistered&&(a.tb_fncregistered=!1))}
function ngtb_Update(a){if(this.Visible){for(var b=this.ParentControl;b;){if(!b.Visible)return;b=b.ParentControl}if(!this.tb_update){this.tb_update=!0;a=ngVal(a,!0);b=this.OnUpdated;this.OnUpdated=null;try{this.ngc_Update(a);this.tb_update=!1;var c=this.Elm();if(c){var d=this.ChildControls;if("undefined"!==typeof d){c.style.display=this.Visible?"block":"none";this.AutoSize&&ngIExplorer&&(this.Vertical?0==ng_GetStylePx(c.style.width)&&(c.style.width="1px"):0==ng_GetStylePx(c.style.height)&&(c.style.height=
"1px"));var e=ng_ClientWidth(c),g=ng_ClientHeight(c),k,n,r,u,x=0,w=0,y=0,A=0,z=0,B=0,D,C,E,F,H,J=-1,N,P;this.tb_update=!0;for(var G=0;G<d.length;G++)if(n=d[G],!ngVal(n.ToolBarIgnore,!1)&&(n.tb_fncregistered||ngtb_RegisterControl(n),n.Visible&&(a||n.Update(!1),k=n.Elm()))){P=H=ngVal(n.ToolBarHPadding,this.HPadding);N=F=ngVal(n.ToolBarVPadding,this.VPadding);this.Vertical&&!w&&(H=0);this.Vertical||x||(F=0);"undefined"!==typeof n.ToolBarWidth||"undefined"!==typeof n.ToolBarHeight?(r="undefined"!==typeof n.ToolBarWidth?
n.ToolBarWidth:ng_OuterWidth(k),u="undefined"!==typeof n.ToolBarHeight?n.ToolBarHeight:ng_OuterHeight(k)):(ng_BeginMeasureElement(k),r=ng_OuterWidth(k),u=ng_OuterHeight(k),ng_EndMeasureElement(k));D=!1;if(this.Vertical){C=ngVal(n.ToolBarIndent,0);E=0;r+=C;if(this.Wrapable&&w+u>g||ngVal(n.ToolBarBreak,!1))x+=y+H,y=w=0,D=!0;r>y&&(y=r)}else{E=ngVal(n.ToolBarIndent,0);C=0;u+=E;if(this.Wrapable&&x+r>e||ngVal(n.ToolBarBreak,!1))w+=A+F,A=x=0,D=!0;u>A&&(A=u)}if(D&&ngVal(n.ToolBarNoWrap,!1)){for(var M=G--;0<=
G&&(n=d[G],ngVal(n.ToolBarIgnore,!1)||!n.Visible||ngVal(n.ToolBarNoWrap,!1));G--);if(0<G&&G!=J){J=G;continue}G=M;n=d[G]}"right"==this.HAlign?n.Bounds.R=x+C:n.Bounds.L=x+C;"bottom"==this.VAlign?n.Bounds.B=w+E:n.Bounds.T=w+E;n.SetBounds();x+r>z&&(z=x+r);w+u>B&&(B=w+u);n.tb_indent=n.ToolBarIndent;n.tb_width=r+P;n.tb_height=u+N;this.Vertical?w+=u+F:x+=r+H}if(this.AutoSize){d=!1;if(this.Vertical){ng_SetClientWidth(c,z);var R=ng_StyleWidth(c);this.Bounds.W!=R&&(d=!0,this.Bounds.W=R,this.SetBounds())}else{ng_SetClientHeight(c,
B);var I=ng_StyleHeight(c);this.Bounds.H!=I&&(d=!0,this.Bounds.H=I,this.SetBounds())}ngIExplorer6&&d&&("right"==this.HAlign||"bottom"==this.VAlign)&&this.ngc_Update(a)}this.tb_update=!1;(this.OnUpdated=b)&&this.OnUpdated(this,c)}}}finally{this.OnUpdated=b}}}}
function ngToolBar(a){ngControl(this,a,"ngToolBar");this.Vertical=this.AutoSize=!1;this.HPadding=this.VPadding=0;this.VAlign="top";this.HAlign="left";this.Wrapable=!0;this.CtrlBringToFront=ngc_CtrlBringToFront;this.CtrlSendToBack=ngc_CtrlSendToBack;this.CtrlInsertAfter=ngc_CtrlInsertAfter;this.CtrlInsertBefore=ngc_CtrlInsertBefore;this.DoCreate=ngtb_DoCreate;this.DoRelease=ngtb_DoRelease;this.ngc_Update=this.Update;this.Update=ngtb_Update;ngControlCreated(this)}
function npb_DoUpdate(a){var b=this.process_cnt?25:this.Position;0>b&&(b=0);100<b&&(b=100);var c=new ngStringBuilder,d,e;ngIExplorer&&0==ng_GetStylePx(a.style.height)&&(a.style.height="1px");var g=ng_ClientWidth(a),k=0,n=0,r=0;if(d=this.LeftImg)e=ngc_ImgProps(this.ID+"_IL",0,this.Enabled,d),ngc_Img(c,e,"position:absolute; left: 0px;",ngVal(d.Attrs,"")),n=e.W,e.H>k&&(k=e.H);if(d=this.RightImg)e=ngc_ImgProps(this.ID+"_IR",0,this.Enabled,d),ngc_Img(c,e,"position:absolute; left: "+(g-e.W)+"px;",ngVal(d.Attrs,
"")),r=e.W,e.H>k&&(k=e.H);g=g-n-r;if(d=this.MiddleImg)e=ngc_ImgProps(this.ID+"_IM",0,this.Enabled,d),ngc_ImgSW(c,e,n,g,"",ngVal(d.Attrs,"")),e.H>k&&(k=e.H);if(d=this.BarImg)if(e=ngc_ImgProps(this.ID+"_B",0,this.Enabled,d),0<e.H){r=e.W;"undefined"===typeof r&&(r=Math.floor((g+9)/10));if(100==b)b=g;else{b=g*b/100;if(!this.Smooth||this.process_cnt)b=Math.round(b/r),b*=r;b=Math.round(b);b>g&&(b=g)}ngc_ImgSW(c,e,n,b,"",ngVal(d.Attrs,""));e.H>k&&(k=e.H)}ng_SetClientHeight(a,k);b=ng_StyleHeight(a);this.Bounds.H!=
b&&(this.Bounds.H=b,this.SetBounds());ng_SetInnerHTML(a,c.toString());return!0}function npb_SetPosition(a){a!=this.Position&&(this.Position=a,this.process_cnt||this.Update())}
function npb_UpdateProcess(a){if(a=ngGetControlById(a,"ngProgressBar")){a.process_timer&&clearTimeout(a.process_timer);a.process_timer=null;var b=a.Elm();if(b){var c,d=0,e=ng_ClientWidth(b);if(c=a.LeftImg)c=ngc_ImgProps(a.ID+"_IL",0,a.Enabled,c),d=c.W,e-=c.W;if(c=a.RightImg)c=ngc_ImgProps(a.ID+"_IR",0,a.Enabled,c),e-=c.W;if(c=a.BarImg){c=ngc_ImgProps(a.ID+"_B",0,a.Enabled,c);var b=a.process_pos,g=e/10;0>=g&&(g=1);b+=g*a.process_dir;g=c.W;"undefined"===typeof g&&(g=Math.floor((e+9)/10));var k;k=Math.round(e/
4/g);k*=g;b>e-k&&(b=e-k,a.process_dir*=-1);0>b&&(b=0,a.process_dir*=-1);b=1==a.process_dir?Math.ceil(b):Math.floor(b);a.process_pos=b;e=a.ID+"_B_";d+=b;for(g=1;100>g;g++){b=document.getElementById(e+g);if(!b)break;ng_setLeftTop(b,d,0);d+=c.W}a.process_timer=setTimeout("npb_UpdateProcess('"+a.ID+"')",120)}}}}
function npb_BeginProcess(){this.process_cnt++;1==this.process_cnt&&(this.Update(),this.process_pos=0,this.process_dir=1,this.process_timer=setTimeout("npb_UpdateProcess('"+this.ID+"')",120))}function npb_EndProcess(){this.process_cnt--;0>=this.process_cnt&&(this.process_timer&&clearTimeout(this.process_timer),this.process_timer=null,this.process_cnt=0,this.Update())}function npb_DoDispose(){this.process_timer&&clearTimeout(this.process_timer);this.process_timer=null;return!0}
function ngpb_OnVisibleChanged(a){a.Visible?0<this.process_cnt&&(this.process_timer=setTimeout("npb_UpdateProcess('"+this.ID+"')",120)):(this.process_timer&&clearTimeout(this.process_timer),this.process_timer=null)}
function ngProgressBar(a){ngControl(this,a,"ngProgressBar");this.DoDispose=npb_DoDispose;this.OnVisibleChanged=ngpb_OnVisibleChanged;this.Position=0;this.Smooth=!1;this.BarImg=this.RightImg=this.MiddleImg=this.LeftImg=null;this.SetPosition=npb_SetPosition;this.process_cnt=0;this.process_timer=null;this.BeginProcess=npb_BeginProcess;this.EndProcess=npb_EndProcess;this.DoUpdate=npb_DoUpdate;ngControlCreated(this)}
function ngwb_DoCreate(a,b,c,d){ng_SetInnerHTML(c,'<iframe src="'+(ngIExplorer&&8>ngIExplorerVersion?"javascript:":"about:blank")+'" id="'+this.ID+'_F" style="position: absolute;" frameborder="0" allowtransparency="yes"></iframe>')}
function ngwb_DoUpdate(a){var b=this.GetBrowser();if(!b)return!0;var c=ng_ClientWidth(a);a=ng_ClientHeight(a);ng_SetClientWidth(b,c);ng_SetClientHeight(b,a);c=this.GetURL();b.src==this.opened_url||this.InDesignMode&&!this.DesignLive||(b.src=c,this.opened_url=b.src);return!0}function ngwb_SetURL(a){if(!this.OnSetURL||ngVal(this.OnSetURL(this,a),!1)){this.URL=a;var b=this.GetBrowser();!b||this.InDesignMode&&!this.DesignLive||(b.src=a,this.opened_url=b.src)}}
function ngwb_GetURL(){var a=this.URL;this.OnGetURL&&(a=this.OnGetURL(this,a));return a}function ngwb_GetBrowser(){return document.getElementById(this.ID+"_F")}function ngwb_GetDocument(){var a=this.GetBrowser();if(!a)return null;try{return a.contentDocument?a.contentDocument:a.contentWindow.document}catch(b){return null}}
function ngwb_SetHTML(a,b){if(this.OnSetHTML&&(a=this.OnSetHTML(this,a),""==a))return;""!=this.opened_url&&this.SetURL("about:blank");var c=this.GetDocument();if(c)try{c.open();if("object"===typeof a){if(a)for(var d in a)c.write(a[d])}else c.write(a);c.close();return}catch(g){}if(ngVal(b,!0)){var e=this;this.set_html_timeout=setTimeout(function(b){e.set_html_timeout&&clearTimeout(e.set_html_timeout);e.set_html_timeout=null;e.SetHTML(a,!1)},200)}}
function ngWebBrowser(a){ngControl(this,a,"ngWebBrowser");this.DoCreate=ngwb_DoCreate;this.DoUpdate=ngwb_DoUpdate;this.URL="";this.SetURL=ngwb_SetURL;this.GetURL=ngwb_GetURL;this.SetHTML=ngwb_SetHTML;this.GetBrowser=ngwb_GetBrowser;this.GetDocument=ngwb_GetDocument;this.OnSetHTML=this.OnGetURL=this.OnSetURL=null;ngControlCreated(this)}var ngact_RadioGroups={};
function ngact_CheckRadioGroup(){var a=ngVal(this.Checked,0);"undefined"!==typeof this.RadioGroup&&a&&ngact_RadioGroups[this.RadioGroup]!=this&&(a=ngact_RadioGroups[this.RadioGroup],ngact_RadioGroups[this.RadioGroup]=this,a&&"function"===typeof a.Check&&a.Check(0))}
function ngact_Check(a){a=ngVal(a,1);if(ngVal(this.Checked,0)!=a&&(this.Checked=a,this.OnCheckChanged&&this.OnCheckChanged(this),this.Checked==a)){var b=this.ActionControls;if(b){var c;this.in_action_check=!0;try{for(var d=0;d<b.length;d++)c=b[d],c.Control.ActionCheck&&c.Control.ActionCheck(a,c.Data)}finally{this.in_action_check=!1}}}}
function ngact_Click(a){"undefined"===typeof a&&(a={});a.Owner=this;a.action=this;if(this.Enabled&&(!this.OnClick||ngVal(this.OnClick(a),!1))){var b=this.ActionControls;if(b){var c;this.in_action_click=!0;try{for(var d=0;d<b.length;d++)c=b[d],c.Control.ActionClick&&c.Control.ActionClick(a,c.Data)}finally{this.in_action_click=!1}}}}
function ngact_AddControl(a,b){if(a){b=ngVal(b,null);this.ActionControls||(this.ActionControls=[]);var c=this.ActionControls;if(c){for(var d,e=0;e<c.length;e++)if(d=c[e],d.Control==a&&d.Data==b)return;c[c.length]={Control:a,Data:b}}}}function ngact_RemoveControl(a,b){if(a&&this.ActionControls){b=ngVal(b,null);var c=this.ActionControls;if(c){for(var d,e=c.length-1;0<=e;e--)d=c[e],d.Control==a&&d.Data==b&&c.splice(e,1);c.length||(this.ActionControls=null)}}}
function ngact_SetVisible(a){a=ngVal(a,!0);if(this.Visible!=a&&(!this.OnSetVisible||ngVal(this.OnSetVisible(this,a),!1))&&(this.Visible=a,this.OnVisibleChanged&&this.OnVisibleChanged(this),this.Visible==a)){var b=this.ActionControls;if(b){var c;this.in_action_visible=!0;try{for(var d=0;d<b.length;d++)c=b[d],c.Control.ActionSetVisible&&c.Control.ActionSetVisible(a,c.Data)}finally{this.in_action_visible=!1}}}}
function ngact_Update(){if(!this.OnUpdate||ngVal(this.OnUpdate(this),!1)){var a=this.ActionControls;if(a)for(var b,c=0;c<a.length;c++)b=a[c],b.Control.ActionUpdate&&b.Control.ActionUpdate(b.Data);this.OnUpdated&&this.OnUpdated(this,null)}}
function ngSysAction(a,b){ngSysControl(this,a,"ngSysAction");this.Text=ngVal(b,"");this.Alt="";this.Visible=!0;this.ActionControls=null;this.Check=ngact_Check;this.Click=ngact_Click;this.SetText=ngc_SetText;this.Update=ngact_Update;this.GetImg=ngc_GetImg;this.GetText=ngc_GetText;this.GetAlt=ngc_GetAlt;this.SetVisible=ngact_SetVisible;this.AddControl=ngact_AddControl;this.RemoveControl=ngact_RemoveControl;this.CheckRadioGroup=ngact_CheckRadioGroup;this.in_action_visible=this.in_action_click=this.in_action_check=
!1;this.OnUpdate=this.OnVisibleChanged=this.OnSetVisible=this.OnGetImg=this.OnClick=this.OnCheckChanged=this.OnGetAlt=this.OnGetText=this.OnSetText=null;ngControlCreated(this)}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.coreui={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngPanel",function(){return new ngPanel});ngRegisterControlType("ngText",function(){return new ngText});ngRegisterControlType("ngImage",function(){return new ngImage});ngRegisterControlType("ngImageMap",function(){return new ngImageMap});ngRegisterControlType("ngButton",function(){return new ngButton});ngRegisterControlType("ngGroup",function(){return new ngGroup});ngRegisterControlType("ngEdit",
function(){return new ngEdit});ngRegisterControlType("ngMemo",function(){return new ngMemo});ngRegisterControlType("ngPages",function(){return new ngPages});ngRegisterControlType("ngToolBar",function(){return new ngToolBar});ngRegisterControlType("ngProgressBar",function(){return new ngProgressBar});ngRegisterControlType("ngWebBrowser",function(){return new ngWebBrowser});ngRegisterControlType("ngFrame",ngFrame_Create);ngRegisterControlType("ngRadioButton",ngRadioCheckBox_Create);ngRegisterControlType("ngCheckBox",
ngRadioCheckBox_Create);ngRegisterControlType("ngDropDownList",function(a,b,c){return ngDropDown_Create(a,b,c,"ngEdit",!0)});ngRegisterControlType("ngDropDown",function(a,b,c){return ngDropDown_Create(a,b,c,"ngEdit",!1)});ngRegisterControlType("ngEditNum",ngEditNum_Create);ngRegisterControlType("ngSysAction",function(){return new ngSysAction})}};var mbNone=0,mbCancel=1,mbOK=2,mbYes=4,mbNo=8,mbDefButton1=256,mbDefButton2=512,mbDefButton3=768,mbDefButton4=1024,mbDefButtonMask=mbDefButton1|mbDefButton2|mbDefButton3|mbDefButton4,mbMinimalWidth=180,mbMinimalHeight=0;
function ngMessageDlg(a,b,c,d,e){"undefined"===typeof e&&(e={});ng_MergeDef(e,{DlgLangTxt:!0,DlgHtmlEncode:ngVal(ngDefaultHTMLEncoding,!1),DlgShowDialog:!0,Type:a,Events:{OnClose:d}});e.DlgLangTxt&&("undefined"!==typeof c&&(c=ngTxt(c,c)),"undefined"!==typeof b&&(b=ngTxt(b,b)));e.DlgHtmlEncode&&(c=ng_htmlEncode(c),b=ng_htmlEncode(b),b=b.replace(/\n/g,"<br/>"));ng_MergeDef(e,{Data:{Text:c},Controls:{Message:{Data:{Text:b}}}});(a=ngCreateWindow(e))&&e.DlgShowDialog&&a.Show();return a}
function dlgbx_BtnClick(a){a=a.Owner;"undefined"!==typeof a.DialogResult&&(a.Owner.Owner.DialogResult=a.DialogResult,a.Owner.Owner.Close())}
function dlgbx_Center(){var a=this.Elm();if(a){var b,c,d,e,g=a.parentNode;ng_BeginMeasureElement(g);d=ng_ScrollX(g);e=ng_ScrollY(g);b=ng_ClientWidthEx(g);c=ng_ClientHeightEx(g);ng_EndMeasureElement(g);g=this.Bounds;ng_BeginMeasureElement(a);var k=ng_ClientWidth(a),n=ng_ClientHeight(a);ng_EndMeasureElement(a);g.L=d+Math.round((b-k)/2);g.T=e+Math.round(.4*c-n/2);0>g.T&&(g.T=0);this.SetBounds()}}
function dlgbx_CalcAutoSize(){if(ngVal(this.ControlsPanel,!1)){var a=this.Elm();if(a){var b=a.parentNode,c=ng_ClientWidthEx(b),b=ng_ClientHeightEx(b),d=ng_OuterWidth(a)-ng_ClientWidth(this.ControlsPanel.Elm());ng_SetClientWidth(a,c);ng_SetClientHeight(a,b);var e=0,g=0,k=0,n=0,r=0,u=ngVal(this.Controls.Message,null),x=ngVal(this.Controls.Content,null),w=ngVal(this.Controls.Buttons,null),y=ngVal(this.Controls.Footnote,null),A=this.ControlsPanel.ChildControls;if("undefined"!==typeof A)for(var r=n=1E4,
z,B=0;B<A.length;B++)A[B]!=w&&(a=A[B].Elm())&&(z=ng_GetCurrentStylePx(a,"left"),z<n&&(n=z),A[B]!=x&&(a=ng_GetCurrentStylePx(a,"top"),a<r&&(r=a)));(a=u?u.Elm():null)&&u.Visible&&(e=ng_GetCurrentStylePx(a,"left"),g=ng_OuterWidth(a),e+g+n+d>c&&(g=c-d-n-e,u.AutoSizeMode="vertical",u.SetBounds({W:g}),u.Update(!1)),e+=g,g=ng_GetCurrentStylePx(a,"top")+ng_OuterHeight(a));(a=x?x.Elm():null)&&x.Visible&&(x.SetBounds({T:g}),g+=ng_OuterHeight(a));if(a=w?w.Elm():null)A=w.ChildControls,w.Visible&&"undefined"!==
typeof A&&0<A.length?(k=ng_OuterWidth(a),w.CenterButtons?(a.style.marginLeft=-Math.round(k/2)+"px",w.SetBounds({L:"50%",T:g})):w.SetBounds({T:g}),g+=ng_OuterHeight(a),w.SetVisible(!0)):w.SetVisible(!1);(a=y?y.Elm():null)&&y.Visible&&(y.SetBounds({T:g}),g+=ng_OuterHeight(a));e=e<k?k+2*n:e+n;g+=r;e<mbMinimalWidth&&(e=mbMinimalWidth);g<mbMinimalHeight&&(g=mbMinimalHeight);this.SetClientRect({W:e,H:g});this.Bounds.W>c&&(this.Bounds.W=c);this.Bounds.H>b&&(this.Bounds.H=b);this.Bounds.W<this.MinWidth&&
(this.MinWidth=this.Bounds.W);this.Bounds.H<this.MinHeight&&(this.MinHeight=this.Bounds.H);this.SetBounds();this.Update()}}}
function ngAboutBrowser(){var a="";ngIExplorer&&(a="Internet Explorer "+ngIExplorerVersion,ngIExplorer6&&ngIE6AlignFix&&(a+=" (align fix)"));ngFireFox&&(a=ngFireFox1x?"FireFox 1.x":ngFireFox2x?"FireFox 2.x":"FireFox");ngOpera&&(a="Opera"+ngOperaVersion);ngSafari&&(a="Safari");ngChrome&&(a="Chrome");if(""==a){var a=navigator.userAgent,b=a.indexOf("(");0<=b&&(a=a.substr(0,b))}return a}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.dialogs={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngMessageDlg",function(a,b,c){ng_MergeDef(a,{DialogType:"ngWindow",W:200,H:150,CloseBtn:!1,Data:{DialogResult:mbNone,AutoSize:!0,Centered:!0,Visible:!1,Sizeable:!1,Modal:!0,DisposeOnClose:!0,Center:dlgbx_Center,CalcAutoSize:dlgbx_CalcAutoSize},Controls:{Message:{Type:"ngText",L:15,T:15,Data:{AutoSize:!0}},Content:{Type:"ngPanel",L:15,R:15,H:15},Buttons:{Type:"ngToolBar",H:23,Data:{CenterButtons:!0,
Vertical:!0,AutoSize:!0,HPadding:10},Controls:{OK:{Type:"ngButton",W:80,Data:{ngText:"mbOK",Default:!0,DialogResult:mbOK}},Yes:{Type:"ngButton",W:80,Data:{ngText:"mbYes",Default:!0,DialogResult:mbYes}},No:{Type:"ngButton",W:80,Data:{ngText:"mbNo",DialogResult:mbNo}},Cancel:{Type:"ngButton",W:80,Data:{ngText:"mbCancel",Cancel:!0,DialogResult:mbCancel}}}}}});var d,e=a.Controls.Buttons.Controls,g="right"===a.Controls.Buttons.Data.HAlign?!0:!1,k=0;a.DlgButtons=ngVal(a.DlgButtons,mbOK);a.DlgButtons&mbOK||
delete e.OK;a.DlgButtons&mbYes||delete e.Yes;a.DlgButtons&mbNo||delete e.No;a.DlgButtons&mbCancel||delete e.Cancel;if(g){for(var n in e)k++;var r=[],u;for(u in e)r.push(u);u={};for(var x=r.length-1;0<=x;x--)u[r[x]]=e[r[x]];e=u;a.Controls.Buttons.Controls=u}r=a.DlgButtons&mbDefButtonMask;switch(r){case mbDefButton1:r=g?k:1;break;case mbDefButton2:r=g?k-1:2;break;case mbDefButton3:r=g?k-2:3;break;case mbDefButton4:r=g?k-3:4;break;default:r=-1}var w=void 0,k=0;for(n in e)d=e[n],k++,"undefined"===typeof d.Data&&
(d.Data={}),-1!=r&&(k==r?(d.Data.Default=!0,"undefined"!==typeof d.Data.Cancel&&(d.Data.Cancel=!1)):"undefined"!==typeof d.Data.Default&&(d.Data.Default=void 0)),"undefined"!==typeof d.Data.DialogResult&&(d.Data.OnClick||(d.Data.OnClick=dlgbx_BtnClick),d.Data.DialogResult==mbCancel&&(a.Data.DialogResult=mbCancel,a.CloseBtn=!0,w=mbNone),"undefined"===typeof w?w=d.Data.DialogResult:w!=d.Data.DialogResult&&(w=mbNone));1==k&&("undefined"===typeof d.Data.Default&&(d.Data.Default=!0),"undefined"===typeof d.Data.Cancel&&
(d.Data.Cancel=!0));ngVal(w,mbNone)!=mbNone&&(a.Data.DialogResult=w,a.CloseBtn=!0);"ngMessageDlg"==a.DialogType&&(a.DialogType="ngWindow");var y=ngCreateControlAsType(a,a.DialogType,b,c);if(!y)return y;y.CloseButton&&y.CloseButton.AddEvent(function(){y.DialogResult=ngVal(w,mbNone)!=mbNone?w:mbCancel},"OnClick");return y});ngRegisterControlType("ngAboutDlg",function(a,b,c){function d(a,b){if("object"===typeof a&&a&&0<a.length){b.Collapsed=!0;ngVal(b.Visible,!0)||(b.Visible=!0);"undefined"===typeof b.Items&&
(b.Items=[]);for(var c=0;c<a.length;c++)b.Items[b.Items.length]="string"===typeof a[c]?{Text:a[c]}:a[c]}}var e=ngTxt("ngAppName",document.title),g=ngVal(ngApp.StartParams,null),g=g?ngVal(g.Version,""):"",k=ngTxt("ngAppCopyright","");if(""!=g){var n=g.indexOf(".");0>n&&(g+=".0");g=ng_sprintf(ngTxt("ngAboutVersion"),g)}ng_MergeDef(a,{DialogType:"ngMessageDlg",DlgButtons:mbOK,AboutSystemInfo:null,AboutComponents:null,AboutLibraries:null,AboutTrademarks:null,AboutReleaseNotes:null,Data:{AppName:e,AppVersion:g,
AppCopyright:k,AppText:"",ngText:"ngAbout"},Controls:{Message:{Data:{MinWidth:260},Events:{OnGetText:function(a){a=a.ParentControl.ParentControl;var b="<b>"+a.AppName+"</b>";""!=a.AppVersion&&(b+="<br /><i>"+a.AppVersion+"</i>");""!=a.AppCopyright&&(b+="<br />&nbsp;<br />"+a.AppCopyright);""!=a.AppText&&(b+="<br />&nbsp;<br />"+a.AppText);return b}}},Content:{H:125,Controls:{AppInfo:{Type:"ngList",L:0,T:20,R:0,H:90,Data:{Items:[{id:"SystemInfo",Text:"<b>"+ngTxt("ngAboutSystemInfo")+"</b>",Collapsed:!0},
{id:"Components",Text:"<b>"+ngTxt("ngAboutComponents")+"</b>",Collapsed:!0},{id:"Libraries",Text:"<b>"+ngTxt("ngAboutLibraries")+"</b>",Visible:!1},{id:"Trademarks",Text:"<b>"+ngTxt("ngAboutTrademarks")+"</b>",Visible:!1},{id:"ReleaseNotes",Text:"<b>"+ngTxt("ngAboutReleaseNotes")+"</b>",Visible:!1}]},Events:{OnClick:function(a){if(1==a.listPart&&"undefined"!==typeof a.listItem.Collapsed){a.list.ToggleCollapsed(a.listItem);var b=a.list.Elm(),c=a.listObj;b&&c&&!a.listItem.Collapsed&&(a=ng_ClientHeight(b),
c.offsetTop>b.scrollTop+a/2&&(b.scrollTop=c.offsetTop))}return!0}}}}},Buttons:{R:15,Data:{CenterButtons:!1}}}});g="";e=ngGetSupportedLangs();if(0<e.length){e.sort();for(n=0;n<e.length;n++)e[n]!=ngApp.Lang&&(""!=g&&(g+=", "),g+=e[n]);g=" ("+g+")"}else g="none";k=ng_WindowWidth()+"x"+ng_WindowHeight();e=a.Controls.Content.Controls.AppInfo.Data.Items;e[0].Collapsed=!0;e[0].Items=[ng_sprintf(ngTxt("ngAboutBrowser"),ngAboutBrowser()),ng_sprintf(ngTxt("ngAboutWindow"),k),ng_sprintf(ngTxt("ngAboutLanguage"),
ngApp.Lang+g)];d(a.AboutSystemInfo,e[0]);e[1].Collapsed=!0;e[1].Items=[{Text:"Controls v"+ngControlsVersion+"<br /><small>"+ngControlsCopyright+"</small>"}];"undefined"!==typeof ngMapAPIVersion&&(g=e[1].Items.length,k=ngVal(ngMapAPICopyright,""),e[1].Items[g]={Text:"ngMapAPI v"+ngMapAPIVersion+"<br /><small>"+k+"</small>"});if("undefined"!==typeof ngUserControls){g=[];for(n in ngUserControls)g[g.length]=n;if(0<g.length){var k="",r,u,x;g.sort();for(n=0;n<g.length;n++){0<n&&(k+=", ");if(r=ngUserControls[g[n]])x=
ngVal(r.Version,""),x+=ngVal(r.SubVersion,""!=x?".0":""),u=ngVal(r.Copyright,""),r=ngVal(r.Name,""!=u?g[n]:""),""!=r&&(""!=x&&(r+=" v"+x),""!=u&&(r+="<br /><small>"+u+"</small>"),e[1].Items[e[1].Items.length]={Text:r});k+=g[n]}e[1].Items[0].Collapsed=!0;e[1].Items[0].Items=[{Text:ng_sprintf(ngTxt("ngAboutUserControls"),k)}]}}d(a.AboutComponents,e[1]);if("undefined"!==typeof ngLib)for(n in e[2].Collapsed=!0,e[2].Items=[],e[2].Visible=e[2].Visible||!ng_EmptyVar(ngLib),g=e[2].Items,ngLib)k=n,u="object"===
typeof ngLib[n]?ngVal(ngLib[n].version,""):"",""!=u&&(k+=" v"+u),g[g.length]={Text:k};d(a.AboutLibraries,e[2]);d(a.AboutTrademarks,e[3]);d(a.AboutReleaseNotes,e[4]);"ngAboutDlg"==a.DialogType&&(a.DialogType="ngMessageDlg");return ngCreateControlAsType(a,a.DialogType,b,c)})}};var ngFupSelect_None=0,ngFupSelect_Select=1,ngFupSelect_CheckBox=2,ngFupSelect_CheckItem=3,FileUploaderControl={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngFileUploader",function(a,b,c){"undefined"===typeof a.Data&&(a.Data={});"undefined"!==typeof a.FileUploaderID&&(a.Data.FileUploaderID=a.FileUploaderID);var d="top",e=ngVal(a.Base,"ngPanel"),g=ngVal(a.Data.FileUploaderID,"Main"),k=ngVal(a.SelectFileType,ngFupSelect_CheckItem),k=ngVal(a.Data.SelectFileType,k);
ng_MergeDef(a,{ParentReferences:!1,ListFiles:!0,Data:{FileUploaderID:g,UploadURL:ngLibPath("ng_controls")+"ui/fileuploader.php",DropTarget:void 0,MaxFilesCount:void 0,MaxFileSize:void 0,MaxBatchSize:void 0,AllowedExtensions:void 0,SelectFileType:k},Controls:{ListFiles:{Type:"ngList",L:0,T:0,B:0,R:0,Data:{SelectType:k==ngFupSelect_Select?nglSelectMulti:nglSelectNone,ShowCheckboxes:!(k!=ngFupSelect_CheckBox&&k!=ngFupSelect_CheckItem),ShowHeader:!1,Columns:Array(new ngListCol("File",ngTxt("ngfup_ColFile")))},
Events:{OnUpdated:ngfup_ListOnUpdated,OnAdd:ngfup_ListOnAdd,OnRemove:ngfup_ListOnRemove,OnClickItem:ngfup_ListOnClickItem,OnCheckChanged:ngfup_ListOnCheckChanged,OnSelectChanged:ngfup_ListOnSelectChanged}},DragAndDropPanel:{Type:"ngPanel",style:{zIndex:1E3},Controls:{DragAndDropInfo:{Type:"ngText",L:0,R:0,T:"50%",Data:{TextAlign:"center"},Events:{OnGetText:ngfup_OnGetDragAndDropText}}},Events:{OnFilesDragOver:ngfup_OnFilesDragOver,OnFilesDragLeave:ngfup_OnFilesDragLeave}},Buttons:{Type:"ngToolBar",
L:0,B:0,R:0,Events:{OnUpdated:ngfup_OnButtonsUpdated},Controls:{BtnAddFile:{Type:"ngButton",Data:{ngText:"ngfup_AddFile"},Events:{OnUpdated:ngfup_OnAddFileButtonUpdated}},BtnRemoveFiles:{Type:"ngButton",Data:{ngText:"ngfup_RemoveFiles",Enabled:!1},Events:{OnClick:ngfup_OnRemoveBtnClick}}}}}});a.Data.DropTarget=!!ngVal(a.DropTarget,!(ngAndroid||ngiOS||ngWindowsPhone));"undefined"===typeof a.Data.MaxFilesCount&&(k=parseInt(ngVal(ngApp.StartParams["ngFileUploader."+g+".MaxFilesCount"],0),10),0<k&&(a.Data.MaxFilesCount=
k));"undefined"===typeof a.Data.MaxFileSize&&(k=parseInt(ngVal(ngApp.StartParams["ngFileUploader."+g+".MaxFileSize"],0),10),0<k&&(a.Data.MaxFileSize=k));"undefined"===typeof a.Data.MaxBatchSize&&(k=parseInt(ngVal(ngApp.StartParams["ngFileUploader."+g+".MaxBatchSize"],0),10),0<k&&(a.Data.MaxBatchSize=k));"undefined"===typeof a.Data.AllowedExtensions&&(g=ngVal(ngApp.StartParams["ngFileUploader."+g+".AllowedExtensions"],""),""!=g&&(a.Data.AllowedExtensions=g));a.Controls&&(a.ListFiles||(a.Controls.Buttons&&
a.Controls.Buttons.Controls.BtnRemoveFiles&&ng_MergeVar(a.Controls.Buttons.Controls.BtnRemoveFiles,{Data:{Visible:!1}}),a.Controls.ListFiles&&ng_MergeVar(a.Controls.ListFiles,{Data:{Visible:!1}}),a.Controls.DragAndDropPanel&&ng_MergeVar(a.Controls.DragAndDropPanel,{Data:{Visible:!1}})),a.Data.DropTarget&&window.FormData&&"draggable"in document.createElement("span")||delete a.Controls.DragAndDropPanel);"undefined"!==typeof a.ButtonsAlign&&(d=a.ButtonsAlign);"undefined"!==typeof a.Data.ButtonsAlign&&
(d=a.Data.ButtonsAlign);"top"==d&&a.Controls.Buttons&&(delete a.Controls.Buttons.B,"undefined"===a.Controls.Buttons.T&&(a.Controls.Buttons.T=0));a.OnCreated=ngAddEvent(a.OnCreated,ngfup_OnCreated);a=ngCreateControlAsType(a,e,b,c);if(!a)return a;a.ButtonsAlign=d;a.FileUploaderID="";a.Accept="";a.Waiting=!1;a.ServerData=ngfup_ServerData;a.ChangeFile=ngfup_ChangeFile;a.CheckFiles=ngfup_CheckFiles;a.CheckMaxFiles=ngfup_CheckMaxFiles;a.RemoveFiles=ngfup_RemoveFiles;a.ClearFiles=ngfup_ClearFiles;a.GetForm=
ngfup_GetForm;a.GetFiles=ngfup_GetFiles;a.RegisterDropTarget=ngfup_RegisterDropTarget;a.UnregisterDropTarget=ngfup_UnregisterDropTarget;a.IsDropTarget=ngfup_IsDropTarget;a.SetUploadProgress=ngfup_SetUploadProgress;a.GetRPC=ngfup_GetRPC;a.UploadFile=ngfup_UploadFile;a.ShowError=ngfup_ShowError;a.ErrorToMessage=ngfup_ErrorToMessage;a.ShowWaiting=ngfup_ShowWaiting;a.HasFilesToRemove=ngfup_HasFilesToRemove;a.GetFilesToRemove=ngfup_GetFilesToRemove;a.AddEvent("DoDispose",ngfup_DoDispose);a.OnError=null;
a.OnFileAdding=null;a.OnFileAdded=null;a.OnFileChanging=null;a.OnFileChanged=null;a.OnFileDeleting=null;a.OnFileDeleted=null;a.OnUploadProgress=null;a.OnShowWaiting=null;a.OnHideWaiting=null;a.OnGetRequestParams=null;return a})}};
function ngfup_ServerData(a){if("undefined"===typeof a)return!1;this.ShowWaiting(!1);this.Controls.ListFiles.BeginUpdate();try{if(ng_IsArrayVar(a)){for(var b=[],c=0;c<a.length;c++){var d=ngfup_FileUploaded(this,a[c]);d&&b.push(d)}if(0<b.length)return this.ShowError(b),!1}else if(d=ngfup_FileUploaded(this,a))return this.ShowError(d),!1}finally{this.Controls.ListFiles.EndUpdate()}this.Controls.BtnAddFile&&this.Controls.BtnAddFile.SetEnabled(this.CheckMaxFiles(1));return!0}
function ngfup_UploadFile(a,b,c){if(""==a||/[<>|:/\?\"\\]/.test(a))throw"Invalid filename!";var d=c=ngVal(c,"text/plain; charset=utf-8"),e=d.indexOf(";");0<=e&&(d=d.substr(0,e));e=new Date;if(!this.CheckFiles([{name:a,size:b.length,type:d,lastModified:e.getTime(),lastModifiedDate:e}])||this.OnFileAdding&&!ngVal(this.OnFileAdding(this,a),!1))return!1;if(d=this.GetRPC()){d.clearParams();delete d.FileFormData;d.FileName=a;d.FileContent=ngVal(b,"");d.FileContentType=c;a={id:this.ID,fuid:this.FileUploaderID,
action:"upload"};this.OnGetRequestParams&&this.OnGetRequestParams(a);for(var g in a)d.SetParam(g,a[g]);d.sendRequest(this.UploadURL);return!0}return!1}function ngfup_FileUploaded(a,b){if("object"!==typeof b||null===b)return null;if(b.Error)return{Name:b.Name,Error:b.Error};if(!a.CheckMaxFiles())return{Name:b.Name,Error:{Message:"ngfup_Error_MaxFiles",Data:this.MaxFilesCount}};a.Controls.ListFiles.Add({Text:{File:b.Name},Hash:b.Hash});a.OnFileAdded&&a.OnFileAdded(a,b.Name,b);return null}
function ngfup_OnCreated(a){var b=a.Elm();if(b){var c="FileUploader_"+a.ID+"_IF";document.getElementById(c)||ng_AppendInnerHTML(b,'<iframe id="'+c+'" name="'+c+'" scrolling="no" frameborder="0" style="position:absolute;width:1px;height:1px;left:-1px;top:-1px;overflow:hidden;border:0px;"></iframe>')}a.Controls.BtnAddFile&&a.Controls.ListFiles&&a.Controls.BtnAddFile.AddEvent("OnSetEnabled",ngfup_OnSetAddBtnEnabled);a.Controls.BtnRemoveFiles&&a.Controls.ListFiles&&a.Controls.BtnRemoveFiles.AddEvent("OnSetEnabled",
ngfup_OnSetRemoveBtnEnabled);a.DropTarget&&a.RegisterDropTarget(a,ngfup_OnDragOver,ngfup_OnDragLeave)}function ngfup_OnSetAddBtnEnabled(a,b){return b?this.ParentControl.ParentControl.CheckMaxFiles(1):!0}function ngfup_OnSetRemoveBtnEnabled(a,b){return b?this.ParentControl.ParentControl.HasFilesToRemove():!0}function ngfup_OnRemoveBtnClick(){this.ParentControl.ParentControl.RemoveFiles()}function ngfup_OnDragOver(a,b){var c=a.Controls.DragAndDropPanel;c&&c.OnFilesDragOver&&c.OnFilesDragOver(c,b)}
function ngfup_OnDragLeave(a,b){var c=a.Controls.DragAndDropPanel;c&&c.OnFilesDragLeave&&c.OnFilesDragLeave(c,b)}function ngfup_GetForm(){return document.getElementById("FileUploader_"+this.ID+"_FO")}function ngfup_GetFiles(){return this.Controls.ListFiles.Items}
function ngfup_OnAddFileButtonUpdated(){var a=this.ParentControl.ParentControl,b=a.GetForm();if(!b){b=this.Elm();if(!b)return;var c="FileUploader_"+a.ID;ng_AppendInnerHTML(b,'<form id="'+c+'_FO" target="'+c+'_IF" action="" enctype="multipart/form-data" method="POST" style="position:absolute;left:0px;top:0px;width:100%;height:100%;margin:0px;padding:0px;opacity:0;-moz-opacity:0;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0);z-index:3" ><input id="'+c+'_FO_I" name="ngfup_File[]" type="file" size="20" onchange="ngfup_action(\''+
a.ID+"', 'ChangeFile');\" style=\"position:absolute;left:-100%;top:0px;width:200%;height:100%;margin:0px;padding:0px;font-size:10000px;cursor:pointer !important;\"/>"+(ngFireFox&&22>ngFireFoxVersion||ngOpera&&12>ngOperaVersion?"":'<label for="'+c+'_FO_I" style="position:absolute;left:0;top:0;width:100%;height:100%;margin:0px;padding:0px;cursor:pointer !important;"></label>')+"</form>");b=a.GetForm()}b&&(b.style.display=this.Enabled?"block":"none",b=b["ngfup_File[]"])&&(c="","string"===typeof a.Accept&&
""!==a.Accept?c=a.Accept:ng_IsArrayVar(a.AllowedExtensions)&&0<a.AllowedExtensions.length&&(c="."+a.AllowedExtensions.join(",.")),b.accept=c,b.multiple=1!=a.MaxFilesCount);return!0}function ngfup_ListOnUpdated(a){a.Owner.DragAndDropPanel&&a.Owner.DragAndDropPanel.SetBounds(a.Bounds)&&a.Owner.DragAndDropPanel.Update()}function ngfup_ListOnAdd(a){a.Owner.DragAndDropPanel&&a.Owner.DragAndDropPanel.SetVisible(!1);return!0}
function ngfup_ListOnRemove(a){1==a.Items.length&&a.Owner.DragAndDropPanel&&a.Owner.DragAndDropPanel.SetVisible(!0);return!0}function ngfup_OnFilesDragOver(a){if(a=a.Owner.Owner.Elm()){var b=a.className;0>b.indexOf("_Drag")&&(a.className=b+"_Drag")}}function ngfup_OnFilesDragLeave(a){if(a=a.Owner.Owner.Elm()){var b=a.className,c=b.indexOf("_Drag");0<=c&&(a.className=b.substring(0,c)+b.substring(c+5))}}
function ngfup_OnButtonsUpdated(a,b){if(a.Owner.ListFiles){var c=ng_OuterHeight(b);a.Owner.ListFiles.SetBounds("top"==a.ParentControl.ButtonsAlign?{T:c}:{B:c})&&a.Owner.ListFiles.Update()}}function ngfup_action(a,b,c){if("undefined"===typeof a||"undefined"===typeof b)return!1;c=ngVal(c,null);if((a=ngGetControlById(a))&&ng_inArray("ngFileUploader",a.CtrlInheritedFrom)){if(a[b])a[b](c);return!0}return!1}
function ngfup_Sendfiles(a){if(!a.Enabled)return!1;var b=a.GetForm();if(!b)return!1;var c={id:a.ID,fuid:a.FileUploaderID,action:"upload"};a.OnGetRequestParams&&a.OnGetRequestParams(c);if(window.FormData){var d=a.GetRPC();if(d){d.clearParams();d.FileFormData=new FormData(b);for(var e in c)d.SetParam(e,c[e]);d.sendRequest(a.UploadURL);return!0}}d="ts="+(new Date).getTime()+"&lang="+ng_URLEncode(ngApp.Lang);for(e in c)d+="&"+ng_URLEncode(e)+"="+ng_URLEncode(c[e]);b.action=ng_AddURLParam(a.UploadURL,
d);a.ShowWaiting(!0);a.SetUploadProgress();b.submit();return!0}function ngfup_GetRPC(){if(!this.file_rpc){var a=new ngRPC(this.ID+"RPC","",!0);a.Type=rpcHttpRequestPOST;a.Owner=this;a.OnReceivedData=ngfup_RPC_OnReceivedData;a.OnHTTPRequestFailed=ngfup_RPC_OnHTTPRequestFailed;a.OnHTTPRequest=ngfup_RPC_OnHTTPRequest;this.file_rpc=a}return this.file_rpc}function ngfup_RPC_OnReceivedData(a,b,c,d){a.Owner.ShowWaiting(!1);return!0}
function ngfup_RPC_OnHTTPRequestFailed(a,b,c){c.UploadFile&&a.Owner.ServerData({Error:"ngfup_Error_General"})}
function ngfup_RPC_OnHTTPRequest(a,b){if("upload"===a.Owner.file_rpc.Params.action){a.Owner.ShowWaiting(!0);"upload"in b.XMLHttp?(a.Owner.SetUploadProgress(0),b.XMLHttp.onload=function(){a.Owner.SetUploadProgress(100)},b.XMLHttp.upload.onprogress=function(b){b.lengthComputable&&a.Owner.SetUploadProgress(b.loaded/b.total*100|0)}):a.Owner.SetUploadProgress();if("undefined"!==typeof a.FileFormData)delete b.ReqHeaders["Content-type"],delete b.ReqHeaders["Content-length"],b.PostParams=a.FileFormData;else{var c=
Math.random().toString().substr(2);b.ReqHeaders["Content-type"]="multipart/form-data; charset=utf-8; boundary="+c;c="--"+c+'\r\nContent-Disposition: form-data; name="ngfup_File[]"; filename="'+a.FileName+'"\r\nContent-type: '+ngVal(a.FileContentType,"text/plain; charset=utf-8")+"\r\n\r\n"+a.FileContent+"\r\n--"+c+"--\r\n";b.ReqHeaders["Content-length"]=c.length;b.PostParams=c}b.UploadFile=!0;c=a.GetURLParams();""!=c&&(b.URL=ng_AddURLParam(b.URL,c))}return!0}
function ngfup_Extension(a){var b=a.lastIndexOf(".");return 0>b?"":a.substr(b+1)}
function ngfup_CheckFiles(a){if(!this.CheckMaxFiles(a.length))return this.ShowError({Error:{Message:"ngfup_Error_MaxFiles",Data:this.MaxFilesCount}}),!1;var b=parseInt(ngVal(this.MaxBatchSize,0)),c=parseInt(ngVal(this.MaxFileSize,0)),d=0,e=!ng_EmptyVar(this.AllowedExtensions);if(e||0<c){for(var g=[],k,n,r=0;r<a.length;r++){if(e){k=ngfup_Extension(a[r].name).toLowerCase();n=!1;if(""!=k)for(var u in this.AllowedExtensions)if(this.AllowedExtensions[u].toLowerCase()===k){n=!0;break}if(!n){g.push({Name:a[r].name,
Error:{Message:"ngfup_Error_Extension",Data:this.AllowedExtensions.join(", ")}});continue}}"undefined"!==typeof a[r].size?(k=parseInt(a[r].size,10),0<=d&&(d+=k),0<c&&k>c&&g.push({Name:a[r].name,Error:{Message:"ngfup_Error_Size",Data:this.MaxFileSize}})):d=-1}if(0<g.length)return this.ShowError(g),!1;if(0<d&&0<b&&d>b)return this.ShowError({Error:{Message:"ngfup_Error_MaxBatch",Data:this.MaxBatchSize}}),!1}return!0}
function ngfup_CheckMaxFiles(a){a=ngVal(a,0);var b=ngVal(this.MaxFilesCount,-1),c=this.Controls.ListFiles?this.Controls.ListFiles.Items.length:0;return!(0<=b&&c+a>b)}function ngfup_HasFilesToRemove(){var a=this.Controls.ListFiles;switch(this.SelectFileType){case ngFupSelect_Select:return 0<(a?a.GetSelected():[]).length;case ngFupSelect_CheckBox:case ngFupSelect_CheckItem:return a&&a.HasChecked()}return!1}
function ngfup_GetFilesToRemove(){var a=this.Controls.ListFiles;switch(this.SelectFileType){case ngFupSelect_Select:return a?a.GetSelected():[];case ngFupSelect_CheckBox:case ngFupSelect_CheckItem:return a?a.GetChecked():[]}return null}
function ngfup_RemoveFiles(){var a=this.GetFilesToRemove();if(!ng_IsArrayVar(a)||1>a.length)return!1;this.Controls.ListFiles.BeginUpdate();try{for(var b=0;b<a.length;b++)if(!this.OnFileDeleting||ngVal(this.OnFileDeleting(this,a[b],b),!1))this.Controls.ListFiles.Remove(a[b]),this.OnFileDeleted&&this.OnFileDeleted(this,a[b],b)}finally{this.Controls.ListFiles.EndUpdate()}this.Controls.BtnAddFile&&this.Controls.BtnAddFile.SetEnabled(this.CheckMaxFiles(1));return!0}
function ngfup_ClearFiles(){var a=this.Controls.ListFiles;a.BeginUpdate();try{for(var b=a.Items.length-1;0<=b;b--)if(!this.OnFileDeleting||ngVal(this.OnFileDeleting(this,a.Items[b],b),!1))this.Controls.ListFiles.Remove(a.Items[b]),this.OnFileDeleted&&this.OnFileDeleted(this,a.Items[b],b)}finally{a.EndUpdate()}this.Controls.BtnAddFile&&this.Controls.BtnAddFile.SetEnabled(this.CheckMaxFiles(1))}
function ngfup_ChangeFile(){var a=this.GetForm();if(!a)return!1;var b="",c=a["ngfup_File[]"],d=[];if("files"in c){if(!c.files.length||!this.CheckFiles(c.files))return a.reset(),!1;for(var e=0;e<c.files.length;e++){if(this.OnFileAdding&&!ngVal(this.OnFileAdding(this,c.files[e].name),!1))return a.reset(),!1;""!=b&&(b+=", ");b+=c.files[e].name;d.push(c.files[e].name)}}else if(b=c.value,b=b.substring(b.lastIndexOf("\\")+1,b.length),""!=b&&d.push(b),this.OnFileAdding&&!ngVal(this.OnFileAdding(this,c.value),
!1))return a.reset(),!1;if(this.OnFileChanging&&!ngVal(this.OnFileChanging(this,b,d),!1))return a.reset(),!1;this.OnFileChanged&&this.OnFileChanged(this,b,d);ngfup_Sendfiles(this);a.reset();return!0}
function ngfup_RegisterDropTarget(a,b,c,d){if(this.InDesignMode)return!1;var e=null;"string"===typeof a?e=document.getElementByID(a):"function"===typeof a.Elm?(e=a.Elm(),a=a.ID):"undefined"!==typeof a.id&&(e=a,a=a.id);if(e&&""!=a&&"draggable"in e&&window.FormData){this._drop_targets||(this._drop_targets={});this._drop_targets[a]={elm:e,ondrop:d,ondragover:b,ondragleave:c};var g=this;ngfup_AddDropListener(e,"drop",function(a){ngfup_FileDrop(g,a)});ngfup_AddDropListener(e,"dragover",function(a){ngfup_FileDragOver(g,
a)});ngfup_AddDropListener(e,"dragleave",function(a){ngfup_FileDragLeave(g,a)});return!0}return!1}
function ngfup_UnregisterDropTarget(a){if(!this.InDesignMode){var b=null;"string"===typeof a?b=document.getElementById(a):"function"===typeof a.Elm?(b=a.Elm(),a=a.ID):"undefined"!==typeof a.id&&(b=a,a=a.id);!b&&this._drop_targets&&this._drop_targets[a]&&(b=this._drop_targets[a].elm);b&&(ngfup_RemoveDropListener(b,"drop"),ngfup_RemoveDropListener(b,"dragover"),ngfup_RemoveDropListener(b,"dragleave"));delete this._drop_targets[a]}}
function ngfup_IsDropTarget(a){"string"!==typeof a&&("function"===typeof a.Elm?a=a.ID:"undefined"!==typeof a.id&&(a=a.id));return!!this._drop_targets[a]}function ngfup_FindTarget(a,b){for(var c=b.target||b.srcElement||b.originalTarget;c&&c!=document;){if(""!=c.id&&"undefined"!==typeof a._drop_targets[c.id])return a._drop_targets[c.id];c=c.parentNode}return null}function ngfup_SetUploadProgress(a){this.OnUploadProgress&&this.OnUploadProgress(this,a)}
function ngfup_FormatBytes(a){if(0>=a)return"-";var b=parseInt(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,b),2)+" "+["B","kB","MB","GB","TB"][b]}
function ngfup_ErrorToMessage(a){var b="";if(!a||!a.Error)return b;""!=ngVal(a.Name,"")&&(b+=a.Name+": ");a=a.Error;if("object"===typeof a){if(!ng_EmptyVar(a.Data))switch(a.Message){case "ngfup_Error_Size":return b+ng_sprintf(ngTxt("ngfup_Error_Size_Num"),ngfup_FormatBytes(a.Data));case "ngfup_Error_Extension":return b+ng_sprintf(ngTxt("ngfup_Error_Extension_Info"),a.Data);case "ngfup_Error_MaxFiles":return b+ng_sprintf(ngTxt("ngfup_Error_MaxFiles_Num"),a.Data);case "ngfup_Error_MaxBatch":return b+
ng_sprintf(ngTxt("ngfup_Error_MaxBatch_Num"),ngfup_FormatBytes(a.Data))}a=a.Message}return b+=ngTxt(a)}
function ngfup_ShowError(a){var b="";if(ng_IsArrayVar(a)){var c,d,e;for(e in a)(d=a[e])&&"object"===typeof d.Error&&d.Error&&"ngfup_Error_Extension"===d.Error.Message&&(c=d.Error.Data,delete d.Error.Data),d=this.ErrorToMessage(d),""!=d&&(b+=""==b?d:"\n"+d);ng_EmptyVar(c)||(""!=b&&(b+="\n\n"),b+=ng_sprintf(ngTxt("ngfup_Error_AllowedExtensions"),c))}else b+=this.ErrorToMessage(a);if(""!=b){if(this.OnError)return this.OnError(this,b,a);alert(ng_htmlDecode(b));return!0}return!1}
function ngfup_ShowWaiting(a){a=ngVal(a,!0);a!=this.Waiting&&((this.Waiting=a)?this.OnShowWaiting&&this.OnShowWaiting(this):this.OnHideWaiting&&this.OnHideWaiting(this))}function ngfup_DoDispose(){var a=[];if(this._drop_targets)for(var b in this._drop_targets)a.push(b);for(b=0;b<a.length;b++)this.UnregisterDropTarget(a[b]);return!0}function ngfup_StopEvent(a){a||(a=window.event);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;a.preventDefault?a.preventDefault():a.returnValue=!1}
function ngfup_AddDropListener(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent(b,c)}function ngfup_RemoveDropListener(a,b){a.removeEventListener?a.removeEventListener(b,a[b],!1):a.detachEvent&&a.detachEvent(b,a[b])}
function ngfup_FileDrop(a,b){ngfup_StopEvent(b);if(!a.Enabled)return!1;var c=ngfup_FindTarget(a,b);if(c)if(c.ondrop){if(!ngVal(c.ondrop(a,c.elm),!1))return!1}else if(c.ondragleave)c.ondragleave(a,c.elm);var d=b.target.files||b.dataTransfer.files;if(!a.CheckFiles(d))return!1;for(var e=new FormData,c=0;c<d.length;c++)e.append("ngfup_File[]",d[c]);if(d=a.GetRPC()){d.clearParams();d.FileFormData=e;e={id:a.ID,fuid:a.FileUploaderID,action:"upload"};a.OnGetRequestParams&&a.OnGetRequestParams(e);for(c in e)d.SetParam(c,
e[c]);d.sendRequest(a.UploadURL)}return!1}function ngfup_FileDragOver(a,b){ngfup_StopEvent(b);if(!a.Enabled)return!1;var c=ngfup_FindTarget(a,b);if(c&&c.ondragover)c.ondragover(a,c.elm);return!1}function ngfup_FileDragLeave(a,b){ngfup_StopEvent(b);if(!a.Enabled)return!1;var c=ngfup_FindTarget(a,b);if(c&&c.ondragleave)c.ondragleave(a,c.elm);return!1}function ngfup_OnGetDragAndDropText(){return ngTxt(1==this.ParentControl.ParentControl.MaxFilesCount?"ngfup_DragAndDropOne":"ngfup_DragAndDropMore")}
function ngfup_ListOnClickItem(a){a&&this.ParentControl.SelectFileType==ngFupSelect_CheckItem&&0==a.listPart&&(a=a.listItem,this.CheckItem(a,!ngVal(a.Checked,!1)))}function ngfup_ListOnCheckChanged(){var a=this.Owner.BtnRemoveFiles;if(a){var b=this.ParentControl.SelectFileType;b!=ngFupSelect_CheckItem&&b!=ngFupSelect_CheckBox||a.SetEnabled(this.HasChecked())}}
function ngfup_ListOnSelectChanged(){var a=this.Owner.BtnRemoveFiles;if(a&&this.ParentControl.SelectFileType==ngFupSelect_Select){var b=this.GetSelected();a.SetEnabled(0<b.length)}}
function ngfup_AddDragBox(a,b){var c=a.Elm();c&&("undefined"===typeof b&&(b=1),"undefined"!==typeof a.Bounds.L&&("undefined"===typeof a._dragboxMarginLeft&&(a._dragboxMarginLeft=c.style.marginLeft),c.style.marginLeft="-"+b+"px"),"undefined"!==typeof a.Bounds.T&&("undefined"===typeof a._dragboxMarginTop&&(a._dragboxMarginTop=c.style.marginTop),c.style.marginTop="-"+b+"px"),"undefined"!==typeof a.Bounds.R&&("undefined"===typeof a._dragboxMarginRight&&(a._dragboxMarginRight=c.style.marginRight),c.style.marginRight=
"-"+b+"px"),"undefined"!==typeof a.Bounds.B&&("undefined"===typeof a._dragboxMarginBottom&&(a._dragboxMarginBottom=c.style.marginBottom),c.style.marginBottom="-"+b+"px"),"undefined"===typeof a._dragboxBorderWidth&&(a._dragboxBorder=c.style.borderWidth),c.style.borderWidth=b+"px")}
function ngfup_RemoveDragBox(a){var b=a.Elm();b&&("undefined"!==typeof a._dragboxMarginLeft&&(b.style.marginLeft=a._dragboxMarginLeft),"undefined"!==typeof a._dragboxMarginTop&&(b.style.marginTop=a._dragboxMarginTop),"undefined"!==typeof a._dragboxMarginRight&&(b.style.marginRight=a._dragboxMarginRight),"undefined"!==typeof a._dragboxMarginBottom&&(b.style.marginBottom=a._dragboxMarginBottom),b.style.borderWidth=ngVal(a._dragboxBorderWidth,""),delete a._dragboxMarginLeft,delete a._dragboxMarginTop,
delete a._dragboxMarginRight,delete a._dragboxMarginBottom,delete a._dragboxBorder)}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.fileuploader=FileUploaderControl;var nglUnchecked=0,nglChecked=1,nglGrayed=2,nglSelectNone=0,nglSelectSingle=1,nglSelectMulti=2,nglSelectMultiExt=3,nglSelectSingleExt=4,nglSelectCheck=5,nglClickRow=0,nglClickText=1,nglClickCheckImg=2,nglClickTreeImg=3,nglClickItemImg=4,nglSortAsc=0,nglSortDesc=1,ngl_LeaveListTimer=null,ngl_CurrentRowId="",ngl_FocusTime=0;function ngl_BeginUpdate(){this.update_cnt++}
function ngl_EndUpdate(){this.update_cnt--;0>=this.update_cnt&&(this.update_cnt=0,this._items_changed&&(this._items_changed=!1,this.DoItemsChanged()),this.need_update&&this.Update())}
function ngl_do_add(a,b,c){this.need_update=!0;if("undefined"===typeof b)return!1;a!=this&&ng_SetByRef(b,"Parent",a);if(this.OnAdd&&!ngVal(this.OnAdd(this,b,c),!1))return delete b.Parent,!1;a=this.GetItemAction(b);this.SyncItemAction(b,a);!a&&"undefined"!==typeof b.RadioGroup&&ngVal(b.Checked,0)&&(this.radio_groups[b.RadioGroup]=b);"undefined"!==typeof b.Checked&&0!=b.Checked&&0!=b.Checked&&this.CheckChanged();return!0}
function ngl_Add(a,b){var c=b;if("undefined"===typeof c||null===c)c=this;if("string"===typeof a){var d={};d.Text=a;a=d}"undefined"===typeof c.Items&&(c.Items=[]);if(!this.do_add(c,a,b))return-1;d=c.Items.length;c.Items[d]=a;this.DoItemsChanged();if("undefined"!==typeof a.Items){c=a.Items;delete a.Items;for(var e in c)this.Add(c[e],a)}return d}function ngl_AddItems(a,b){if(a){this.BeginUpdate();for(var c in a)this.Add(a[c],b);this.EndUpdate()}}
function ngl_SetItems(a){this.BeginUpdate();this.Clear();this.AddItems(a);this.EndUpdate()}function ngl_Insert(a,b,c){var d=c;if("undefined"===typeof d||null===d)d=this;if("string"===typeof b){var e={};e.Text=b;b=e}"undefined"===typeof d.Items&&(d.Items=[]);if(!this.do_add(d,b,c))return-1;0>a&&(a=0);a>d.Items.length&&(a=d.Items.length);d.Items.splice(a,0,b);if("undefined"!==typeof b.Items){c=b.Items;delete b.Items;for(var g in c)this.Add(c[g],b)}return a}
function ngl_Replace(a,b,c){var d=c;if("undefined"===typeof d||null===d)d=this;if("undefined"===typeof d.Items||0>a||a>d.Items.length||!this.do_add(d,b,c))return null;var e=null;a<d.Items.length&&(e=d.Items[a],this.do_remove(e,c));d.Items[a]=b;this.DoItemsChanged();if("undefined"!==typeof b.Items){a=b.Items;delete b.Items;for(var g in a)this.Add(a[g],b)}return e}
function ngl_IndexOf(a,b){var c=b;if("undefined"===typeof c||null===c)c=this;if("undefined"!==typeof c.Items)for(var d=0;d<c.Items.length;d++)if(c.Items[d]==a)return d;return-1}
function ngl_do_remove(a,b){if("undefined"!==typeof a){this.need_update=!0;0<this.SelCount&&this.SelectItem(a,!1);"undefined"!==typeof a.RadioGroup&&"undefined"!==typeof this.radio_groups[a.RadioGroup]&&this.radio_groups[a.RadioGroup]==a&&(this.radio_groups[a.RadioGroup]=null);"undefined"!==typeof a.Checked&&0!=a.Checked&&0!=a.Checked&&this.CheckChanged();this.OnRemove&&this.OnRemove(this,a,b);a.Parent=null;if("undefined"!==typeof a.Controls&&"undefined"!==typeof this.ItemsControls)if(0<this.Columns.length)for(var c,
d,e,g=0;g<this.Columns.length;g++){if(c=this.Columns[g].ID,"undefined"!==typeof a.Controls[c]){d=a.Controls[c];for(var k in d)"Owner"!=k&&"Parent"!=k&&(e=d[k],this.RemoveItemControl(e),e&&"function"===typeof e.Dispose&&e.Dispose());delete a.Controls[c]}}else for(k in a.Controls)"Owner"!=k&&"Parent"!=k&&(e=a.Controls[k],this.RemoveItemControl(e),e&&"function"===typeof e.Dispose&&e.Dispose());a.Controls&&delete a.Controls}}
function ngl_Remove(a,b){var c=b;if("undefined"===typeof c||null===c)c=this;if("undefined"===typeof c.Items)return-1;for(var d=-1,e=0;e<c.Items.length;e++)if(c.Items[e]==a){d=e;break}0<=d&&(this.do_remove(a,b),c.Items.splice(d,1),this.DoItemsChanged());return d}function ngl_Delete(a,b){var c=b;if("undefined"===typeof c||null===c)c=this;if("undefined"===typeof c.Items||0>a||a>=c.Items.length)return null;var d=c.Items[a];this.do_remove(d,b);c.Items.splice(a,1);this.DoItemsChanged();return d}
function ngl_GetPath(a,b,c,d,e){if("undefined"===typeof a||null===a)a=this;var g="";c=ngVal(c,!0);d=ngVal(d,null);0<this.Columns.length&&(g=this.Columns[0].ID);this.BeginUpdate();try{for(var k=0,n,r,u,x,w=0;w<=b.length;w++)if(w==b.length||"\\"==b.charAt(w)){n=b.substr(k,w-k);if(""!=n){"$"==n.charAt(0)?(x=!0,n=n.substr(1,n.length-1)):x=!1;r=null;if(a&&"undefined"!==typeof a.Items)if(0<this.Columns.length)if(x)for(var y=0;y<a.Items.length;y++){if(a.Items[y].ngText[g]==n){r=a.Items[y];break}}else for(y=
0;y<a.Items.length;y++){if(a.Items[y].Text[g]==n){r=a.Items[y];break}}else if(x)for(y=0;y<a.Items.length;y++){if(a.Items[y].ngText==n){r=a.Items[y];break}}else for(y=0;y<a.Items.length;y++)if(a.Items[y].Text==n){r=a.Items[y];break}if(r)a=r;else if(c&&a){u=new ngListItem;0<this.Columns.length?x?(u.ngText={},u.Text={},u.ngText[g]=n,u.Text[g]=ngTxt(n)):(u.Text={},u.Text[g]=n):x?(u.ngText=n,u.Text=ngTxt(n)):u.Text=n;if(d&&!ngVal(d(this,a,u,e),!1)){a=null;break}this.Add(u,a);a=u}else{a=null;break}}k=w+
1}}catch(A){}this.EndUpdate();return a}function ngl_Scan(a,b,c){if("function"!==typeof a)return!1;if("undefined"===typeof b||null===b)b=this;if("undefined"!==typeof b.Items)for(var d=0;d<b.Items.length;d++)if(!("undefined"===typeof b.Items[d]||a(this,b.Items[d],b,c)&&this.Scan(a,b.Items[d],c)))return!1;return!0}
function ngl_ScanVisible(a,b,c){if("function"!==typeof a)return!1;if("undefined"===typeof b||null===b)b=this;if("undefined"!==typeof b.Items)for(var d=0;d<b.Items.length;d++){var e=b.Items[d];if("undefined"!==typeof e&&ngVal(e.Visible,!0)&&(!a(this,e,b,c)||!ngVal(e.Collapsed,!1)&&"undefined"!==typeof e.Items&&e.Items.length&&!this.ScanVisible(a,e,c)))return!1}return!0}
function ngl_Clear(a){if(!a||a===this)if(a=this,this.ClearSelected(),this.ItemsControls=void 0,"object"===typeof a.Items&&!a.Items.length)return;if("undefined"!==typeof a.Items){for(var b=a.Items.length-1;0<=b;b--)"undefined"!==typeof a.Items[b]&&(this.do_remove(a.Items[b],a),"undefined"!==typeof a.Items[b].Items&&this.Clear(a.Items[b]));delete a.Items}a==this&&(this.Items=[]);this.DoItemsChanged()}
function ngl_ItemId(a){if("undefined"===typeof a)return"";var b="";do{var c=this.IndexOf(a,a.Parent);if(0>c)return"";b=c+(""==b?"":"_"+b);a=a.Parent}while(a);return b}
function ngl_ItemById(a){for(var b={},c,d=[],e=0,g=a.length-1;0<=g;g--)if("_"==a.charAt(g)&&(d[e++]=parseInt(a.substring(g+1,a.length),10),a=a.substring(0,g),c=ngGetControlById(a,"ngList"))){b.list=c;b.item=c;for(g=d.length-1;0<=g;g--)b.item=b.item&&b.item.Items&&0<=d[g]&&d[g]<b.item.Items.length?b.item.Items[d[g]]:null;b.item==c&&(b.item=null);return b}b.list=null;b.item=null;return b}
function nglist_ItemById(a){var b=this;"_"!=a.charAt(a.length-1)&&(a+="_");for(var c=0;0<a.length;)if("_"==a.charAt(c)){var d=parseInt(a.substring(0,c),10);a=a.substring(c+1);if(!d.isNaN&&b.Items&&0<=d&&d<b.Items.length&&null!==b.Items[d])b=b.Items[d];else return b=null;c=0}else c++;return b==this?null:b}
function ngl_UpdateCollapsed(a,b,c,d,e,g){var k=a;if("undefined"===typeof k||null===k)k=this;e=ngVal(e,0);if("undefined"===typeof k.Items)return e;var n,r=!1;"undefined"!==typeof c&&k!=this&&ngVal(a.Collapsed,!1)!=c&&(0<k.Items.length||"undefined"!==typeof a.Collapsed)&&(r=!0,c?(a.OnCollapsing&&!ngVal(a.OnCollapsing(this,a),!1)&&(r=!1),r&&this.OnCollapsing&&!ngVal(this.OnCollapsing(this,a),!1)&&(r=!1)):(a.OnExpanding&&!ngVal(a.OnExpanding(this,a),!1)&&(r=!1),r&&this.OnExpanding&&!ngVal(this.OnExpanding(this,
a),!1)&&(r=!1)),r&&(a.Collapsed=c));if(0==k.Items.length)return e;if(0<this.update_cnt){this.need_update=!0;if("undefined"!==typeof c)for(b=0;b<k.Items.length;b++)"undefined"!==typeof k.Items[b]&&this.UpdateCollapsed(k.Items[b],!0,c,d+b,e+1,g);return e}"undefined"===typeof d&&(d=k==this?"":this.ItemId(a));var u=e;if(0<this.Columns.length){if("undefined"===typeof g)for(g=!1,b=k;!g&&b;)g=ngVal(b.Collapsed,!1),b=b.Parent;g=g||ngVal(k.Collapsed,!1);if(n=document.getElementById(this.ID+"_G"+d+"_0"))n.style.display=
g?"none":"";(n=this.OnGetTreeImg?this.OnGetTreeImg(this,k,d):this.TreeImg)&&ngc_ChangeImage(ngl_TreeImgDrawProps(this.ID+"_"+d+"T",g,this.Enabled,n));k!=this&&(d+="_");for(b=0;b<k.Items.length;b++)"undefined"!==typeof k.Items[b]&&(u=this.UpdateCollapsed(k.Items[b],!0,c,d+b,e+1,g),u>e+1&&b+1<k.Items.length&&(n=document.getElementById(this.ID+"_G"+d+(b+1))))&&(n.style.display=g?"none":"")}else{if(n=document.getElementById(this.ID+"_G"+d))n.style.display=ngVal(k.Collapsed,!1)?"none":"block";(n=this.OnGetTreeImg?
this.OnGetTreeImg(this,k,d):this.TreeImg)&&ngc_ChangeImage(ngl_TreeImgDrawProps(this.ID+"_"+d+"T",ngVal(k.Collapsed,!1),this.Enabled,n));k!=this&&(d+="_");if(ngVal(b,!1)||"undefined"!==typeof c)for(b=0;b<k.Items.length;b++)"undefined"!==typeof k.Items[b]&&this.UpdateCollapsed(k.Items[b],!0,c,d+b,e+1,g)}r&&(c?(a.OnCollapsed&&a.OnCollapsed(this,a),this.OnCollapsed&&this.OnCollapsed(this,a)):(a.OnExpanded&&a.OnExpanded(this,a),this.OnExpanded&&this.OnExpanded(this,a)),this.UpdateColumns());this.UpdateFrame();
return u}function ngl_Collapse(a){"undefined"===typeof a||ngVal(a.Collapsed,!1)||a.OnCollapsing&&!ngVal(a.OnCollapsing(this,a),!1)||this.OnCollapsing&&!ngVal(this.OnCollapsing(this,a),!1)||(a.Collapsed=!0,this.UpdateCollapsed(a,!1),this.UpdateColumns(),a.OnCollapsed&&a.OnCollapsed(this,a),this.OnCollapsed&&this.OnCollapsed(this,a))}
function ngl_Expand(a){"undefined"===typeof a||!ngVal(a.Collapsed,!1)||a.OnExpanding&&!ngVal(a.OnExpanding(this,a),!1)||this.OnExpanding&&!ngVal(this.OnExpanding(this,a),!1)||(a.Collapsed=!1,this.UpdateCollapsed(a,!1),this.UpdateColumns(),a.OnExpanded&&a.OnExpanded(this,a),this.OnExpanded&&this.OnExpanded(this,a))}function ngl_CollapseAll(a){this.UpdateCollapsed(a,!0,!0)}function ngl_ExpandAll(a){this.UpdateCollapsed(a,!0,!1)}
function ngl_ToggleCollapsed(a){"undefined"===typeof a&&(a={});a!=this&&a.Items&&(0<a.Items.length||"undefined"!==typeof a.Collapsed)&&(a.Collapsed?this.Expand(a):this.Collapse(a))}
function ngl_GetRowClassName(a,b,c){var d="Row";this.OnGetRowClassName&&(c=this.OnGetRowClassName(this,a,c),""!=ngVal(c,"")&&(d=c));if(a)if(this.Enabled&&ngVal(a.Enabled,!0))switch(a.Checked){case !0:case 1:d+="Checked";break;case 2:d+="Grayed"}else d+="Disabled";d=this.BaseClassName+d;this.Enabled&&ngVal(b,!1)&&(d=this.BaseClassName+"Selected "+d);return d}
function ngl_CheckedChanged(a){if(a=ngGetControlById(a,"ngList"))clearTimeout(a.checked_changed_timer),a.checked_changed_timer=null,a.OnCheckChanged&&a.OnCheckChanged(a)}
function ngl_do_checked(a){var b=a.Checked;this.OnItemCheckChanged&&this.OnItemCheckChanged(this,a);a.Checked==b&&((b=this.GetItemAction(a))?b.CheckRadioGroup():"undefined"!==typeof a.RadioGroup&&ngVal(a.Checked,0)&&this.radio_groups[a.RadioGroup]!=a&&(b=this.radio_groups[a.RadioGroup],this.radio_groups[a.RadioGroup]=a,b&&this.CheckItem(b,0)),this.CheckChanged())}
function ngl_CheckChanged(){clearTimeout(this.checked_changed_timer);this.checked_changed_timer=null;this.OnCheckChanged&&(this.checked_changed_timer=setTimeout("ngl_CheckedChanged('"+this.ID+"')",0<this.CheckedChangedDelay?this.CheckedChangedDelay:1))}
function ngl_UpdateChecked(a,b,c,d,e){var g=a;if("undefined"===typeof g||null===g)g=this;if("undefined"===typeof a||null===a)a={},b=ngVal(b,!0),d="";"undefined"===typeof d&&(d=g==this?"":this.ItemId(a));e=ngVal(e,0);!this.ShowCheckboxes&&"undefined"===typeof a.Checked||"undefined"===typeof c||ngVal(a.Checked,0)==c||(a.Checked=c,this.do_checked(a));var k=ngVal(a.Checked,0);if("undefined"!==typeof g.Items&&0<g.Items.length){b=ngVal(b,!1);var n=ngVal(a.CheckGroup,!1);if(n||"undefined"!==typeof c||b){!e&&
n&&2!=k&&(c=k);n||(c=void 0);for(var r,u,x=0;x<g.Items.length;x++)"undefined"!==typeof g.Items[x]&&(r=this.UpdateChecked(g.Items[x],b,c,""!=d?d+"_"+x:void 0,e+1),this.ShowCheckboxes||"undefined"!==typeof g.Items[x].Checked)&&("undefined"===typeof u?u=r:r!=u&&(u=2));n&&"undefined"!==typeof u&&(k=u)}}if(g!=this&&""!=d)if(0<this.update_cnt)this.need_update=!0;else{if(b=document.getElementById(this.ID+"_"+d))c=this.GetRowClassName(a,this.selected[d],d),x=b.className.indexOf("_Focus"),0<=x&&(c+="_Focus"),
b.className=c;(a=this.OnGetCheckImg?this.OnGetCheckImg(this,a,d):"undefined"!==typeof a.Checked||this.ShowCheckboxes?this.CheckImg:null)&&ngc_ChangeImage(ngl_CheckImgDrawProps(this.ID+"_"+d+"C",k,this.Enabled,a));if(!e){var w;for(a=g.Parent;a&&ngVal(a.CheckGroup,!1);){for(x=0;x<a.Items.length;x++)if(this.ShowCheckboxes||"undefined"!==typeof a.Items[x].Checked)if("undefined"===typeof w)w=ngVal(a.Items[x].Checked,0);else if(ngVal(a.Items[x].Checked,0)!=w){w=2;break}"undefined"===typeof w||!this.ShowCheckboxes&&
"undefined"===typeof a.Checked||w==ngVal(a.Checked,0)||(a.Checked=w,this.do_checked(a),this.UpdateChecked(a,!1));a=a.Parent}}}return k}function ngl_CheckItem(a,b){if(a){var c=this.GetItemAction(a);c&&!c.in_action_check?c.Check(b):(b=ngVal(b,1),ngVal(a.Checked,0)!=b&&(a.Checked=b,this.do_checked(a),a.Checked==b&&this.UpdateChecked(a)))}}
function ngl_CheckAllItems(a,b,c){b=ngVal(b,1);if(ngVal(c,!1)){if("undefined"===typeof a||null===a)a={Checked:b,CheckGroup:!0,Items:this.Items};this.UpdateChecked(a,!0,b,"")}else{var d=function(a){var c=a;"undefined"===typeof c||null===c?c=e:e.CheckItem(a,b);if("undefined"!==typeof c.Items&&0<c.Items.length)for(a=0;a<c.Items.length;a++)c.Items[a]&&d(c.Items[a])},e=this;d(a)}}function ngl_CheckAll(a,b){this.CheckAllItems(a,1,b)}function ngl_UncheckAll(a,b){this.CheckAllItems(a,0,b)}
function ngl_GetChecked(){var a=[];this.Scan(function(b,c,d,e){c.Checked&&a.push(c);return!0});return a}function ngl_HasChecked(){var a=!1;this.Scan(function(b,c,d,e){return c.Checked?(a=!0,!1):!0});return a}
function ngl_SetItemVisible(a,b){if(a){var c=this.GetItemAction(a);if(c&&!c.in_action_visible)c.SetVisible(b);else if(b=ngVal(b,!0),ngVal(a.Visible,!0)!=b&&(a.Visible=b,this.OnSetItemVisible&&this.OnSetItemVisible(this,a),a.Visible==b))if(0<this.update_cnt)this.need_update=!0;else if(0<this.Columns.length&&!ngIExplorer)this.Update();else if(c=document.getElementById(this.ID+"_"+this.ItemId(a)))c.style.display=a.Visible?"block":"none"}}
function ngl_SetItemEnabled(a,b){if(a){var c=this.GetItemAction(a);c?c.SetEnabled(b):(b=ngVal(b,!0),ngVal(a.Enabled,!0)!=b&&(a.Enabled=b,this.OnSetItemEnabled&&this.OnSetItemEnabled(this,a),a.Enabled==b&&this.Update()))}}
function ngl_SelectChanged(){var a,b=!1,c=0>=this.update_cnt,d=0,e=[],g;for(g in this.selected)if(ngVal(this.selected[g],!1)&&(d++,e[g]=!0,!ngVal(this.draw_selected[g],!1)&&(b=!0,c&&(a=document.getElementById(this.ID+"_"+g))))){var k=a.className,n=k.indexOf(this.BaseClassName+"Selected ");0>n&&(k=this.BaseClassName+"Selected "+k);a.className=k;this.OnRedrawSelected&&this.OnRedrawSelected(this,a,!0,g)}this.SelCount=d;for(g in this.draw_selected)!ngVal(this.selected[g],!1)&&ngVal(this.draw_selected[g],
!1)&&(b=!0,c&&(a=document.getElementById(this.ID+"_"+g)))&&(k=a.className,d=this.BaseClassName+"Selected ",n=k.indexOf(d),0<=n&&(k=k.substring(n+d.length,k.length)),a.className=k,this.OnRedrawSelected&&this.OnRedrawSelected(this,a,!1,g));this.draw_selected=e;b&&this.OnSelectChanged&&(this.OnSelectChanged(this),0<this.update_cnt&&(this.need_update=!0))}
function ngl_SelectItem(a,b){if(a){b=ngVal(b,!0);var c=this.ItemId(a);""!=c&&ngVal(this.selected[c],!1)!=b&&(b?(this.last_selected=c,this.selected[c]=!0):delete this.selected[c],this.SelectChanged())}}function ngl_ClearSelected(){this.last_selected="";this.selected={};this.SelectChanged()}function ngl_GetSelected(){var a,b=[],c;for(c in this.selected)ngVal(this.selected[c],!1)&&(a=ngl_ItemById(this.ID+"_"+c),a.item&&(b[b.length]=a.item));return b}
function ngl_SetSelected(a){this.last_selected="";this.selected={};if(a&&"object"===typeof a){var b,c;for(c in a)b=a[c],b=this.ItemId(b),""!=b&&(this.last_selected=b,this.selected[b]=!0)}this.SelectChanged()}function ngl_IsItemSelected(a){a=this.ItemId(a);return""==a?!1:ngVal(this.selected[a],!1)}function ngl_GetItemFocus(){var a=ngl_ItemById(ngl_CurrentRowId);return a.list==this?a.item:null}
function ngl_SetItemFocus(a){if(a){var b=this.ItemId(a);if(""!=b){for(a=a.Parent;a;)a.Collapsed&&this.Expand(a),a=a.Parent;b=this.ID+"_"+b;if(b!=ngl_CurrentRowId&&(ngl_FocusTime=(new Date).getTime(),(g=document.getElementById(b))&&ngl_EnterRow(!1,g,null!=this.OnEnterRow||null!=this.OnLeaveRow),(b=this.ContentElm)&&g)){a=ng_ClientHeight(g);var c=ng_ClientHeight(b),d=0,e=document.getElementById(this.ID+"_FH");e&&(d=ng_ClientHeight(e));if(g.offsetTop<b.scrollTop+d||g.offsetTop+a>b.scrollTop+c)a=g.offsetTop-
d,0>a&&(a=0),b.scrollTop=a}}}else if(ngl_ItemById(ngl_CurrentRowId).list==this){var g=document.getElementById(ngl_CurrentRowId);g&&ngl_LeaveRow(!1,g,null!=this.OnEnterRow||null!=this.OnLeaveRow)}}var ngl_ActSortList=null;
function ngl_SortFnc(a,b){var c=ngl_ActSortList;if(c.OnCompareItem)return c.OnCompareItem(c,a,b);var d="",e="";0<c.Columns.length?(d="object"===typeof a.Text?a.Text[c.SortColumn]:"",e="object"===typeof b.Text?b.Text[c.SortColumn]:""):(d=a.Text,e=b.Text);d=ngVal(d,"");e=ngVal(e,"");c.SortCaseSensitive||("string"===typeof d&&(d=d.toLowerCase()),"string"===typeof e&&(e=e.toLowerCase()));var g=0;d<e?g=-1:d>e&&(g=1);1==c.SortDir&&(g=-g);return g}
function ngl_Sort(a,b,c,d){if("undefined"===typeof a||null===a)a=this;if("undefined"!==typeof a.Items&&0<a.Items.length){c=ngVal(c,0);c||(ngl_ActSortList=this,0<this.Columns.length&&""==ngVal(this.SortColumn,"")&&(this.SortColumn=this.Columns[0].ID));""==ngVal(d,"")&&(d=this.ItemId(a),""!=d&&(d+="_"));if(ngVal(b,!0))for(b=0;b<a.Items.length;b++)this.Sort(a.Items[b],!0,c+1,d+b+"_");if(0<this.SelCount){var e=[];for(b=0;b<a.Items.length;b++)ngVal(this.selected[d+b],!1)&&(e.push(a.Items[b]),delete this.selected[d+
b])}a.Items.sort(ngl_SortFnc);if(0<this.SelCount&&0<e.length)for(b=0;b<a.Items.length;b++)for(var g=0;g<e.length;g++)if(a.Items[b]==e[g]){e.splice(g,1);this.selected[d+b]=!0;break}c||(ngl_ActSortList=null,this.Update())}}function ngl_FindCompare(a,b,c){if("string"!==typeof c)return c==b;a.ignorecase&&(c=c.toLowerCase());switch(a.partial){case 1:return b=""+b,b.length>c.length?!1:c.substring(0,b.length)==b;case 2:return 0<=c.indexOf(""+b);default:return c==b}}
function ngl_FindItemCallback(a,b,c,d){var e;if("undefined"!==typeof d.fromitem)return d.fromitem==b&&delete d.fromitem,!0;if(0<a.Columns.length)for(c=0;c<d.cols.length;c++){if(e=d.cols[c],e=d.ongetsearchtext?ngVal(d.ongetsearchtext(a,b,e),""):a.OnGetText?ngVal(a.OnGetText(a,b,e),""):"object"===typeof b.Text?ngVal(b.Text[e.ID],""):"",!ngl_FindCompare(d,d.key[c],e))return!0}else if(e=d.ongetsearchtext?ngVal(d.ongetsearchtext(a,b),""):a.OnGetText?ngVal(a.OnGetText(a,b),""):ngVal(b.Text,""),!ngl_FindCompare(d,
d.key,e))return!0;d.found=b;return!1}
function ngl_FindItem(a,b,c,d,e,g){var k={};k.ignorecase=ngVal(c,!0);k.ongetsearchtext=ngVal(g,null);if("object"===typeof a){if(0>=this.Columns.length)return null;c=[];g=[];var n,r,u;for(n in a)for(r=0;r<this.Columns.length;r++)u=this.Columns[r],"object"===typeof u&&u.ID==n&&(c[c.length]=k.ignorecase?(""+a[n]).toLowerCase():a[n],g[g.length]=u);if(!g.length)return null;k.key=c;k.cols=g}else k.key=k.ignorecase?(""+a).toLowerCase():a,0<this.Columns.length&&(k.key=[k.key],k.cols=[this.Columns[0]]);k.found=
null;k.fromitem=e;k.partial=ngVal(b,0);ngVal(d,!1)?this.ScanVisible(ngl_FindItemCallback,null,k):this.Scan(ngl_FindItemCallback,null,k);return k.found}function ngl_FindItemByIDCallback(a,b,c,d){if(!b.ID||b.ID!=d.ID)return!0;d.found=b;return!1}function ngl_FindItemByID(a){var b={};b.ID=a;b.found=null;this.Scan(ngl_FindItemByIDCallback,null,b);return b.found}
function ngl_DoDropDown(a){this.SetVisible(!0);if(!ngVal(a.Suggestion,!1)){var b=a.ListItem;"undefined"===typeof b&&(a=a.GetText(),b=this.FindItem(a,""===a?0:1));this.DropDownOwnerListItem=b}}function ngl_DoDropDownFinished(a){ngVal(a.Suggestion,!1)||((a=this.DropDownOwnerListItem)&&this.SetItemFocus(a),this.SetFocus())}
function ngl_SelectDropDownItem(a){var b=ngVal(this.DropDownOwnerListItem,null);delete this.DropDownOwnerListItem;var c=this.DropDownOwner;if(c){a=ngVal(a,null);c.DropDownType==ngeDropDownList&&(c.ListItem=a);if(c.OnListItemChanged&&(null===b||b!=a)&&!ngVal(c.OnListItemChanged(c,this,a,b),!1))return!1;b="";a&&("string"===typeof a.Text?b=a.Text:0<this.Columns.length&&"object"===typeof a.Text&&(b=a.Text[this.Columns[0]]),ngVal(c.Suggestion,!1)&&c.OnSuggestionSetText&&(b=c.OnSuggestionSetText(b,a),""==
b&&(b=void 0)));c.OnListItemGetText&&(b=c.OnListItemGetText(c,this,a,b));"undefined"!==typeof b&&"function"===typeof c.SetText&&c.SetText(b);c.HideDropDown&&c.HideDropDown()}return!0}function ngl_SelectDropDownItemWithFocus(a){a=this.SelectDropDownItem(a);var b=this.DropDownOwner;a&&b&&b.SetFocus();return a}
function ngl_GetClickInfo(a,b,c){for(var d={list:null,item:null},e=b;e;){if(""!=ngVal(e.id,"")){d=ngl_ItemById(e.id);if(null!==d.item)break;d.list=null}e=e.parentNode}if(a.gesture){var g=a.gesture.srcEvent;g&&(a.altKey=g.altKey,a.ctrlKey=g.ctrlKey,a.shiftKey=g.shiftKey)}a.listObj=b;a.listRowObj=e;a.listPart=c;a.listCol=-1;a.Owner=d.list;a.list=d.list;a.listItem=d.item;if(a.list&&0!=a.listPart&&0<a.list.Columns.length){for(b=a.listObj;b&&"undefined"===typeof b.cellIndex;)b=b.parentNode;b&&(a.listCol=
b.cellIndex)}}function ngl_DoPtrStart(a){var b=a.EventID;"item"===b.substr(0,4)&&(b=parseInt(b.substring(4,b.length),10),ngl_GetClickInfo(a.StartEvent,a.StartElement,b),a.SrcElement=a.StartEvent.listRowObj,a.Touch&&ngl_EnterRow(a.Event,a.StartEvent.listRowObj,null!=this.OnEnterRow||null!=this.OnLeaveRow))}
function ngl_DoPtrDrag(a){"item"===a.EventID.substr(0,4)&&a.Touch&&(a.IsInSrcElement()?ngl_CurrentRowId!=a.StartEvent.listRowObj.id&&ngl_EnterRow(a.Event,a.StartEvent.listRowObj,null!=this.OnEnterRow||null!=this.OnLeaveRow):ngl_CurrentRowId==a.StartEvent.listRowObj.id&&ngl_LeaveRow(a.Event,a.StartEvent.listRowObj,null!=this.OnEnterRow||null!=this.OnLeaveRow));return!1}function ngl_DoGesture(a){return ngc_HandleScrollGesture(this,a,this.ContentElm)}
function ngl_DoPtrEnd(a){"item"===a.EventID.substr(0,4)&&a.Touch&&a.IsInSrcElement()&&ngl_CurrentRowId==a.StartEvent.listRowObj.id&&ngl_LeaveRow(a.Event,a.StartEvent.listRowObj,null!=this.OnEnterRow||null!=this.OnLeaveRow)}
function ngl_DoPtrClick(a){if(this.MouseEvents&&!this.ReadOnly&&!("undefined"!==typeof a.ScrollTop&&10<Math.abs(a.Y-a.StartY))){var b=a.EventID,c=b.substr(0,4);if("item"===c){if(!(200<a.EndTime-a.StartTime)||a.IsInSrcElement()){var c=a.StartEvent,d=parseInt(b.substring(4,b.length),10);ngl_GetClickInfo(c,a.StartElement,d);this.ClickItem(c.listItem,c);"item0"!==b&&ng_inDOM(a.StartElement)&&(ngl_GetClickInfo(c,a.StartElement,0),this.ClickItem(c.listItem,c))}}else"capt"===c&&(c=a.StartEvent,d=parseInt(b.substring(4,
b.length),10),c.gesture&&(a=c.gesture.srcEvent)&&(c.altKey=a.altKey,c.ctrlKey=a.ctrlKey,c.shiftKey=a.shiftKey),this.OnCaptionClick&&this.OnCaptionClick(c,this,d,this.StartElement))}}
function ngl_DoPtrDblClick(a){if(this.MouseEvents&&!this.ReadOnly){var b=a.EventID,c=b.substr(0,4);if("item"===c){if(!(200<=a.EndTime-a.StartTime)||a.IsInSrcElement()){var c=a.StartEvent,d=parseInt(b.substring(4,b.length),10);ngl_GetClickInfo(c,a.StartElement,d);!c.listItem||!ngVal(c.listItem.Enabled,!0)||c.listItem.OnDblClick&&!ngVal(c.listItem.OnDblClick(c),!1)||this.OnDblClick&&!ngVal(this.OnDblClick(c),!1)||(1!=c.listPart&&4!=c.listPart||this.ToggleCollapsed(c.listItem),this.OnDblClickItem&&c.listPart&&
this.OnDblClickItem(c),"item0"!==b&&(a.EventID="item0",this.DoPtrDblClick(a),a.EventID=b))}}else"capt"===c&&(c=a.StartEvent,d=parseInt(b.substring(4,b.length),10),this.OnCaptionDblClick&&this.OnCaptionDblClick(c,this,d,this.StartElement))}}
function ngl_ClickItem(a,b){"undefined"===typeof b&&(b={});b.list!=this&&(b.Owner=this,b.list=this,b.listItem=a,b.listObj=null,b.listRowObj=null,b.listPart=0,b.listCol=-1,this.ClickItem(a,b),b.listPart=1,b.listCol=0<this.Columns.length?0:-1,b.listIgnoreSelect=!1);if(b.list.Enabled&&!ngVal(b.list.ReadOnly,!1)&&a&&ngVal(a.Enabled,!0)){var c=b.listIgnoreAction?null:this.GetItemAction(a);b.listPart||c&&c.in_action_click||(150>(new Date).getTime()-this.ignore_select&&(b.listIgnoreSelect=!0),this.ignore_select=
0);if(b.listPart||!c||c.in_action_click)if(a.OnClick&&!ngVal(a.OnClick(b),!1)||this.OnClick&&!ngVal(this.OnClick(b),!1)){b.listIgnoreSelect&&b.listPart&&(this.ignore_select=(new Date).getTime());return}switch(b.listPart){case 0:case 2:if(0==b.listPart&&b.listIgnoreSelect)break;if(2==b.listPart||5==this.SelectType){if(c)break;if(this.ShowCheckboxes||"undefined"!==typeof a.Checked){if(this.RadioAllowUncheck||ngVal(a.RadioAllowUncheck,!1)||"undefined"===typeof a.RadioGroup){var d=ngVal(a.Checked,0);
switch(d){case 0:case !1:d=ngVal(a.AllowGrayed,!1)?2:1;break;case 1:case !0:d=0;break;default:d=1}this.CheckItem(a,d)}else this.CheckItem(a,1);b.listIgnoreSelect=!0}break}if(this.DropDownOwner)this.SelectDropDownItemWithFocus(a);else{if(!this.SelectType)break;var e;try{d=ngVal(b.shiftKey,!1),e=ngVal(b.ctrlKey,!1)}catch(n){e=d=!1}if(1==this.SelectType||3==this.SelectType&&!e&&!d)this.selected={};if(2!=this.SelectType&&3!=this.SelectType||!d||""==this.last_selected)4==this.SelectType?(d=!ngVal(this.selected[this.ItemId(a)],
!1),this.selected={},this.SelectItem(a,d),this.SelectChanged()):this.SelectItem(a,!ngVal(this.selected[this.ItemId(a)],!1));else{var d=!ngVal(this.selected[this.ItemId(a)],!1),g=ngl_ItemById(this.ID+"_"+this.last_selected);if(g.item){e=[g.item];for(var k=g.item;null!=(k=this.NextVisibleItem(k))&&(ngVal(k.Enabled,!0)&&(e[e.length]=k),k!=a););if(!k)for(k=g.item,e=[g.item];null!=(k=this.PrevVisibleItem(k))&&(ngVal(k.Enabled,!0)&&(e[e.length]=k),k!=a););if(k){for(g=0;g<e.length;g++)d?this.selected[this.ItemId(e[g])]=
!0:delete this.selected[this.ItemId(e[g])];this.SelectChanged();break}}}}break;case 3:this.ToggleCollapsed(a),b.listIgnoreAction=!0,b.listIgnoreSelect=!0}b.listIgnoreAction&&(c=null);d=!1;b.listPart?b.listIgnoreSelect&&(this.ignore_select=(new Date).getTime(),d=!0):b.listIgnoreSelect||(d=!0);d&&(c&&!c.in_action_click?3!=b.listPart&&c.Click(b):(a.OnClickItem&&a.OnClickItem(b),this.OnClickItem&&this.OnClickItem(b)))}}
function ngl_DoMouseEnter(a,b,c){ngl_LeaveListTimer&&clearTimeout(ngl_LeaveListTimer);ngl_LeaveListTimer=null;ngc_EnterBox(this.ID);b&&b.Object&&b.Object!=this&&ngl_DoLeave(b.Object.ID);this.OnMouseEnter&&this.OnMouseEnter(this)}
function ngl_DoLeave(a){ngl_LeaveListTimer&&clearTimeout(ngl_LeaveListTimer);ngl_LeaveListTimer=null;var b=ngGetControlById(a,"ngList");if(b){if(ngl_ItemById(ngl_CurrentRowId).list==b){var c=document.getElementById(ngl_CurrentRowId);c&&ngl_LeaveRow(!1,c,null!=b.OnEnterRow||null!=b.OnLeaveRow)}ngc_LeaveBox(a);b.OnMouseLeave&&b.OnMouseLeave(b)}}function ngl_DoMouseLeave(a){ngl_LeaveListTimer=setTimeout("ngl_DoLeave('"+this.ID+"');",100)}
var ngl_LeaveRowTimer=null,ngl_LeaveRowElement=null,ngl_LeaveRowEnterLeave=!1;
function ngl_EnterRow(a,b,c){a||!1===a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){var d=(new Date).getTime();if(!(a&&d<ngl_FocusTime+200)){if(ngl_LeaveRowTimer){clearTimeout(ngl_LeaveRowTimer);ngl_LeaveRowTimer=null;if(ngl_LeaveRowElement&&ngl_LeaveRowElement.id==b.id){ngl_LeaveRowElement=null;return}ngl_DoLeaveRow()}d=b.className;if(""!=ngl_CurrentRowId){var e=document.getElementById(ngl_CurrentRowId);ngl_LeaveRow(a,e,c)}ngl_CurrentRowId=b.id;0>d.indexOf("_Focus")&&
(d+="_Focus");b.className=d;ngc_EnterImg(b.id+"C");ngc_EnterImg(b.id+"T");ngc_EnterImg(b.id+"I");c&&(a=ngl_ItemById(b.id),a.list&&a.list.OnEnterRow&&a.list.OnEnterRow(a.list,a.item,b.id))}}}
function ngl_LeaveRow(a,b,c){a||!1===a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))&&b){var d=(new Date).getTime();a&&d<ngl_FocusTime+200||(ngl_LeaveRowTimer&&(clearTimeout(ngl_LeaveRowTimer),ngl_LeaveRowTimer=null,ngl_LeaveRowElement&&ngl_LeaveRowElement.id!=b.id&&ngl_DoLeaveRow()),ngl_LeaveRowElement=b,ngl_LeaveRowEnterLeave=c,a?ngl_LeaveRowTimer=setTimeout("ngl_DoLeaveRow()",50):ngl_DoLeaveRow())}}
function ngl_DoLeaveRow(){ngl_LeaveRowTimer&&clearTimeout(ngl_LeaveRowTimer);ngl_LeaveRowTimer=null;var a=ngl_LeaveRowElement,b=ngl_LeaveRowEnterLeave;ngl_LeaveRowElement=null;if(a){var c=a.className;ngl_CurrentRowId==a.id&&(ngl_CurrentRowId="");var d=c.indexOf("_Focus");0<=d&&(c=c.substring(0,d));a.className=c;ngc_LeaveImg(a.id+"C");ngc_LeaveImg(a.id+"T");ngc_LeaveImg(a.id+"I");b&&(b=ngl_ItemById(a.id),b.list&&b.list.OnLeaveRow&&b.list.OnLeaveRow(b.list,b.item,a.id))}}
function ngl_FirstVisibleItem(a,b){var c=a;if("undefined"===typeof c||null===c)c=this;if("undefined"!==typeof c.Items&&0<c.Items.length)for(var d,e=0;e<c.Items.length;e++)if(d=c.Items[e],"undefined"===typeof d&&(d={}),ngVal(d.Visible,!0)&&(!b||ngVal(d.Enabled,!0))&&document.getElementById(this.ID+"_"+this.ItemId(d))||!ngVal(d.Collapsed,!1)&&"undefined"!==typeof d.Items&&0<d.Items.length&&(d=this.FirstVisibleItem(d,b)))return d;return null}
function ngl_LastVisibleItem(a,b){var c=a;if("undefined"===typeof c||null===c)c=this;if("undefined"!==typeof c.Items&&0<c.Items.length)for(var d,e=c.Items.length-1;0<=e;e--){d=c.Items[e];"undefined"===typeof d&&(d={});if(!ngVal(d.Collapsed,!1)&&"undefined"!==typeof d.Items&&0<d.Items.length){var g=this.LastVisibleItem(d,b);if(g)return g}if(ngVal(d.Visible,!0)&&(!b||ngVal(d.Enabled,!0))&&document.getElementById(this.ID+"_"+this.ItemId(d)))return d}return null}
function ngl_NextVisibleItem(a,b,c){if(!a)return this.FirstVisibleItem(a,c);var d=ngVal(a.Parent,null);d||(d=this);var e,g,k=!1;!ngVal(a.Visible,!0)||c&&!ngVal(a.Enabled,!0)||document.getElementById(this.ID+"_"+this.ItemId(a))&&(k=!0);for(e=0;e<d.Items.length;e++)if(g=d.Items[e],g==a){if(ngVal(b,!0)&&!ngVal(a.Collapsed,!1)&&(g=this.FirstVisibleItem(a,c))&&document.getElementById(this.ID+"_"+this.ItemId(g)))return g;for(e++;e<d.Items.length;e++){g=d.Items[e];"undefined"===typeof g&&(g={});if(ngVal(g.Visible,
!0)&&(!c||ngVal(g.Enabled,!0))&&document.getElementById(this.ID+"_"+this.ItemId(g)))return g;if(!ngVal(g.Collapsed,!1)&&(a=this.FirstVisibleItem(g,c)))return a}return d==this?k?null:this.FirstVisibleItem(null,c):this.NextVisibleItem(d,!1,c)}return k?null:this.FirstVisibleItem(null,c)}
function ngl_PrevVisibleItem(a,b,c){if(!a)return this.LastVisibleItem(a,c);(b=ngVal(a.Parent,null))||(b=this);var d,e,g=!1;!ngVal(a.Visible,!0)||c&&!ngVal(a.Enabled,!0)||document.getElementById(this.ID+"_"+this.ItemId(a))&&(g=!0);for(d=b.Items.length-1;0<=d;d--)if(e=b.Items[d],e==a){for(d--;0<=d;d--){e=b.Items[d];"undefined"===typeof e&&(e={});if(!ngVal(e.Collapsed,!1)&&(a=this.LastVisibleItem(e,c)))return a;if(ngVal(e.Visible,!0)&&(!c||ngVal(e.Enabled,!0))&&document.getElementById(this.ID+"_"+this.ItemId(e)))return e}if(b==
this)break;return ngVal(b.Visible,!0)&&(!c||ngVal(b.Enabled,!0))&&document.getElementById(this.ID+"_"+this.ItemId(b))?b:this.PrevVisibleItem(b,c)}return g?null:this.LastVisibleItem(null,c)}
function ngl_KeyDown(a){a||(a=window.event);ngl_FocusTime=(new Date).getTime();var b=ngGetControlById(this.id,"ngList");if(b&&b.Enabled&&b.KeyEvents&&!b.ReadOnly){var c=b.DropDownOwner,d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===b||d==c){a.Owner=b;if(b.OnKeyDown&&!ngVal(b.OnKeyDown(a),!1))return!1;c=a.keyCode;switch(c){case 9:if(!b.DropDownOwner)break;a.preventDefault&&a.preventDefault();a.returnValue=!1;case 27:if(a=b.DropDownOwner)a.HideDropDown&&a.HideDropDown(),
a.SetFocus();break;case 33:case 34:case 38:case 35:case 36:case 40:a=ngl_ItemById(ngl_CurrentRowId);a.list!=b&&(a.list=b,a.item=null);switch(c){case 40:a.item=b.NextVisibleItem(a.item,!0,!0);break;case 38:a.item=b.PrevVisibleItem(a.item,!0,!0);break;case 36:a.item=b.FirstVisibleItem(null,!0);break;case 35:a.item=b.LastVisibleItem(null,!0);break;case 33:for(d=0;d<b.PageSize;d++){c=b.PrevVisibleItem(a.item,!0,!0);if(!c)break;a.item=c}break;case 34:for(d=0;d<b.PageSize;d++){c=b.NextVisibleItem(a.item,
!0,!0);if(!c)break;a.item=c}}a.item&&(b.SetItemFocus(a.item),b.ItemId(a.item));return!1;case 37:a=ngl_ItemById(ngl_CurrentRowId);a.list!=b&&(a.list=b,a.item=null);a.item&&"undefined"!==typeof a.item.Items&&0<a.item.Items.length&&b.Collapse(a.item);break;case 39:a=ngl_ItemById(ngl_CurrentRowId);a.list!=b&&(a.list=b,a.item=null);a.item&&"undefined"!==typeof a.item.Items&&0<a.item.Items.length&&b.Expand(a.item);break;case 32:case 13:if(d=document.getElementById(ngl_CurrentRowId))ngl_GetClickInfo(a,d,
32==c?2:1),b.ClickItem(a.listItem,a),ngl_GetClickInfo(a,d,0),b.ClickItem(a.listItem,a);return!1}}}}function ngl_KeyUp(a){a||(a=window.event);var b=ngGetControlById(this.id,"ngList");if(b&&b.Enabled&&b.KeyEvents&&!b.ReadOnly){var c=b.DropDownOwner,d=ngGetControlByElement(a.target||a.srcElement||a.originalTarget);if(!d||d===b||d==c)if(a.Owner=b,b.OnKeyUp&&!ngVal(b.OnKeyUp(a),!1))return!1}}
function ngl_CheckImgDrawProps(a,b,c,d){b=ngc_ImgProps(a,b,c,d);ngl_CurrentRowId==a.substring(0,a.length-1)?(b.aL=b.oL,b.aT=b.oT):(b.aL=b.L,b.aT=b.T);return b}function ngl_TreeImgDrawProps(a,b,c,d){b=ngc_ImgProps(a,b,c,d);ngl_CurrentRowId==a.substring(0,a.length-1)?(b.aL=b.oL,b.aT=b.oT):(b.aL=b.L,b.aT=b.T);return b}function ngl_ItemImgDrawProps(a,b,c){b=ngc_ImgDrawProps(a,"","",0,b,c);ngl_CurrentRowId==a.substring(0,a.length-1)?(b.aL=b.oL,b.aT=b.oT):(b.aL=b.L,b.aT=b.T);return b}
function ngl_CreateImage(a,b,c,d,e,g){ngc_Img(a,b,"position:absolute; margin-left: "+ngVal(c.x,e)+"px;"," "+ngc_PtrEventsHTML(this,"item"+d,"tap drag"+(g?" doubletap":""))+" "+ngVal(c.Attrs,""))}function ngl_ActionSetItemVisible(a,b){b&&this.SetItemVisible(b,a)}function ngl_ActionItemCheck(a,b){b&&this.CheckItem(b,a)}function ngl_ActionItemClick(a,b){b&&this.ClickItem(b,a)}
function ngl_DoActionUpdate(a){if(a=ngGetControlById(a))a.ActionUpdateTimer&&clearTimeout(a.ActionUpdateTimer),a.ActionUpdateTimer=null,a.Update()}function ngl_ActionItemUpdate(a){this.ActionUpdateTimer&&clearTimeout(this.ActionUpdateTimer);this.ActionUpdateTimer=setTimeout("ngl_DoActionUpdate('"+this.ID+"')",100)}
function ngl_SetItemAction(a,b){if(!a||"string"===typeof b&&(b=ngGetControlById(b),!b))return null;b=ngVal(b,null);var c=ngVal(a.Action,null);if(c==b)return b;c&&c.RemoveControl&&c.RemoveControl(this,a);(a.Action=b)&&b.AddControl&&b.AddControl(this,a);this.SyncItemAction(a);return b}function ngl_GetItemAction(a){if(!a)return null;var b=ngVal(a.Action,null);"string"===typeof b&&(b=this.SetItemAction(a,b));return b}
function ngl_SyncItemAction(a,b){if(!a)return null;"undefined"===typeof b&&(b=this.GetItemAction(a));b&&(a.Visible=b.Visible,a.Enabled=b.Enabled,a.Checked=b.Checked,a.Image=b.GetImg(),0<this.Columns.length?a.Text[this.Columns[0].ID]=b.GetText():a.Text=b.GetText(),a.Alt=b.GetAlt())}
function ngl_DrawItemText(a,b,c,d){if(!this.OnDrawItemText||ngVal(this.OnDrawItemText(this,a,b,c,d),!1)){var e,g,k;e=ngVal(b.Checked,0);k=ngVal(b.Enabled,!0);var n=ngVal(this.selected[c],!1);n&&(this.draw_selected[c]=!0);var r=null!=this.OnEnterRow||null!=this.OnLeaveRow,u=this.OnDblClick||b.OnDblClick;g=u||this.OnDblClickItem;var x=b.Items&&(0<b.Items.length||"undefined"!==typeof b.Collapsed),w=this.BaseClassName,y=" "+ngc_PtrEventsHTML(this,"item0","tap drag"+(u?" doubletap":""))+' onmouseover="ngl_EnterRow(event,this,'+
(r?"1":"0")+');" onmouseout="ngl_LeaveRow(event,this,'+(r?"1":"0")+');"',r=" "+ngc_PtrEventsHTML(this,"item1","tap drag"+(g||x?" doubletap":"")),u=this.ListIndent,A=ngVal(b.MinHeight,this.MinItemHeight),A=ngVal(A,0),z;this.OnMeasureItem&&(z=this.OnMeasureItem(this,b,c,d));"undefined"===typeof z&&(z=b.H);"undefined"===typeof z&&(z=this.ItemHeight);if(this.OnCalcIndent)u+=this.OnCalcIndent(this,b,c,d);else if("object"===typeof this.Indent&&this.Indent&&0<this.Indent.length)var B=this.Indent.length,
u=d>=B?u+(this.Indent[B-1]+(d-B+1)*this.DefaultIndent):u+this.Indent[d];else u+=d*(this.Indent?this.Indent:this.DefaultIndent);var B=null,D=0;if(d=this.OnGetItemImg?this.OnGetItemImg(this,b,c,d):ngVal(b.Image,this.ItemImg))"undefined"===typeof d.x&&(D-=ngVal(d.sx,d.W)),B||(B=new ngStringBuilder),d.H>A&&(A=d.H),ngl_CreateImage(B,ngl_ItemImgDrawProps(this.ID+"_"+c+"I",this.Enabled&&k,d),d,4,D,g||x);if(d=this.OnGetCheckImg?this.OnGetCheckImg(this,b,c):"undefined"!==typeof b.Checked||this.ShowCheckboxes?
this.CheckImg:null)"undefined"===typeof d.x&&(D-=ngVal(d.sx,d.W)),B||(B=new ngStringBuilder),d.H>A&&(A=d.H),ngl_CreateImage(B,ngl_CheckImgDrawProps(this.ID+"_"+c+"C",e,this.Enabled&&k,d),d,2,D,g);if("undefined"!==typeof b.Collapsed||"undefined"!==typeof b.Items&&0<b.Items.length)if(d=this.OnGetTreeImg?this.OnGetTreeImg(this,b,c):this.TreeImg)"undefined"===typeof d.x&&(D-=ngVal(d.sx,d.W)),B||(B=new ngStringBuilder),d.H>A&&(A=d.H),ngl_CreateImage(B,ngl_TreeImgDrawProps(this.ID+"_"+c+"T",ngVal(b.Collapsed,
!1),this.Enabled&&k,d),d,3,D,g);"undefined"!==typeof z&&(A=-1);if(0<this.Columns.length){a.append('<tr class="'+this.GetRowClassName(b,n,c)+'" '+(ngVal(b.Visible,!0)?"":'style="display:none;" ')+'id="'+this.ID+"_"+c+'"'+y+">");for(n=0;n<this.Columns.length;n++)c=this.Columns[n],a.append('<td valign="'+ngVal(c.VAlign,"top")+'" align="'+c.Align+'"'+(0<A?' height="'+A+'"':"")+">"),g=this.OnGetAlt?ngVal(this.OnGetAlt(this,b,c),""):"string"===typeof b.Alt?b.Alt:"object"===typeof b.Alt?ngVal(b.Alt[c.ID],
""):"",n||(a.append("<div "),""!=g&&a.append('title="'+ng_htmlEncode(g)+'" '),a.append('style="padding-left: '+u+"px;"+("undefined"!==typeof z?"height:"+z+"px;":"")+'">'),a.append(B)),e=this.OnGetText?ngVal(this.OnGetText(this,b,c),""):"object"===typeof b.Text?ngVal(b.Text[c.ID],""):"",this.HTMLEncode&&(e=ng_htmlEncode(e,!0)),(k=""==e)&&(e='<div style="width:0px;position:relative;overflow:hidden;">&nbsp;</div>'),"undefined"!==typeof b.ControlsHolder&&"undefined"!==typeof b.ControlsHolder[c.ID]?(k||
(a.append('<div class="'+w+'Text"'+r),n&&""!=g&&a.append(' title="'+ng_htmlEncode(g)+'"'),a.append(">"+e+"</div>")),a.append('<div style="position:relative;height:1px;">'),a.append(b.ControlsHolder[c.ID].innerHTML),a.append("</div>")):(a.append('<div class="'+w+'Text"'+r),n&&""!=g&&a.append(' title="'+ng_htmlEncode(g)+'"'),a.append(">"+e+"</div>")),n||a.append("</div>"),a.append("</td>");a.append("</tr>")}else e=this.OnGetText?ngVal(this.OnGetText(this,b),""):ngVal(b.Text,""),this.HTMLEncode&&(e=
ng_htmlEncode(e,!0)),(k=""==e)&&(e='<div style="width:0px;position:relative;overflow:hidden;">&nbsp;</div>'),g=this.OnGetAlt?ngVal(this.OnGetAlt(this,b),""):ngVal(b.Alt,""),a.append('<div class="'+this.GetRowClassName(b,n,c)+'" '),""!=g&&a.append('title="'+ng_htmlEncode(g)+'" '),z=("undefined"!==typeof z?"height:"+z+"px;":"")+(ngVal(b.Visible,!0)?"":"display:none;"),""!=z&&(z=' style="'+z+'"'),a.append('id="'+this.ID+"_"+c+'"'+z+y+">"),a.append('<div style="position:relative;padding-left: '+u+'px;">'),
0<A&&a.append('<div style="float:left;width:0px;height:'+A+'px;"></div>'),B&&a.append(B),"undefined"!==typeof b.ControlsHolder?(k||a.append('<div class="'+w+'Text" style="position:relative;"'+r+">"+e+"</div>"),a.append('<div style="position:relative;height:1px;">'),a.append(b.ControlsHolder.innerHTML),a.append("</div>")):a.append('<div class="'+w+'Text" style="position:relative;"'+r+">"+e+"</div>"),0<A&&a.append('<div style="clear:both;height:0px;overflow:hidden;"></div>'),a.append("</div></div>")}}
function ngl_DrawItem(a,b,c,d,e){"undefined"===typeof b&&(b={});var g=this.GetItemAction(b);this.SyncItemAction(b,g);var k=ngVal(b.Checked,0),n={l:d,s:k};g?g.CheckRadioGroup():"undefined"!==typeof b.RadioGroup&&k&&this.radio_groups[b.RadioGroup]!=b&&(g=this.radio_groups[b.RadioGroup],this.radio_groups[b.RadioGroup]=b,g&&this.CheckItem(g,0));if(this.OnDrawItem&&!ngVal(this.OnDrawItem(this,n,a,b,c,d,e),!1))return n;(k=ngVal(b.CheckGroup,!1))?g=new ngStringBuilder:(g=a,this.DrawItemText(a,b,c,d));if(0<
this.Columns.length){if(e=e||ngVal(b.Collapsed,!1),"undefined"!==typeof b.Items&&0<b.Items.length){0<d&&g.append("</tbody>");g.append('<tbody id="'+this.ID+"_G"+c+'_0"'+(e?' style="display:none;"':"")+">");for(var r,u=d,x,w=0;w<b.Items.length;w++){r=this.DrawItem(g,b.Items[w],c+"_"+w,d+1,e);u=r.l;if(this.ShowCheckboxes||"undefined"!==typeof b.Items[w].Checked)"undefined"===typeof x?x=r.s:r.s!=x&&(x=2);u>d+1&&(g.append("</tbody>"),w+1<b.Items.length&&g.append('<tbody id="'+this.ID+"_G"+c+"_"+(w+1)+
'"'+(e?' style="display:none;"':"")+">"));k&&"undefined"!==typeof x&&(b.Checked=x,n.s=x)}n.l=u}}else if("undefined"!==typeof b.Items&&0<b.Items.length){g.append('<div id="'+this.ID+"_G"+c+'" level="'+d+'" style="display:'+(ngVal(b.Collapsed,!1)?"none":"block")+';">');for(w=0;w<b.Items.length;w++)if(r=this.DrawItem(g,b.Items[w],c+"_"+w,d+1),this.ShowCheckboxes||"undefined"!==typeof b.Items[w].Checked)"undefined"===typeof x?x=r.s:r.s!=x&&(x=2);g.append("</div>");k&&"undefined"!==typeof x&&(b.Checked=
x,n.s=x)}k&&(this.DrawItemText(a,b,c,d),a.append(g),delete g);return n}
function ngl_CalcIndent(){for(var a,b,c,d=0,e=null,g=0;g<this.Items.length||!g;g++){0<this.Items.length&&(e=this.Items[g]);e||(e=new ngListItem(":MeasureImg:"));b=0;if(this.OnGetItemImg||this.OnGetCheckImg||this.OnGetTreeImg)a=this.ItemId(e);this.OnGetItemImg?c=this.OnGetItemImg(this,e,a,0):(this.SyncItemAction(e),c=ngVal(e.Image,this.ItemImg));c&&(b+=ngVal(c.W,0));(c=this.OnGetCheckImg?this.OnGetCheckImg(this,e,a):"undefined"!==typeof e.Checked||this.ShowCheckboxes?this.CheckImg:null)&&(b+=ngVal(c.W,
0));(c=this.OnGetTreeImg?this.OnGetTreeImg(this,e,a):this.TreeImg)&&(b+=ngVal(c.W,0));b>d&&(d=b)}"undefined"===typeof this.ListIndent&&(this.ListIndent=d);"undefined"===typeof this.DefaultIndent&&(this.DefaultIndent=d)}
function ngl_DoUpdate(a){if(0<this.update_cnt||""==this.ID)this.need_update=!0;else{this.need_update=!1;this.ActionUpdateTimer&&clearTimeout(this.ActionUpdateTimer);this.ActionUpdateTimer=null;"undefined"!==typeof this.ListIndent&&"undefined"!==typeof this.DefaultIndent||this.CalcIndent();var b=this.BaseClassName,c=new ngStringBuilder;this.draw_selected={};var d=0<this.Columns.length;if(d)for(var e,g=!1,k=[],n=-1,r,u=this.Columns.length,x=this.Columns.length/2,w=0;w<this.Columns.length;w++)e=this.Columns[w],
"undefined"===typeof e.Width&&(r=Math.abs(x-w),r<u&&(u=r,n=w)),e=this.OnGetColumnCaption?ngVal(this.OnGetColumnCaption(this,e,w),""):ngVal(e.Caption,""),k[w]=e,""!=e&&(g=!0);var u=!ng_EmptyVar(this.Frame),y=d&&g&&ngVal(this.ShowHeader,!0),x=this.HasEmbededContent=u||y,g=0;if(x){var A=document.getElementById(this.ID+"_CB");A&&(g=A.scrollTop);ng_SetScrollBars(a,ssNone);"undefined"!==typeof this.Bounds.W||"undefined"!==typeof this.Bounds.L&&"undefined"!==typeof this.Bounds.R?(w=ng_ClientWidth(a),w-=
ng_GetCurrentStylePx(a,"padding-left")+ng_GetCurrentStylePx(a,"padding-right"),w+="px"):w="0px"==a.style.width?"0px":(w=ng_StyleWidth(a))?w+"px":"auto";"undefined"!==typeof this.Bounds.H||"undefined"!==typeof this.Bounds.T&&"undefined"!==typeof this.Bounds.B?(e=ng_ClientHeight(a),e-=ng_GetCurrentStylePx(a,"padding-bottom")+ng_GetCurrentStylePx(a,"padding-top"),e+="px"):e="0px"==a.style.height?"0px":(e=ng_StyleHeight(a))?e+"px":"auto";c.append('<div id="'+this.ID+'_F" style="position: absolute;left:0px;top:0px;z-index:800;"></div>');
c.append('<div id="'+this.ID+'_CB" class="'+b+'Back" style="position:relative;left:0px;top:0px;width:'+w+";height:"+e+";");switch("auto"==w&&"auto"==e?ssNone:ngVal(this.ScrollBars,ssNone)){case ssNone:c.append("overflow:hidden;overflowX:hidden;overflowY:hidden;");break;case ssAuto:c.append("overflow:auto;  overflowX:auto;  overflowY:auto;");break;case ssBoth:c.append("overflow:scroll;overflowX:scroll;overflowY:scroll;");break;case ssHorizontal:c.append("overflow:scroll;overflowX:scroll;overflowY:hidden;");
break;case ssVertical:c.append("overflow:scroll;overflowX:hidden;overflowY:scroll;");break;case ssDefault:c.append("overflow:visible;overflowX:visible;overflowY:visible;")}c.append('">')}else g=a.scrollTop;if(d){r=function(a){y&&z.append(a);c.append(a)};c.append('<table id="'+this.ID+'_TB" cellspacing="0" cellpadding="0" border="0" style="position:relative;left:0px;right:0px;overflow:hidden;">');var z=y?new ngStringBuilder:c;r("<thead>");r("<tr>");for(w=0;w<this.Columns.length;w++)e=this.Columns[w],
r("<td"),w==n&&r(' width="'+(1==this.Columns.length?1:100)+'%"'),r(' align="'+e.Align+'"'),y||c.append(' style="visibility: hidden"'),r(">"),e=this.OnGetColumnWidth?this.OnGetColumnWidth(this,e,w,k[w]):e.Width,r('<div style="position:relative; font-size:0px; line-height:0px; height:0px; width:'+("undefined"===typeof e?0:e)+'px"></div>'),y&&(e=k[w],""==e&&(e='<div style="width:0px;position:relative;overflow:hidden;">&nbsp;</div>'),r('<div class="'+b+'Caption"'),z.append(' id="'+this.ID+"_H"+w+'" '+
ngc_PtrEventsHTML(this,"capt"+w,"tap drag"+(this.OnCaptionDblClick?" doubletap":""))),r(">"),r(e),r("</div></td>"));r("</tr>");r("</thead>")}for(w=0;w<this.Items.length;w++)b=this.DrawItem(c,this.Items[w],w,0,!1),0<b.l&&c.append("</tbody>"),"undefined"!==typeof this.next_draw_itemidx&&(this.next_draw_itemidx>w&&(w=this.next_draw_itemidx-1),delete this.next_draw_itemidx);d&&c.append("</table>");x&&c.append("</div>");y&&(c.append('<div id="'+this.ID+'_FH" class="'+this.BaseClassName+'Header" style="position:absolute;left:'+
ng_GetCurrentStylePx(a,"padding-left")+"px;top:"+ng_GetCurrentStylePx(a,"padding-top")+'px;z-index:100;overflow:hidden; background-color: inherit;">'),c.append('<table id="'+this.ID+'_TH" cellspacing="0" cellpadding="0" border="0" style="overflow:hidden;">'),c.append(z),c.append("</table>"),c.append("</div>"));ng_SetInnerHTML(a,c.toString());x?A=this.ContentElm=document.getElementById(this.ID+"_CB"):(A=null,this.ContentElm=a);y&&this.UpdateColumns();if("undefined"!==typeof this.ItemsControls)for(var B=
function(a){if(a&&("function"===typeof a.SetBounds&&a.SetBounds(),a=a.ChildControls,"undefined"!==typeof a))for(var b=a.length-1;0<=b;b--)B(a[b])},w=0;w<this.ItemsControls.length;w++)d=this.ItemsControls[w],B(d),d.Update();if(x){u&&(d=document.getElementById(this.ID+"_F"))&&(w=ng_ClientWidth(a),e=ng_ClientHeight(a),a=new ngStringBuilder,ngc_ImgBox(a,this.ID,"ngList",this.ControlHasFocus?1:0,this.Enabled,0,0,w,e,!1,this.Frame),ng_SetInnerHTML(d,a.toString()));var D=this,C=y?document.getElementById(this.ID+
"_FH"):null;A&&(A.onscroll=function(a){C&&(C.scrollLeft=A.scrollLeft);D.OnScroll&&D.OnScroll(D,a,A)})}try{this.ContentElm.scrollTop=g}catch(E){}return!0}}
function ngl_UpdateColumns(){if(this.ContentElm&&this.Columns.length){var a=this.ContentElm,b=document.getElementById(this.ID+"_FH");if(b){var c=document.getElementById(this.ID+"_TB");if(c){var d=document.getElementById(this.ID+"_TH");if(d)for(ng_SetClientWidth(d,ng_ClientWidth(c)),ng_SetClientWidth(b,ng_ClientWidth(a)),a=c.firstChild.firstChild.firstChild,b=b.firstChild.firstChild.firstChild.firstChild;a&&b;)"100%"!=a.getAttribute("width")&&ng_SetClientWidth(b.firstChild,ng_ClientWidth(a)),a=a.nextSibling,
b=b.nextSibling}}}}function ngl_UpdateFrame(){var a=document.getElementById(this.ID+"_F");if(!a)return!0;var b=this.Elm();if(!b)return!0;var c=ng_ClientWidth(b),b=ng_ClientHeight(b),d=new ngStringBuilder;ngc_ImgBox(d,this.ID,"ngList",0,this.Enabled,0,0,c,b,!1,this.Frame,"","");ng_SetInnerHTML(a,d.toString())}function ngl_AddItemControl(a){a&&("undefined"===typeof this.ItemsControls&&(this.ItemsControls=[]),this.ItemsControls[this.ItemsControls.length]=a,a.ParentControl=this)}
function ngl_RemoveItemControl(a){if(a&&"undefined"!==typeof this.ItemsControls){for(var b=this.ItemsControls.length-1;0<=b;b--)this.ItemsControls[b]==a&&this.ItemsControls.splice(b,1);this.ItemsControls.length||(this.ItemsControls=void 0);a.ParentControl=void 0}}
function ngl_CreateItemControls(a,b){this.BeginUpdate();if(!a)a=this;else if("undefined"!==typeof a.Controls&&"undefined"===typeof a.Controls.Owner&&"undefined"===typeof a.Controls.Parent){if(0<this.Columns.length)for(var c,d=0;d<this.Columns.length;d++){if(c=this.Columns[d].ID,"undefined"!==typeof a.Controls[c]){"undefined"===typeof a.ControlsHolder&&(a.ControlsHolder={});a.ControlsHolder[c]=document.createElement("div");var e=ngCreateControls(a.Controls[c],void 0,a.ControlsHolder[c]);"undefined"===
typeof a.Controls&&(a.Controls={});var g={};ng_SetByRef(g,"Owner",this);ng_SetByRef(g,"Parent",a);a.Controls[c]=g;c=this.ParentReferences?this.Owner:g;var k,n;for(n in e)k=e[n],k.Owner=c,this.AddItemControl(k),c&&(c[n]=k),c!=g&&(g[n]=k)}}else for(n in a.ControlsHolder=document.createElement("div"),e=ngCreateControls(a.Controls,void 0,a.ControlsHolder),a.Controls={},ng_SetByRef(a.Controls,"Owner",this),ng_SetByRef(a.Controls,"Parent",a),c=this.ParentReferences?this.Owner:a.Controls,e)k=e[n],k.Owner=
c,this.AddItemControl(k),c&&(c[n]=k),c!=a.Controls&&(a.Controls[n]=k);this.Update()}if("undefined"!==typeof a.Items&&ngVal(b,!0))for(n in a.Items)this.CreateItemControls(a.Items[n],!0);this.EndUpdate()}
function ngl_DoCreate(a,b,c,d){if("undefined"!==typeof a.Data&&("undefined"!==typeof a.Data.ParentReferences&&(this.ParentReferences=a.Data.ParentReferences),"undefined"!==typeof a.Data.Items)){this.Items=[];this.BeginUpdate();try{this.AddItems(a.Data.Items),this.CreateItemControls()}finally{this.need_update=!1,this.EndUpdate()}}this.SetScrollBars(ngVal(this.ScrollBars,ssAuto))}
function ngl_DoFocus(a,b){ngc_Enter(a,this.Elm(),this.CtrlType);ngc_ChangeBox(this.ID,1,this.Enabled,this.Frame);this.OnFocus&&this.Enabled&&this.OnFocus(this)}function ngl_DoBlur(a,b){ngc_Leave(a,this.Elm(),this.CtrlType);ngc_ChangeBox(this.ID,0,this.Enabled,this.Frame);if(ngl_ItemById(ngl_CurrentRowId).list==this){var c=document.getElementById(ngl_CurrentRowId);c&&ngl_LeaveRow(!1,c,null!=this.OnEnterRow||null!=this.OnLeaveRow)}this.OnBlur&&this.Enabled&&this.OnBlur(this)}
function ngl_DoAttach(a){if(a){ngAndroid||null!=a.getAttribute("tabindex")||a.setAttribute("tabindex",0);var b=this.CtrlType,c=this;a.onkeydown=ngl_KeyDown;a.onkeyup=ngl_KeyUp;a.onfocus=function(a){ngc_Focus(a,this,b)};a.onblur=function(a){ngc_Blur(a,this,b)};a.onscroll=function(b){c.OnScroll&&!c.HasEmbededContent&&c.OnScroll(c,b,a)}}}function ngl_DoDispose(){this.Clear();return!0}
function ngl_ItemsChanged(){0<this.update_cnt?this.need_update=this._items_changed=!0:(this.DoItemsChanged(),this.Update())}function ngl_DoItemsChanged(){0<this.update_cnt?this._items_changed=!0:this.OnItemsChanged&&this.OnItemsChanged(this,this.Items)}function ngListItem(a){this.Text=a}function ngListCol(a,b,c,d){this.ID=a;this.Caption=b;this.Align=ngVal(c,"left");this.Width=d}
function ngList(a){ngControl(this,a,"ngList");this.DoCreate=ngl_DoCreate;this.DoAttach=ngl_DoAttach;this.DoMouseEnter=ngl_DoMouseEnter;this.DoMouseLeave=ngl_DoMouseLeave;this.DoPtrStart=ngl_DoPtrStart;this.DoPtrDrag=ngl_DoPtrDrag;this.DoPtrEnd=ngl_DoPtrEnd;this.DoPtrClick=ngl_DoPtrClick;this.DoPtrDblClick=ngl_DoPtrDblClick;this.DoGesture=ngl_DoGesture;this.DoFocus=ngl_DoFocus;this.DoBlur=ngl_DoBlur;this.DoDispose=ngl_DoDispose;this.ItemsChanged=ngl_ItemsChanged;this.DoItemsChanged=ngl_DoItemsChanged;
this.ignore_select=0;this.Columns=[];this.Items=[];this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.radio_groups={};this.Indent=null;this.RadioAllowUncheck=this.ShowCheckboxes=!1;this.ItemImg=this.TreeImg=this.CheckImg=null;this.KeyEvents=!0;this.PageSize=10;this.MouseEvents=!0;this.ReadOnly=!1;this.SelectType=nglSelectNone;this.SelCount=0;this.SortColumn="";this.SortDir=nglSortAsc;this.SortCaseSensitive=!1;this.CheckedChangedDelay=0;this.ParentReferences=!1;this.Frame={};this.do_add=ngl_do_add;
this.do_remove=ngl_do_remove;this.Add=ngl_Add;this.AddItems=ngl_AddItems;this.SetItems=ngl_SetItems;this.Insert=ngl_Insert;this.Replace=ngl_Replace;this.Remove=ngl_Remove;this.Delete=ngl_Delete;this.Clear=ngl_Clear;this.IndexOf=ngl_IndexOf;this.GetPath=ngl_GetPath;this.Collapse=ngl_Collapse;this.Expand=ngl_Expand;this.CollapseAll=ngl_CollapseAll;this.ExpandAll=ngl_ExpandAll;this.ToggleCollapsed=ngl_ToggleCollapsed;this.CheckItem=ngl_CheckItem;this.CheckAllItems=ngl_CheckAllItems;this.CheckAll=ngl_CheckAll;
this.UncheckAll=ngl_UncheckAll;this.GetChecked=ngl_GetChecked;this.HasChecked=ngl_HasChecked;this.ClickItem=ngl_ClickItem;this.SetItemVisible=ngl_SetItemVisible;this.SetItemEnabled=ngl_SetItemEnabled;this.Sort=ngl_Sort;this.Scan=ngl_Scan;this.ScanVisible=ngl_ScanVisible;this.FindItem=ngl_FindItem;this.FindItemByID=ngl_FindItemByID;this.GetItemFocus=ngl_GetItemFocus;this.SetItemFocus=ngl_SetItemFocus;this.FirstVisibleItem=ngl_FirstVisibleItem;this.PrevVisibleItem=ngl_PrevVisibleItem;this.NextVisibleItem=
ngl_NextVisibleItem;this.LastVisibleItem=ngl_LastVisibleItem;this.draw_selected={};this.selected={};this.last_selected="";this.SelectChanged=ngl_SelectChanged;this.ClearSelected=ngl_ClearSelected;this.SelectItem=ngl_SelectItem;this.GetSelected=ngl_GetSelected;this.SetSelected=ngl_SetSelected;this.IsItemSelected=ngl_IsItemSelected;this.do_checked=ngl_do_checked;this.CheckChanged=ngl_CheckChanged;this.UpdateChecked=ngl_UpdateChecked;this.UpdateCollapsed=ngl_UpdateCollapsed;this.CreateItemControls=ngl_CreateItemControls;
this.AddItemControl=ngl_AddItemControl;this.RemoveItemControl=ngl_RemoveItemControl;this.ItemId=ngl_ItemId;this.ItemById=nglist_ItemById;this.CalcIndent=ngl_CalcIndent;this.DoDropDown=ngl_DoDropDown;this.DoDropDownFinished=ngl_DoDropDownFinished;this.SelectDropDownItem=ngl_SelectDropDownItem;this.SelectDropDownItemWithFocus=ngl_SelectDropDownItemWithFocus;this.GetRowClassName=ngl_GetRowClassName;this.DrawItemText=ngl_DrawItemText;this.DrawItem=ngl_DrawItem;this.DoUpdate=ngl_DoUpdate;this.UpdateColumns=
ngl_UpdateColumns;this.UpdateFrame=ngl_UpdateFrame;this.ActionUpdateTimer=null;this.SetItemAction=ngl_SetItemAction;this.GetItemAction=ngl_GetItemAction;this.SyncItemAction=ngl_SyncItemAction;this.ActionSetVisible=ngl_ActionSetItemVisible;this.ActionCheck=ngl_ActionItemCheck;this.ActionClick=ngl_ActionItemClick;this.ActionUpdate=ngl_ActionItemUpdate;this.BeginUpdate=ngl_BeginUpdate;this.EndUpdate=ngl_EndUpdate;this.update_cnt=0;this.need_update=!1;this.OnGetColumnWidth=this.OnGetColumnCaption=this.OnGetTreeImg=
this.OnGetCheckImg=this.OnGetItemImg=this.OnCalcIndent=this.OnMeasureItem=this.OnGetRowClassName=this.OnDrawItemText=this.OnDrawItem=this.OnBlur=this.OnFocus=this.OnLeaveRow=this.OnEnterRow=this.OnMouseLeave=this.OnMouseEnter=this.OnScroll=this.OnKeyUp=this.OnKeyDown=this.OnCaptionDblClick=this.OnCaptionClick=this.OnClick=this.OnDblClick=this.OnDblClickItem=this.OnClickItem=this.OnCompareItem=this.OnRedrawSelected=this.OnSelectChanged=this.OnSetItemEnabled=this.OnSetItemVisible=this.OnCheckChanged=
this.OnItemCheckChanged=this.OnCollapsed=this.OnCollapsing=this.OnExpanded=this.OnExpanding=this.OnGetAlt=this.OnGetText=this.OnItemsChanged=this.OnRemove=this.OnAdd=this.checked_changed_timer=null;ngControlCreated(this)}
var plDisplayFixed=0,plDisplayFit=1,plFirstPage=-9999,plLastPage=-9998,plPaging_First=1,plPaging_Prev=2,plPaging_Next=4,plPaging_Last=8,plPaging_Pages=16,plPaging_PageNo=32,plPaging_HideDisabled=256,plPagingUser=-1,plPagingSimple=plPaging_Prev|plPaging_Next,plPagingSimple2=plPaging_Prev|plPaging_Next|plPaging_HideDisabled,plPagingSimpleEx=plPaging_Prev|plPaging_PageNo|plPaging_Next,plPagingPages=plPaging_Prev|plPaging_Pages|plPaging_Next,plPagingPages2=plPaging_First|plPaging_Prev|plPaging_Pages|
plPaging_Next|plPaging_Last,plPagingPagesEx=plPagingPages|plPaging_HideDisabled,plPagingPagesEx2=plPagingPages2|plPaging_HideDisabled,plPagingDataSet=plPaging_First|plPaging_Prev|plPaging_Next|plPaging_Last,plPagingDataSetEx=plPaging_First|plPaging_Prev|plPaging_PageNo|plPaging_Next|plPaging_Last,plPagingAll=511,plDisplayPagingNone=0,plDisplayPagingAlways=1,plDisplayPagingNotEmpty=2,plDisplayPagingMorePages=3;function npgl_OnListChanged(a,b,c){c||a.ListPagingChanged();return!0}
function npgl_ListPagingChanged(){this.page_start=[];this.page_start[0]=0}function npgl_DoUpdate(a){if(this.Controls.List.Enabled!=this.Enabled){for(var b in this.Controls)"function"===typeof this.Controls[b].SetEnabled&&this.Controls[b].SetEnabled(this.Enabled);this.Enabled&&(this.Controls.List.paging_needs_update=!0)}return!0}
function npgl_DoUpdateBefore(a){if(!(0<this.update_cnt||""==this.ID)){var b=this.Owner.Owner;if(!b)return!1;(this.display_mode!=b.DisplayMode||b.DisplayMode==plDisplayFixed&&this.displayed_items!=b.DisplayedItems)&&this.ListPagingChanged();b.DisplayMode==plDisplayFixed&&this.ContentElm&&ng_SetScrollBars(this.ContentElm,ssAuto);b.TopIndex>=this.Items.length&&b.SetPage(b.PageByIndex(b.GetLength()));this.draw_page!=b.Page&&this.ContentElm&&(this.ContentElm.scrollTop=0);var c=b.Controls.Paging?b.Controls.Paging.Elm():
null;if(c&&c.parentNode){var d=ng_OuterHeight(c);if(b.PagingInside){c.style.position="relative";var e={T:0,B:""};ngIExplorer6&&(e.R=2);b.Controls.Paging.SetBounds(e);b.Controls.List.SetBounds({B:0});this.draw_paging_height=d}else c.style.position="absolute",b.Controls.Paging.SetBounds({T:"",B:0,R:0}),e=b.IsPagingVisible(),b.Controls.Paging&&b.Controls.Paging.Visible!=e&&(b.Controls.List.paging_needs_update=!0),b.Controls.List.SetBounds({B:e?d:0}),c.parentNode==b.Elm()&&(c=null),this.draw_paging_height=
0;c&&(this.draw_paging_elm=c.parentNode.removeChild(c))}else this.draw_paging_height=0,b.Controls.List.SetBounds({B:0});this.Loading=!1;c=b.DisplayMode==plDisplayFit;d=b.DisplayedItems;c?(this.max_displayed_items||this.draw_measure?d=Math.max(this.max_displayed_items,d):(e=ngVal(b.GetAverageItemHeight(),0),0<e&&(a=Math.floor((ng_ClientHeight(a)-1)/e),a>d&&(d=a))),d+=2):d++;if(b.IsAsyncLoadingBlock(b.TopIndex,d))return this.Loading=!0,!1;if(!this.draw_measure){if(!b.NeedData(b.TopIndex,d))return b.AsyncWaiting()&&
(this.Loading=!0),!1;c&&(this.measure_loadto=b.TopIndex+d)}this.draw_measure=c;return!0}}function npgl_GetAverageItemHeight(){var a,b,c=this.Controls.List;c&&(a=c.ItemHeight,b=c.MinItemHeight);"undefined"===typeof a&&(a=this.AverageItemHeight);"undefined"!==typeof b&&ngVal(a,0)<b&&(a=b);return a}
function npgl_getitemsperpage(a){var b=this.DisplayedItems;if(this.DisplayMode==plDisplayFit){var c=this.Controls.List;if(c){var d=ngVal(c.list_maxheight,0);if(0<d||a){var e=ngVal(this.GetAverageItemHeight(),0);if(0<e){if(a&&!d){var g=c.Elm();g&&(d=ng_ClientHeight(g))}0<d&&(b=Math.floor(d/e))}}a&&c.max_displayed_items&&(b=Math.max(c.max_displayed_items,b))}}return b}function npgl_ItemsPerPage(){return this.getitemsperpage()}
function npgl_DataRequestPerPage(){return this.getitemsperpage(!0)+(this.DisplayMode==plDisplayFit?2:1)}
function npgl_OnDrawItem(a,b,c,d,e,g,k){if(a.in_measure)return!0;b=a.Owner.Owner;if(a.draw_measure){a.draw_measure=!1;var n=a.Elm();a.HasEmbededContent&&(k=1,0<a.Columns.length&&(k++,c.append("</table>")),c.append("</div>"),ng_SetInnerHTML(n,c.toString()),c.strings.splice(c.strings.length-k,k),n=document.getElementById(a.ID+"_CB"));if(n){var r=ng_ClientHeight(n)-1,u=0,x,r=r-(ng_GetCurrentStylePx(n,"padding-top")+ng_GetCurrentStylePx(n,"padding-bottom")),w=!1;a.draw_height!=r&&0<a.draw_height&&(a.max_displayed_items=
0,w=!0,a.ListPagingChanged());a.draw_height=r;k=!1;0<a.Columns.length&&(ng_SetInnerHTML(n,c.toString()+"</table>"),(x=document.getElementById(a.ID+"_TB"))&&(u=ng_OuterHeight(x)));r-=a.draw_paging_height;r-=u;a.list_maxheight=r;var u=0,y,A,z,B=0;a.in_measure=!0;try{for(y=b.TopIndex;y<a.Items.length;y++){z=new ngStringBuilder(c);if(!b.IsDataLoaded(y+1)){var D=ngVal(b.GetAverageItemHeight(),0);0>=D&&u&&(D=B/u);var C=0<D?Math.floor(r/D):0,E=Math.max(this.max_displayed_items,b.DisplayedItems)-(y-b.TopIndex);
E>C&&(C=E);1>C&&(C=1);C+=2;b.IsAsyncLoadingBlock(y+1,C)?a.Loading=!0:b.DoLoadData(y+1,C);y+1+C>a.measure_loadto&&(a.measure_loadto=y+1+C)}d=a.Items[y];"undefined"===typeof d&&(d={});A=d.Items;d.Items=void 0;l=a.DrawItem(z,d,y,0,!1);d.Items=A;0<l.l&&z.append("</tbody>");0<a.Columns.length&&z.append("</table>");ng_SetInnerHTML(n,z.toString());(x=document.getElementById(a.ID+"_"+y))?(n.style.display="block",h=ng_OuterHeight(x),n.style.display=this.Visible?"block":"none"):h=0;r-=h;if(0>r)break;B+=h;u++;
"object"!==typeof d.Items||ngVal(d.Collapsed,!1)||(k=!0)}}finally{delete a.measure_loadto,a.in_measure=!1,ng_SetInnerHTML(n,"")}y<a.Items.length?(b.DisplayedItems=u,b.DisplayedItems>this.max_displayed_items&&(this.max_displayed_items=b.DisplayedItems)):u&&B&&(D=ngVal(b.GetAverageItemHeight(),0),0>=D&&(D=B/u),b.DisplayedItems=u+Math.floor(r/D));0>=b.DisplayedItems&&(b.DisplayedItems=1);this.displayed_items!=b.DisplayedItems&&(a.paging_needs_update=!0);w&&(c=b.Page,b.TopIndex?(d=b.ItemsPerPage(),0<
d&&(b.Page=Math.floor((b.TopIndex+d-1)/d))):(a.page_start_found=!0,a.page_start[0]=0,b.Page=0),c!=b.Page&&(a.paging_needs_update=!0));if(!b.TopIndex||0<b.Page&&"undefined"!==typeof a.page_start[b.Page])if(c=b.TopIndex+b.DisplayedItems,"undefined"===typeof b.MaxLength||c<=b.MaxLength)a.page_start[b.Page+1]=c;a.ContentElm&&ng_SetScrollBars(a.ContentElm,k?ssAuto:ssNone)}}if(!g){b=a.Owner.Owner;a.draw_length!=a.Items.length&&(a.paging_needs_update=!0);if(b.IsAsyncLoadingBlock(b.TopIndex,b.DisplayedItems))return a.Loading=
!0,a.next_draw_itemidx=a.Items.length,!1;e<b.TopIndex&&(a.next_draw_itemidx=b.TopIndex);e>=b.TopIndex+b.DisplayedItems&&(a.next_draw_itemidx=a.Items.length);return e>=b.TopIndex&&e<b.TopIndex+b.DisplayedItems}return!0}function npgl_ShowLoading(a){a&&this.OnShowLoading?this.OnShowLoading(this):!a&&this.OnHideLoading?this.OnHideLoading(this):"object"===typeof this.Controls.Loading&&"function"===typeof this.Controls.Loading.SetVisible&&this.Controls.Loading.SetVisible(a)}
function npgl_DoUpdateAfter(a){if(!(0<this.update_cnt||""==this.ID)){this.draw_measure=!1;a=this.Owner.Owner;if(!a)return!0;a.IsAsyncLoadingBlock(a.TopIndex,a.DisplayedItems)&&(this.Loading=!0);a.loading_displayed!=this.Loading&&(a.loading_displayed=this.Loading,a.ShowLoading(this.Loading?!0:!1));this.Loading&&this.ContentElm&&ng_SetInnerHTML(this.ContentElm,"");if(this.draw_paging_elm){if(a.PagingInside)this.ContentElm&&this.ContentElm.appendChild(this.draw_paging_elm);else{var b=a.Elm();b&&b.appendChild(this.draw_paging_elm)}this.draw_paging_elm=
null}a.PagingInside&&a.Controls.Paging&&a.Controls.Paging.SetVisible(!this.Loading&&a.IsPagingVisible());this.paging_needs_update&&(this.paging_needs_update=!1,a.UpdatePaging());this.draw_page=a.Page;this.draw_length=this.Items.length;this.displayed_items=a.DisplayedItems;this.display_mode=a.DisplayMode;delete this.draw_paging_height;0<this.init_page&&(a.DisplayMode==plDisplayFixed||!this.Loading)&&(b=this.init_page,this.init_page=0,a.SetPage(b));a.AutoSelectFirstItem&&!a.firstitemselected&&0==this.SelCount&&
a.IsDataLoaded(0)&&(a.firstitemselected=!0,this.SelectItem(this.Items[0]));return!0}}function npgl_OnExpanding(a,b){var c=this.Owner.Owner;this.ContentElm&&ng_SetScrollBars(this.ContentElm,ssAuto);if(c=7==ngIExplorerVersion&&c&&c.Controls.Paging?c.Controls.Paging.Elm():null)c.style.display="none",c.style.display="block";return!0}
function npgl_SetPage(a){a=parseInt(a,10);if(!(isNaN(a)||0>a&&a!=plFirstPage&&a!=plLastPage||a==this.Page&&999999999!==this.TopIndex||a===plFirstPage&&0===this.TopIndex)){999999999===this.TopIndex&&(this.TopIndex=0);var b=!1,c=this.Controls.List;if(!this.OnPageChanging||ngVal(this.OnPageChanging(this,a),!1)){var d=this.Page,e=this.TopIndex;if(a==plFirstPage)this.TopIndex=0,a=c.page_start[0]=0;else switch(a-d){case 1:var g=c.page_start[a],k=c.page_start[d];c.page_start_found&&"undefined"!==typeof g&&
"undefined"!==typeof k?(this.TopIndex=g,c.page_start_found=!0):(c.page_start_found=!1,this.TopIndex+=this.DisplayedItems,"undefined"!=k&&(c.page_start[a]=this.TopIndex));break;case -1:g=c.page_start[a];k=c.page_start[d];c.page_start_found&&"undefined"!==typeof g&&"undefined"!==typeof k?(this.TopIndex=g,c.page_start_found=!0):(c.page_start_found=!1,this.TopIndex-=this.ItemsPerPage());0>this.TopIndex&&(this.TopIndex=0);break;default:k=this.GetLength();a!=plLastPage||this.IsDynamicData()&&"undefined"===
typeof this.MaxLength||(a=this.PageByIndex(k));for(var n=0;2>n;n++){if(a!=plLastPage)if(g=c.page_start[a],"undefined"!==typeof g)this.TopIndex=g,c.page_start_found=!0;else{var r=0,g=0;if(this.DisplayMode!=plDisplayFixed){var u=-1;for(r in c.page_start)r>u&&r<=a&&"undefined"!==typeof c.page_start[r]&&(u=r);0<=u?(g=c.page_start[u],r=u):r=0}r=a-r;this.TopIndex=g;0<r&&(this.TopIndex+=r*this.ItemsPerPage());c.page_start_found=!1}else this.TopIndex=999999999;(a==plLastPage||0<this.TopIndex&&this.TopIndex>=
c.Items.length)&&!this.AsyncWaiting()&&(this.async_datapage=a==plLastPage?d:a);this.NeedData(this.TopIndex,Math.max(c.max_displayed_items,this.DisplayedItems)+(this.DisplayMode==plDisplayFit?2:1));this.AsyncWaiting()||delete this.async_datapage;if(a==plLastPage){e=999999999;b=!0;a=this.PageByIndex(k);break}if(0<this.TopIndex&&this.TopIndex>=k)a=this.PageByIndex(k);else break}}this.TopIndex>=c.Items.length&&(this.TopIndex=e,a=d);0>a&&(a=0);this.TopIndex?!a&&0<this.TopIndex&&(a=1):(c.page_start[0]=
0,c.page_start_found=!0);this.Page=a;this.UpdatePaging();(e!=this.TopIndex||b)&&c.Update();this.OnPageChanged&&this.OnPageChanged(this,d)}}}
function npgl_SetPagingType(a,b){if("undefined"!==typeof a){if(a==this.PagingType)return;this.PagingType=a}else a=this.PagingType;if(a!=plPagingUser){var c,d=!1,e=!1,g=0!=(a&plPaging_First),k=0!=(a&plPaging_Prev),n=0!=(a&plPaging_PageNo),r=0!=(a&plPaging_Pages),u=0!=(a&plPaging_Next),x=0!=(a&plPaging_Last),w=0!=(a&plPaging_HideDisabled);(c=this.Controls.FirstPage)&&c.InitVisible!=g&&(c.InitVisible=g,d=!0);(c=this.Controls.PrevPage)&&c.InitVisible!=k&&(c.InitVisible=k,d=!0);(c=this.Controls.NextPage)&&
c.InitVisible!=u&&(c.InitVisible=u,d=!0);(c=this.Controls.LastPage)&&c.InitVisible!=x&&(c.InitVisible=x,d=!0);(c=this.Controls.PageNo)&&c.InitVisible!=n&&(c.InitVisible=n,e=d=!0);this.PagesVisible!=r&&(this.PagesVisible=r,d=e=!0);this.PagingHideDisabled!=w&&(this.PagingHideDisabled=w,d=!0);d&&ngVal(b,!0)&&(e&&this.Controls.List&&(this.Controls.List.paging_needs_update=!0),this.Update())}}
function npgl_IsPagingVisible(){var a=!1;if(!this.Controls.List||this.Controls.List.Loading&&this.PagingInside)return a;switch(this.DisplayPaging){case plDisplayPagingAlways:a=!0;break;case plDisplayPagingNotEmpty:a=this.Controls.List&&0<this.GetLength();break;case plDisplayPagingMorePages:a=this.Controls.List&&(0<this.Page||this.IsNextPageAvailable())}return a}function npgl_IsPrevPageAvailable(){return 0<this.TopIndex}
function npgl_IsNextPageAvailable(){return this.IsDynamicData()&&"undefined"===typeof this.MaxLength?!0:this.TopIndex+this.DisplayedItems<this.GetLength()}
function npgl_UpdatePaging(){var a,b={PageNo:""+(this.Page+1),PrevPage:this.IsPrevPageAvailable(),NextPage:this.IsNextPageAvailable(),PagingVisible:this.IsPagingVisible(),PagingTo:this.Page+ngVal(this.PagingLookout,Math.floor((this.PagingSize-1)/2)),Update:!1};b.FirstPage=b.PrevPage;b.LastPage=b.NextPage;this.PagingInside&&(b.Update=!0);(a=ngVal(this.PagingMinSize,0))&&b.PagingTo<a&&(b.PagingTo=a-1);0>b.PagingTo&&(b.PagingTo=0);if(!this.IsDynamicData()||"undefined"!==typeof this.MaxLength)for(var c=
this.GetLength(),d=this.ItemsPerPage();b.PagingTo>this.Page;){a=this.Controls.List.page_start[b.PagingTo];"undefined"===typeof a&&(a=this.TopIndex+(b.PagingTo-this.Page)*d);if(a<c)break;b.PagingTo--}b.PagingFrom=b.PagingTo-this.PagingSize;if(!this.OnPagingUpdating||ngVal(this.OnPagingUpdating(this,b),!1)){this.Controls.Paging&&(c=b.PagingVisible,c!=this.Controls.Paging.Visible&&(this.Controls.Paging.SetVisible(c),this.PagingInside||this.Controls.List.SetBounds({B:c?"undefined"!==typeof this.draw_paging_height?
this.draw_paging_height:ng_OuterHeight(this.Controls.Paging.Elm()):0})));if(a=this.Controls.FirstPage)c=b.FirstPage,a.SetEnabled(this.Enabled&&c),this.PagingType!=plPagingUser&&(c=a.InitVisible&&(c||!this.PagingHideDisabled),a.Visible!=c&&(b.Update=!0),a.SetVisible(c));if(a=this.Controls.PrevPage)c=b.PrevPage,a.SetEnabled(this.Enabled&&c),this.PagingType!=plPagingUser&&(c=a.InitVisible&&(c||!this.PagingHideDisabled),a.Visible!=c&&(b.Update=!0),a.SetVisible(c));if(a=this.Controls.NextPage)c=b.NextPage,
a.SetEnabled(this.Enabled&&c),this.PagingType!=plPagingUser&&(c=a.InitVisible&&(c||!this.PagingHideDisabled),a.Visible!=c&&(b.Update=!0),a.SetVisible(c));if(a=this.Controls.LastPage)c=b.LastPage,a.SetEnabled(this.Enabled&&c),this.PagingType!=plPagingUser&&(c=a.InitVisible&&(c||!this.PagingHideDisabled),a.Visible!=c&&(b.Update=!0),a.SetVisible(c));if(a=this.Controls.PageNo)this.PagingType!=plPagingUser&&a.SetVisible(a.InitVisible),a.Text!=b.PageNo&&(a.Text=b.PageNo,a.Visible&&(b.Update=!0));var e=
b.PagingTo;0>b.PagingFrom&&(b.PagingFrom=0);for(var g=this.PagingSize-1;0<=g;g--)(a=this.Controls["Page"+g])&&"undefined"!==typeof a&&(txt=""+(e+1),a.Text!=txt&&(a.Text=txt,b.Update=!0),a.Page=e,d=e==this.Page?1:0,c=this.PagesVisible&&e>=b.PagingFrom,a.Checked!=d&&(a.Checked=d,c&&(b.Update=!0)),a.SetVisible(c),e--);if(!this.OnPagingUpdated||ngVal(OnPagingUpdated(this,b),!1))return b.Update&&this.Controls.Paging?(this.Controls.Paging.Update(),!0):!1}}
function npgl_FirstPage(){this.SetPage(plFirstPage)}function npgl_NextPage(){this.SetPage(this.Page+1)}function npgl_PrevPage(){this.SetPage(this.Page-1)}function npgl_LastPage(){this.SetPage(plLastPage)}
function npgl_PageByIndex(a){var b,c=0,d=0,e=this.Controls.List;if(!e)return 0;0>a&&(a=0);b=this.GetLength();a>=b&&(a=b-1);if(this.DisplayMode!=plDisplayFixed){var g=1E5,k;for(k in e.page_start)s=e.page_start[k],"undefined"!==typeof s&&(b=Math.abs(s-a),b<g&&(g=b,d=parseInt(k,10),c=parseInt(s,10)))}a-=c;0<a&&(c=this.ItemsPerPage(),0<c&&(b=Math.floor(a/c),d+=b));return d}
function npgl_OnKeyDown(a){switch(a.keyCode){case 33:return(a=a.Owner.Owner.Owner)&&a.KeyEvents&&a.PrevPage(),!1;case 34:return(a=a.Owner.Owner.Owner)&&a.KeyEvents&&a.NextPage(),!1}return!0}function npgl_PageButtonClick(a){var b=a.Owner.Page;"undefined"!==typeof b&&a.Owner.Owner.Owner.SetPage(b)}
function npgl_NeedData(a,b){var c=this.Controls.List;if(!c||0>=b)return!0;if(a>=c.Items.length)return this.DoLoadData(a,b);for(var d=0;d<b&&a+d<=c.Items.length;d++)if(!this.IsDataLoaded(a+d)){if(!this.DoLoadData(a+d,b-d))return!1;if(this.AsyncData)break}return!0}function npgl_IsDynamicData(){return(this.OnLoadData||""!=this.AsyncDataURL)&&(!this.InDesignMode||this.DesignLive)}
function npgl_IsDataLoaded(a){if(!this.IsDynamicData())return!0;var b=this.Controls.List;if(!b)return!0;if(this.OnIsDataLoaded)return this.OnIsDataLoaded(this,b,a);if(0>a)return!0;if(a>=b.Items.length||!this.CacheData&&(a<this.TopIndex||a>=("undefined"!==typeof b.measure_loadto?b.measure_loadto:this.DisplayMode==plDisplayFit?0:this.TopIndex+this.DisplayedItems)))return!1;a=b.Items[a];if("undefined"===typeof a)return!1;for(var c in a)return!0;return!1}
function npgl_InvalidateData(a,b){var c=this.Controls.List;if(c&&("undefined"===typeof a&&(a=0,b=c.Items.length),"undefined"!==typeof b)){if(this.IsDynamicData()){if((!this.OnInvalidateData||ngVal(this.OnInvalidateData(this,a,b),!1))&&a<c.Items.length)for(var d=0;d<b&&a+d<=c.Items.length;d++)c.do_remove(c.Items[a+d],c),delete c.Items[a+d];if(!this.IsAsyncLoadingBlock(a,b)){var e=a+b;this.AsyncWaiting()||(d=this.last_asyncdata_index+this.last_asyncdata_count,a<this.last_asyncdata_index&&e<this.last_asyncdata_index&&
!(a>=d&&e>=d))||(this.last_asyncdata_index=-1,this.last_asyncdata_count=0)}}d=this.TopIndex+this.DisplayedItems;a<this.TopIndex&&e<this.TopIndex&&!(a>=d&&e>=d)||c.Update()}}function npgl_AsyncTimeout(a){if(a=ngGetControlById(a,"ngPanel"))a.async_datatimeout_timer&&clearTimeout(a.async_datatimeout_timer),a.async_datatimeout_timer=null,a.AsyncWaiting()&&(a.DoLoadData(a.async_dataindex,a.async_datacount,!0),0>a.async_datatimeout_retry&&a.SetAsyncData(a.async_dataindex,[]))}
function npgl_Refresh(){this.MaxLength=void 0;this.InvalidateData(this.TopIndex,this.DisplayedItems)}function npgl_GetRPC(){if(!this.IsDynamicData())return null;this.async_rpc||(this.async_rpc=new ngRPC(this.ID),this.async_rpc.nocache=!0);return this.async_rpc}
function npgl_DoLoadData(a,b,c){if(!this.IsDynamicData())return!0;var d=this.Controls.List;if(!d)return this.async_datatimeout_retry=-1,!1;"undefined"!==typeof this.MaxLength&&(a>this.MaxLength?b=0:a+b>this.MaxLength&&(b=this.MaxLength-a));if("undefined"===typeof b||1>b)return this.async_datatimeout_retry=-1,!0;"undefined"!==typeof this.MinDataBatch&&b<this.MinDataBatch&&(b=this.MinDataBatch);var e=this.last_asyncdata_index+this.last_asyncdata_count,g=a+b;if(a>=this.last_asyncdata_index&&a<e&&g>=
this.last_asyncdata_index&&g<=e)return this.async_datatimeout_retry=-1,!0;if(this.async_dataindex==a&&this.async_datacount==b&&ngVal(c,!1)){this.async_datatimeout_retry--;if(0>this.async_datatimeout_retry)return this.async_datatimeout_retry=-1,!0;this.async_datacount=this.async_dataindex=void 0}else this.AsyncWaiting()||(this.async_datatimeout_retry=this.AsyncDataRetryCnt);if(this.AsyncData){if(this.AsyncWaiting())return!1;this.async_dataindex=a;this.async_datacount=b;this.async_datatimeout_timer&&
clearTimeout(this.async_datatimeout_timer);this.async_datatimeout_timer=null;0<this.AsyncDataTimeout&&0<=this.async_datatimeout_retry&&(this.async_datatimeout_timer=setTimeout("npgl_AsyncTimeout('"+this.ID+"');",1E3*this.AsyncDataTimeout))}var k;if(this.OnLoadData)k=this.OnLoadData(this,d,a,b);else if(c=this.GetRPC())e=this.AsyncDataURL,e=ng_AddURLParam(e,"id="+ng_URLEncode(this.ID)+"&i="+a+"&c="+b),"object"===typeof ngApp&&ngApp&&(e=ng_AddURLParam(e,"lang="+ngApp.Lang)),this.OnAsyncURLRequest&&(e=
this.OnAsyncURLRequest(this,e,a,b)),""!=e&&c.sendRequest(e);if("object"===typeof k&&k)for(this.async_datacount=this.async_dataindex=void 0,this.async_datatimeout_timer&&clearTimeout(this.async_datatimeout_timer),this.async_datatimeout_timer=null,0<=k.length&&k.length<b&&this.SetLength(a+k.length),c=0;c<k.length;c++)b=c+a,b>=d.Items.length&&(d.Items.length=b,"undefined"!==typeof this.MaxLength&&this.MaxLength<b&&this.SetLength(b)),"undefined"!==typeof k[c]&&d.Replace(b,"string"===typeof k[c]?{Text:k[c]}:
ng_CopyVar(k[c]));return!0}function npgl_AsyncWaiting(){return 0<=ngVal(this.async_dataindex,-1)}function npglSetAsyncDataCallback(a,b,c,d){a=ngGetControlById(a,"ngPanel");if(!a)return!1;"undefined"!==typeof d&&null!==d&&a.SetLength(d);a.SetAsyncData(b,c);return!0}
function npgl_SetAsyncData(a,b){if(this.AsyncWaiting()){var c=this.Controls.List;if(c){var d=!1;a=ngVal(a,this.async_dataindex);if(!this.OnSetAsyncData||ngVal(this.OnSetAsyncData(this,a,b),!1)){if("object"===typeof b&&b&&999999999!=a){var e,g=this.async_dataindex+this.async_datacount;a==this.async_dataindex&&0<=b.length&&b.length<this.async_datacount&&(this.SetLength(a+b.length),d=!0);for(var k=0;k<b.length;k++)e=k+a,e>=c.Items.length&&(c.Items.length=e,"undefined"!==typeof this.MaxLength&&this.MaxLength<
e&&this.SetLength(e)),"undefined"!==typeof b[k]&&(c.Replace(e,"string"===typeof b[k]?{Text:b[k]}:ng_CopyVar(b[k])),e>=this.async_dataindex&&e<g&&(d=!0))}a=this.async_dataindex;e=this.async_datacount;if(!d)for(k=0;k<e&&a+k<c.Items.length;k++)if(!this.IsDataLoaded(a+k))return;a=this.async_dataindex;if(this.IsAsyncLoadingBlock(this.TopIndex,this.DisplayedItems)||this.List.Loading)d=!0;this.last_asyncdata_index=this.async_dataindex;this.last_asyncdata_count=this.async_datacount;this.async_datatimeout_timer&&
clearTimeout(this.async_datatimeout_timer);this.async_datatimeout_timer=null;this.async_datacount=this.async_dataindex=void 0;if("undefined"!==typeof this.async_datapage&&(k=this.async_datapage,e=this.GetLength(),a>=e&&(k=this.PageByIndex(e)),delete this.async_datapage,this.Page!=k)){this.SetPage(k);return}("object"!==typeof b||d)&&c.Update()}}}}
function npgl_SetLength(a){this.OnSetLength&&(a=this.OnSetLength(this,a));var b=this.Controls.List;b&&(b.paging_needs_update=!0);this.IsDynamicData()?(this.MaxLength=a,"undefined"!==typeof a&&b&&a<b.Items.length&&(b.Items.length=a)):"undefined"!==typeof a&&b&&(b.Items.length=a)}function npgl_GetLength(){if(this.IsDynamicData()&&"undefined"!==typeof this.MaxLength)return this.MaxLength;var a=this.Controls.List;return a?a.Items.length:0}
function npgl_IsAsyncLoadingBlock(a,b){if(!this.AsyncWaiting())return!1;var c=a+b,d=this.async_dataindex+this.async_datacount;return!(a<this.async_dataindex&&c<this.async_dataindex)||a>=d&&c>=d}function npgl_IndexOf(a,b){var c=this.Owner.Owner;if(c&&(!b||b==this))for(var d=c.TopIndex;d<c.TopIndex+c.DisplayedItems&&d<this.Items.length;d++)if(this.Items[d]==a)return d;return this.IndexOf.callParent(a,b)}
function npgl_Reset(a){var b=this.Controls.List;b&&b.BeginUpdate();delete this.firstitemselected;this.async_datacount=this.async_dataindex=this.MaxLength=void 0;this.last_asyncdata_index=-1;this.last_asyncdata_count=0;b&&b.ClearSelected();this.FirstPage();this.InvalidateData();b&&(b.max_displayed_items=0,ngVal(a,!1)&&b.Clear(),b.EndUpdate())}
function npgl_GetPageTopItems(){for(var a=[],b=this.Controls.List,c=this.TopIndex;c<this.TopIndex+this.DisplayedItems&&c<b.Items.length;c++)0>c||(a[a.length]=b.Items[c]);return a}function npgl_ScanPageItems(a,b,c){if("function"!==typeof a)return!1;for(var d=this.Controls.List,e=this.TopIndex;e<this.TopIndex+this.DisplayedItems&&e<d.Items.length;e++)if(!(0>e||a(this,d.Items[e],d,c)&&(!ngVal(b,!0)||d.Scan(a,d.Items[e],c))))return!1;return!0}
function npgl_ScanVisiblePageItems(a,b,c){if("function"!==typeof a)return!1;for(var d=this.Controls.List,e=this.TopIndex;e<this.TopIndex+this.DisplayedItems&&e<d.Items.length;e++)if(!(0>e)){var g=d.Items[e];if("undefined"!==typeof g&&ngVal(g.Visible,!0)&&(!a(this,g,d,c)||!ngVal(g.Collapsed,!1)&&"undefined"!==typeof g.Items&&g.Items.length&&ngVal(b,!0)&&!d.ScanVisible(a,g,c)))return!1}return!0}
function Create_ngPageList(a,b,c){ng_MergeDef(a,{Data:{PagingSize:5},Controls:{List:{Type:"ngList",style:{border:"0px"},L:0,T:0,R:0,B:24},Paging:{Type:"ngToolBar",L:0,B:0,R:0,H:24,Data:{Visible:!1},Controls:{FirstPage:{Type:"ngButton",Data:{Text:"|<"},Events:{OnClick:function(a){a.Owner.Owner.Owner.FirstPage()}}},PrevPage:{Type:"ngButton",Data:{Text:"<"},Events:{OnClick:function(a){a.Owner.Owner.Owner.PrevPage()}}},PageNo:{Type:"ngEdit",W:30,Data:{Text:"1",TextAlign:"center"},Events:{OnKeyDown:function(a){return 13==
a.keyCode?(a.Owner.Owner.Owner.SetPage(parseInt(a.Owner.GetText())-1,10),!1):!0}}},Page0:{Type:"ngButton",Data:{Text:"1",TextAlign:"center"},Events:{OnClick:npgl_PageButtonClick}},NextPage:{Type:"ngButton",Data:{Text:">"},Events:{OnClick:function(a){a.Owner.Owner.Owner.NextPage()}}},LastPage:{Type:"ngButton",Data:{Text:">|"},Events:{OnClick:function(a){a.Owner.Owner.Owner.LastPage()}}}}}}});var d=ngVal(a.Data.PagingSize,5);0>d&&(d=1);for(var e=1;e<d;e++)if("object"===typeof a.Controls.Paging&&a.Controls.Paging){var g=
{};g["Page"+e]=a.Controls.Paging.Controls.Page0;ng_MergeDef(a.Controls.Paging.Controls,g)}b=ngCreateControlAsType(a,"ngFrame",b,c);if(!b)return b;b.DisplayMode=plDisplayFit;b.PagingType=plPagingSimple;b.PagingSize=d;b.PagingMinSize=void 0;b.PagingLookout=void 0;b.PagingInside=!0;b.PagingHideDisabled=!1;b.DisplayPaging=plDisplayPagingMorePages;b.KeyEvents=!0;b.AutoSelectFirstItem=!1;b.Page=0;b.TopIndex=0;b.DisplayedItems=10;b.AverageItemHeight=void 0;b.MaxLength=void 0;b.CacheData=!0;b.MinDataBatch=
void 0;b.AsyncData=!0;b.AsyncDataTimeout=30;b.AsyncDataRetryCnt=3;b.AsyncDataURL="";b.SetPage=npgl_SetPage;b.NextPage=npgl_NextPage;b.PrevPage=npgl_PrevPage;b.FirstPage=npgl_FirstPage;b.LastPage=npgl_LastPage;b.IsPrevPageAvailable=npgl_IsPrevPageAvailable;b.IsNextPageAvailable=npgl_IsNextPageAvailable;b.PageByIndex=npgl_PageByIndex;b.SetPagingType=npgl_SetPagingType;b.ItemsPerPage=npgl_ItemsPerPage;b.getitemsperpage=npgl_getitemsperpage;b.DataRequestPerPage=npgl_DataRequestPerPage;b.GetAverageItemHeight=
npgl_GetAverageItemHeight;b.IsPagingVisible=npgl_IsPagingVisible;b.UpdatePaging=npgl_UpdatePaging;b.SetAsyncData=npgl_SetAsyncData;b.SetLength=npgl_SetLength;b.GetLength=npgl_GetLength;b.IsDynamicData=npgl_IsDynamicData;b.GetRPC=npgl_GetRPC;b.IsDataLoaded=npgl_IsDataLoaded;b.DoLoadData=npgl_DoLoadData;b.NeedData=npgl_NeedData;b.GetPageTopItems=npgl_GetPageTopItems;b.InvalidateData=npgl_InvalidateData;b.Refresh=npgl_Refresh;b.Reset=npgl_Reset;b.ScanPageItems=npgl_ScanPageItems;b.ScanVisiblePageItems=
npgl_ScanVisiblePageItems;b.ShowLoading=npgl_ShowLoading;b.IsAsyncLoadingBlock=npgl_IsAsyncLoadingBlock;b.loading_displayed=!1;b.last_asyncdata_index=-1;b.last_asyncdata_count=0;b.async_rpc=null;b.AsyncWaiting=npgl_AsyncWaiting;b.OnPageChanging=null;b.OnPageChanged=null;b.OnPagingUpdating=null;b.OnPagingUpdated=null;b.OnLoadData=null;b.OnInvalidateData=null;b.OnAsyncURLRequest=null;b.OnSetAsyncData=null;b.OnSetLength=null;b.OnShowLoading=null;b.OnHideLoading=null;a.OnCreated=ngAddEvent(a.OnCreated,
function(a,b){ng_OverrideMethod(a,"SetFocus",function(b){ngVal(b,!0)?a.List?a.List.SetFocus(!0):a.SetFocus.callParent(!0):(a.List&&a.List.SetFocus(!1),a.SetFocus.callParent(!1))});if(a.Controls.Paging){var c=a.Controls.Paging.ChildControls;if("undefined"!==typeof c){var d="right"==a.Controls.Paging.HAlign;if(d){for(var e=[],g=0,y=c.length-1;0<=y;y--)e[g++]=c[y];c=a.Controls.Paging.ChildControls=e}for(g=1;g<a.PagingSize;g++)if(e=a.Controls["Page"+g])for(e.InitVisible=e.Visible,y=c.length-1;0<=y;y--)if(c[y]==
e){c.splice(y,1);break}for(var A=-1,y=c.length-1;0<=y;y--)e=c[y],e.InitVisible=e.Visible,e==a.Controls.Page0&&(A=y+1);if(0<=A)if(d)for(A--,g=a.PagingSize-1;0<g;g--)(e=a.Controls["Page"+g])&&c.splice(A++,0,e);else for(g=1;g<a.PagingSize;g++)(e=a.Controls["Page"+g])&&c.splice(A++,0,e)}}c=a.PagingType;--a.PagingType;a.SetPagingType(c,!1);a.AddEvent(npgl_DoUpdate,"DoUpdate");c=a.Controls.List;a.List=ngVal(c,null);c&&(c.draw_page=-1,c.draw_length=-1,c.draw_height=0,c.paging_needs_update=!0,c.page_start_found=
!0,c.init_page=a.Page,c.in_measure=!1,c.displayed_items=a.DisplayedItems,c.max_displayed_items=0,c.display_mode=a.DisplayMode,c.ListPagingChanged=npgl_ListPagingChanged,c.ListPagingChanged(),ng_OverrideMethod(c,"IndexOf",npgl_IndexOf),c.AddEvent(npgl_DoUpdateBefore,"DoUpdate"),c.AddEvent("OnKeyDown",npgl_OnKeyDown),c.AddEvent("DoUpdate",npgl_DoUpdateAfter),c.AddEvent("OnDrawItem",npgl_OnDrawItem),c.AddEvent("OnExpanding",npgl_OnExpanding),c.AddEvent("OnAdd",npgl_OnListChanged),c.AddEvent("OnRemove",
npgl_OnListChanged));a.Page=0});return b}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.list={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngList",function(){return new ngList});ngRegisterControlType("ngPageList",Create_ngPageList)}};var MaskEditControl={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngMaskEdit",function(a,b,c){"undefined"===typeof a.Data&&(a.Data={});var d=ngVal(a.Data.Mask,""),e=ngVal(a.Data.LockHintCaretPos,!1);ng_MergeDef(a,{ParentReferences:!1,Data:{Vertical:!0,LeftDef:{Type:"ngButton"},EditDef:{Type:"ngEdit",Data:{LockHintCaretPos:e,TextAlign:"right"}},StaticDef:{Type:"ngButton"},RightDef:{Type:"ngButton"}}});a.OnCreated=ngAddEvent(a.OnCreated,function(a,b){a.SetMask(d);
"undefined"!==typeof a.Text&&(a.SetText(a.Text),delete a.Text);return!0});"undefined"!==typeof a.W||"undefined"!==typeof a.L&&"undefined"!==typeof a.R||"undefined"!==typeof a.Data.AutoSize||(a.Data.AutoSize=!0);var g=ngCreateControlAsType(a,"ngToolBar",b,c);if(!g)return g;g.AddEvent("OnUpdated",function(a,b){var c=0,d=0,e=a.Controls.LeftHolder,g=a.Controls.RightHolder;e&&(e.LeftImg&&(c+=ngVal(e.LeftImg.W,0)),e.RightImg&&(c+=ngVal(e.RightImg.W,0)));g&&(g.LeftImg&&(d+=ngVal(g.LeftImg.W,0)),g.RightImg&&
(d+=ngVal(g.RightImg.W,0)));if(a.AutoSize)e&&e.SetBounds({W:c})&&e.Update(),g&&g.SetBounds({W:d})&&g.Update();else{var y=a.Elm();ng_BeginMeasureElement(y);try{var A=ng_ClientWidth(y),z;for(z in a.Controls)""!=ngVal(a.Controls[z].MaskType,"")&&(A-=ng_ClientWidth(a.Controls[z].Elm()));if("right"==a.TextAlign&&e)e.SetBounds({W:A-d})&&e.Update();else if("center"==a.TextAlign&&e&&g){var B=Math.round(A/2);e.SetBounds({W:B-d})&&e.Update();g.SetBounds({W:A-B-c})&&g.Update()}else g&&g.SetBounds({W:A-c})&&
g.Update()}finally{ng_EndMeasureElement(y)}}});g.Mask="";g.TextAlign="left";g.AutoSize=void 0;g.CharWidth=10;g.PartWidths=[];g.PartDefaultValues=[];g.PartInitValues=[];g.DefaultValuesAsHint=!0;g.PartDefs=[];g.Invalid=!1;g.LockHintCaretPos=!1;g.GetText=function(){if(g.OnGetText)return ngVal(g.OnGetText(g),"");for(var a=g.GetParts(),b="",c=0;c<a.length;c++)b+=a[c].Text;return b};g.SetText=function(a){g.OnSetText&&(a=g.OnSetText(a,g));if("undefined"!==typeof a&&(g.Clear(),""!=a)){var b=g.GetParts(-1,
!0);if(0!=b.length){var c=g.textToParts(a);if(0==c.length)b[0].Control.SetText(a);else{a=[];for(b=0;b<c.length;b++)a.push("Static"==c[b].Type?void 0:c[b].Text);g.SetParts(a)}}}};g.SetFocus=function(a){if(a=ngVal(a,!0))g.SetFocusPart(0,!0);else{a=g.GetParts();for(var b=0;b<a.length;b++)a[b].Control.SetFocus(!1)}return!0};g.GetAlt=ngc_GetAlt;g.Clear=function(){for(var a=g.GetParts(-1,!0),b=0;b<a.length;b++)a[b].Control.SetText("");g.Update();return!0};g.UseInitValues=function(){if(ng_typeString(g.PartInitValues))return g.SetText(g.PartInitValues),
!0;if(!ng_typeArray(g.PartInitValues))return!1;if(0<g.PartInitValues.length){for(var a=g.GetParts(-1,!0),b=0;b<a.length;b++)"undefined"!==typeof g.PartInitValues[a[b].ID]&&a[b].Control.SetText(g.PartInitValues[a[b].ID]);g.Update()}return!0};g.GetValidText=function(a){a=ngVal(a,!1);if(!g.IsValid())return"";var b="";if(a){a=g.GetParts(-1,!0);for(var c=0;c<a.length;c++)b+=a[c].Text}else b=g.GetText();return b};g.GetParts=function(a,b){a=ngVal(a,-1);b=ngVal(b,!1);var c,d,e=[],w;for(w in g.Controls)if(c=
ngVal(g.Controls[w].MaskType,""),!(""==c||b&&"Edit"!=c)){var y=ngVal(g.Controls[w].GetText(),"");d=""==y&&"undefined"!==typeof g.Controls[w].DefaultValue?g.Controls[w].DefaultValue:y;-1!=a&&a!=g.Controls[w].MaskID||e.push(Object({ID:g.Controls[w].MaskID,Type:c,Mask:g.Controls[w].MaskDef,RegExp:g.Controls[w].MaskRegExp,Text:d,RawText:y,DefaultValue:g.Controls[w].DefaultValue,Control:g.Controls[w]}));if(a==g.Controls[w].MaskID)break}return e};g.SetParts=function(a,b){if("undefined"===typeof a)return!1;
ng_typeString(a)&&(a=Array(a));b=ngVal(b,-1);var c=g.GetParts(b);if(-1<b){if(0==c.length)return!1;c[0].Control.SetText(a[0])}else for(var d=0;d<c.length;d++)"undefined"!==typeof a[c[d].ID]&&c[d].Control.SetText(a[c[d].ID]);g.Update();return!0};g.SetFocusPart=function(a,b){if("undefined"===typeof a||0>a)return!1;b=ngVal(b,!0);var c=g.GetParts(a);if(0==c.length)return!1;c[0].Control.SetFocus(b);return!0};g.SetMask=function(a){g.OnSetMask&&(a=g.OnSetMask(a,g));if("undefined"===typeof a)return!1;g.Mask=
a;a=a.split("");for(var b="09CXAaZz!?".split(""),c="\\^$.[]|()?*+{}".split(""),d=Object({mask:[],type:[],regexp:[]}),e={0:"[0-9]{1}",9:"[0-9]?",C:"[A-Za-z]{1}",X:"[A-Za-z]?",A:"[A-Z]{1}",a:"[a-z]{1}",Z:"[A-Z]?",z:"[a-z]?","!":".{1}","?":".?"},w=!1,y="",A="",z=0,B=0;B<a.length;B++)"\\"!=a[B]||w?(y=ng_inArray(a[B],b)&&!w?"Edit":"Static",""==A&&(d.mask.push(""),d.type.push(y),d.regexp.push("")),""!=A&&A!=y&&(z=d.mask.push("")-1,d.type.push(y),d.regexp.push("")),d.mask[z]+=a[B],d.regexp[z]="Edit"==y?
d.regexp[z]+e[a[B]]:d.regexp[z]+(ng_inArray(a[B],c)?"\\"+a[B]:a[B]),A=y,w=!1):w=!0;for(B=0;B<d.regexp.length;B++)d.regexp[B]="^"+d.regexp[B]+"$";g.Controls.Dispose();a={};g.OnCreateLeftHolder&&g.OnCreateLeftHolder(g,a);ng_MergeDef(a,g.LeftDef);ng_MergeDef(a,{W:0,Data:{Enabled:g.Enabled,Cursor:"text",DoUpdateImages:nge_DoUpdateImages},Events:{OnClick:function(a){if("undefined"!==typeof a){var b=a.Owner.Owner.Owner.GetParts(-1,!0);0<b.length&&a.Owner.Owner.Owner.SetFocusPart(b[0].ID)}},DoMouseEnter:function(a){a&&
this.Owner.Owner.handleEnterLeave(this,a,"enter")},DoMouseLeave:function(a){a&&this.Owner.Owner.handleEnterLeave(this,a,"leave")},OnFocus:function(a){a&&a.Owner.Owner.handleFocusBlur(a,"focus")},OnBlur:function(a){a&&a.Owner.Owner.handleFocusBlur(a,"blur")}}});g.Controls.AddControls({LeftHolder:a});for(B=0;B<d.mask.length;B++)b={},a={},g.OnCreatePart&&(c={ID:B,Type:d.type[B],Mask:d.mask[B],RegExp:d.regexp[B]},g.OnCreatePart(g,c,a,d)),B<g.PartDefs.length&&ng_MergeDef(a,g.PartDefs[B]),ng_MergeDef(a,
"Edit"==d.type[B]?g.EditDef:g.StaticDef),c=B<g.PartWidths.length?g.PartWidths[B]:void 0,e=B<g.PartDefaultValues.length?g.PartDefaultValues[B]:void 0,"Edit"==d.type[B]?("undefined"===typeof c&&(c=d.mask[B].length*g.CharWidth),ng_MergeDef(a,{Data:{MaxLength:d.mask[B].length}})):ng_MergeDef(a,{Data:{Cursor:"text",Text:d.mask[B],DoUpdateImages:nge_DoUpdateImages}}),ng_MergeDef(a,{W:c,Data:{Enabled:g.Enabled,Hint:g.DefaultValuesAsHint?e:"",MaskID:B,MaskType:d.type[B],MaskDef:d.mask[B],MaskRegExp:d.regexp[B],
DefaultValue:e},Events:{OnClick:function(a){if("undefined"!==typeof a&&"Static"==a.Owner.MaskType){var b=a.Owner.Owner.Owner.GetParts(a.Owner.MaskID-1,!0);0<b.length&&a.Owner.Owner.Owner.SetFocusPart(b[0].ID)}},OnKeyDown:function(a,b){if("undefined"===typeof a||"undefined"===typeof a.Owner.GetCaretPos||ngiOS)return!1;a.Owner.cursorPos=a.Owner.GetCaretPos();return a.keyCode==KEY_BACK&&a.Owner.HintVisible?(a.Owner.backHintVisible=!0,a.preventDefault?a.preventDefault():a.returnValue=!1,!1):!0},OnKeyUp:function(a,
b){if("undefined"===typeof a||"undefined"===typeof a.Owner.GetCaretPos||"undefined"===typeof a.Owner.SetCaretPos||"undefined"===typeof a.Owner.cursorPos||ngiOS)return!1;var c=a.Owner.Owner.Owner,d=a.Owner.cursorPos,e=a.Owner.GetCaretPos(),g=a.Owner.GetText().length,k,n=0;switch(a.keyCode){case KEY_END:case KEY_HOME:d=c.GetParts(-1,!0);if(0==d.length)break;e=a.keyCode==KEY_END?d[d.length-1]:d[0];a.keyCode==KEY_END&&(n=(e.Control.HintVisible?e.Control.GetHint():e.Control.GetText()).length);c.SetFocusPart(e.ID);
e.Control.SetCaretPos(n);break;case KEY_BACK:a.Owner.backHintVisible&&(d=e),delete a.Owner.backHintVisible;case KEY_LEFT:case KEY_RIGHT:if(d==e){var r=a.keyCode==KEY_RIGHT?"R":"L",d=c.GetParts();if(0==d.length)break;0!=e&&!a.Owner.HintVisible||"L"!=r||(k=a.Owner.MaskID-2);(e>=g||a.Owner.HintVisible)&&"R"==r&&(k=a.Owner.MaskID+2);if("undefined"===typeof d[k])break;"L"==r&&(n=(d[k].Control.HintVisible?d[k].Control.GetHint():d[k].Control.GetText()).length);c.SetFocusPart(k);d[k].Control.SetCaretPos(n)}break;
default:a.Owner.cursorPos=e}return c.LockHintCaretPos?!1:!0},OnTextChanged:function(a){if("undefined"===typeof a)return!1;g.OnTextChanged&&g.OnTextChanged(g,a);if("undefined"!==typeof a.cursorPos&&!ngiOS){var b=a.Owner.Owner,c=a.MaskDef.length,d=a.GetText().length;d==c&&a.cursorPos>=d&&b.SetFocusPart(a.MaskID+2)}return!0},DoMouseEnter:function(a){a&&this.Owner.Owner.handleEnterLeave(this,a,"enter")},DoMouseLeave:function(a){a&&this.Owner.Owner.handleEnterLeave(this,a,"leave")},OnFocus:function(a){a&&
a.Owner.Owner.handleFocusBlur(a,"focus")},OnBlur:function(a){a&&a.Owner.Owner.handleFocusBlur(a,"blur")}}}),a.OnCreated=ngAddEvent(a.OnCreated,function(a,b){a.OnGetAlt||(a.OnGetAlt=function(a){if("undefined"===typeof a)return"";a=ngVal(a.Alt,"");return""!=a?a:ngVal(g.GetAlt(),"")});return!0}),b[d.type[B]+"_"+B]=a,g.Controls.AddControls(b);a={};g.OnCreateRightHolder&&g.OnCreateRightHolder(g,a);ng_MergeDef(a,g.RightDef);ng_MergeDef(a,{W:0,Data:{Enabled:g.Enabled,Cursor:"text",DoUpdateImages:nge_DoUpdateImages},
Events:{OnClick:function(a){if("undefined"!==typeof a){var b=a.Owner.Owner.Owner.GetParts(-1,!0);0<b.length&&a.Owner.Owner.Owner.SetFocusPart(b[b.length-1].ID)}},DoMouseEnter:function(a){a&&this.Owner.Owner.handleEnterLeave(this,a,"enter")},DoMouseLeave:function(a){a&&this.Owner.Owner.handleEnterLeave(this,a,"leave")},OnFocus:function(a){a&&a.Owner.Owner.handleFocusBlur(a,"focus")},OnBlur:function(a){a&&a.Owner.Owner.handleFocusBlur(a,"blur")}}});g.Controls.AddControls({RightHolder:a});g.Update();
g.UseInitValues();return!0};g.IsValid=function(a,b){var c=ng_typeNumberInt(a)?a:-1;b=ngVal(b,!1);c=ng_typeString(a)?g.textToParts(a):g.GetParts(c);if(0==c.length)return!1;for(var d=[],e,w,y=0;y<c.length;y++)"Static"==c[y].Type?d.push(void 0):(e=new RegExp(c[y].RegExp),w=e.test(c[y].Text),g.OnValidate?d.push(ng_toBool(g.OnValidate(g,c[y],w,e))):d.push(w));if(b)return d;for(y=0;y<d.length;y++)if(!1===d[y])return!1;return!0};g.IsEmpty=function(a,b,c){a=ngVal(a,!1);b=ngVal(b,-1);c=ngVal(c,!1);b=g.GetParts(b);
if(0==b.length)return!1;for(var d=[],e=0;e<b.length;e++)"Static"==b[e].Type?d.push(void 0):a&&"undefined"!==typeof b[e].DefaultValue?d.push(""==b[e].RawText||b[e].RawText==b[e].DefaultValue?!0:!1):d.push(""==b[e].RawText?!0:!1);if(c)return d;for(e=0;e<d.length;e++)if(!1===d[e])return!1;return!0};g.SetInvalid=function(a,b){a=ngVal(a,!0);b=ngVal(b,!0);if(g.Invalid==a)return!0;if(g.OnSetInvalid&&!ngVal(g.OnSetInvalid(g,a,b),!1))return!1;g.Invalid=a;"function"===typeof g.DoSetInvalid&&(g.DoSetInvalid(g.Controls.LeftHolder,
a,b),g.DoSetInvalid(g.Controls.RightHolder,a,b));g.SetInvalidPart(-1,a,b);return!0};g.SetInvalidPart=function(a,b,c){if("undefined"===typeof a)return!1;b=ngVal(b,!0);c=ngVal(c,!0);if(g.OnSetInvalidPart&&!ngVal(g.OnSetInvalidPart(g,a,b,c),!1))return!1;if("function"===typeof g.DoSetInvalid){a=g.GetParts(a);for(var d=0;d<a.length;d++)g.DoSetInvalid(a[d].Control,b,c)}return!0};g.textToParts=function(a){if("undefined"===typeof a)return!1;var b=g.GetParts();if(0==b.length)return!1;for(var c=[""],d=0;d<
b.length;d++)c[0]+="("+b[d].RegExp.substring(1,b[d].RegExp.length-1)+")";for(var e,d=b.length-1;0<=d;d-=2){e="";for(var w=0;w<=d;w++)e+="Edit"==b[w].Type?"(.*)":"("+b[w].RegExp.substring(1,b[w].RegExp.length-1)+")";d==b.length-1&&"Edit"!=b[d].Type&&d++;(0<d||"(.*)"!=e)&&c.push(e)}for(var y,d=0;d<c.length&&!(c[d]="^"+c[d]+"$",e=new RegExp(c[d],"g"),y=e.exec(a));d++);if(!y)return[];y.shift();for(d=0;d<b.length;d++)b[d].Text=y[d];return b};g.handleEnterLeave=function(a,b,c){if("undefined"===typeof a||
"undefined"===typeof b||"undefined"===typeof c)return!1;c=c.toLowerCase();var d=a.Owner.Owner.GetParts();d.push({Control:a.Owner.LeftHolder});d.push({Control:a.Owner.RightHolder});for(a=0;a<d.length;a++)switch(c){case "enter":ngc_Enter(b,d[a].Control.Elm(),d[a].Control.CtrlType);break;case "leave":ngc_Leave(b,d[a].Control.Elm(),d[a].Control.CtrlType);break;default:return!1}return!0};g.handleFocusBlur=function(a,b){if("undefined"===typeof a||"undefined"===typeof b)return!1;b=b.toLowerCase();var c,
d,e,g=a.Owner.Owner.GetParts();g.push({Control:a.Owner.LeftHolder});g.push({Control:a.Owner.RightHolder});for(var y=0;y<g.length;y++)if(e=g[y].Control,"function"===typeof e.DoUpdateImages){switch(b){case "focus":d=!0;break;case "blur":d=!1;break;default:return!1}c=e.HasFocus;e.HasFocus=d;e.DoUpdateImages();e.HasFocus=c}return!0};g.OnGetText=null;g.OnSetText=null;g.OnSetMask=null;g.OnTextChanged=null;g.OnGetAlt=null;g.OnValidate=null;g.OnSetInvalid=null;g.OnSetInvalidPart=null;g.OnCreatePart=null;
g.OnCreateLeftHolder=null;g.OnCreateRightHolder=null;return g})}};"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.maskedit=MaskEditControl;var ngCurrentPopupMenu=null,ngCurrentAppPopupMenu=null;function ngm_gm_getlist(a){return a&&("ngButton"==a.CtrlType&&(a=a.Menu,!a)||"ngList"!=a.CtrlType&&"ngToolBar"!=a.CtrlType&&(a=a.SubMenu,!a)||"ngList"!=a.CtrlType&&"ngToolBar"!=a.CtrlType)?null:a}
function ngGetMenu(a,b,c,d,e){a=ngm_gm_getlist(a);var g=null;c=ngVal(c,!0);d=ngVal(d,null);try{for(var k=0,n,r,u,x,w=null,y,A,z,B,D=0;D<=b.length;D++)if(D==b.length||"\\"==b.charAt(D)){n=b.substr(k,D-k);if(""!=n){if(!a&&"%"!=n.charAt(0))return null;y=a?"ngToolBar"==a.CtrlType?a.Menu:a.Items:void 0;A=-1;B="";r=null;switch(n.charAt(0)){case "#":if(a&&"undefined"!==typeof y){n=n.substr(1,n.length-1);var C=parseInt(n);0<C&&C<=y.length&&(r=y[C-1])}break;case "%":n=n.substr(1,n.length-1);C=n.indexOf(":");
0<=C?(B=n.substr(0,C),n=n.substr(C+1,n.length-C)):(B=n,n="");var E=ngGetControlById(B);if(E){a=ngm_gm_getlist(E);if(!a)return null;w=null;k=D+1;y="ngToolBar"==a.CtrlType?a.Menu:a.Items;continue}else{if(!a)return null;for(var F=0;F<y.length;F++)if(y[F].ID==B){r=y[F];break}}break;case "@":if(C=n.indexOf(":"),0<=C&&(z=n.substr(1,C-1),n=n.substr(C+1,n.length-C),0<z.length)){var H="-"==z.charAt(z.length-1)?0:1;if("-"==z.charAt(z.length-1)||"+"==z.charAt(z.length-1))z=z.substr(0,z.length-1);if("#"==z.charAt(0))A=
parseInt(z.substr(1,z.length-1));else if("%"==z.charAt(0))if(r=null,z=z.substr(1,z.length-1),E=ngGetControlById(z)){E=ngm_gm_getlist(E);if(!E)return null;a=E.Owner;w=null;if(!a)return null;y="ngToolBar"==a.CtrlType?a.Menu:a.Items;if("undefined"!==typeof y)for(F=0;F<y.length;F++)if(y[F].SubMenu==E||y[F].Menu==E){A=F+H;break}}else{if("undefined"!==typeof y)for(F=0;F<y.length;F++)if(y[F].ID==z){A=F+H;break}}else if(a&&!w&&"undefined"!==typeof y)if(x)for(F=0;F<y.length;F++){if(y[F].ngText==z){A=F+H;break}}else for(F=
0;F<y.length;F++)if(y[F].Text==z){A=F+H;break}}default:if("$"==n.charAt(0)?(x=!0,n=n.substr(1,n.length-1)):x=!1,a&&!w&&"-"!=n&&"undefined"!==typeof y)if(x)for(F=0;F<y.length;F++){if(y[F].ngText==n){r=y[F];break}}else for(F=0;F<y.length;F++)if(y[F].Text==n){r=y[F];break}}if(r)w=r,a&&"ngToolBar"==a.CtrlType?r.Menu&&(a=r.Menu,w=null):r.SubMenu&&(a=r.SubMenu,w=null),g=r;else if(c&&a){u=new ngListItem;x?(u.ngText=n,u.Text=ngTxt(n)):u.Text=n;""!=B&&(u.ID=B);if(d&&!ngVal(d(a,u,e),!1)){g=null;break}if("ngToolBar"==
a.CtrlType){var J=a.InsertItem(A,u);J&&(a=J.Menu,u=null)}else if(w){var N={};N.Items=Array(u);""!=ngVal(w.ID,"")&&(N.ID=w.ID);a=a.CreateSubMenu(w,N)}else 0>A||"undefined"===typeof a.Items||A>=a.Items.length?a.Add(u):a.Insert(A,u);g=w=u}else{g=null;break}}k=D+1}}catch(P){}return g}function ngmn_WindowWidth(){var a=ngApp?ngApp.TopElm():null;return ng_ClientWidthEx(a)}function ngmn_WindowHeight(){var a=ngApp?ngApp.TopElm():null;return ng_ClientHeightEx(a)}
function ngmn_GetScreenRect(){var a={Left:0,Top:0,Right:0,Bottom:0},b=ngApp?ngApp.TopElm():null;a.Right=ng_ClientWidthEx(b);a.Bottom=ng_ClientHeightEx(b);this.OnGetScreenRect&&this.OnGetScreenRect(this,a);return a}function ngmn_IsInsidePopup(a,b,c){for(a=ngGetControlByElement(a,"ngList");a&&a!==this&&a.ActiveSubMenu!==this;)a=a.Owner;return a?!0:!1}function ngmn_DisableContextMenu(a){a?a.preventDefault&&a.preventDefault():(a=window.event,a.returnValue=!1);return!1}
function ngmn_OnScroll(a,b,c){a.HideSubMenu()}function ngmn_DoAttach(a){a&&(a.oncontextmenu=ngmn_DisableContextMenu)}function ngmn_DoDispose(){var a=this.Owner;a&&ngVal(a.ActiveSubMenu,null)==this&&(a.ClearSelected(),a.ActiveSubMenu=null);this.SubMenuTimer&&clearTimeout(this.SubMenuTimer);this.SubMenuTimer=null;ngCurrentPopupMenu===this&&(ngCurrentPopupMenu=null,ngc_DeactivatePopup(this));this.ParentMenu&&this.ParentMenu.SubMenu===this&&delete this.ParentMenu.SubMenu;return!0}
function ngmn_Update(a){if(this.Visible&&!this.__menuvishandling){a=function(){for(var a=this.ParentControl,d=!0;a;){"function"===typeof a.HideSubMenu&&(d=!1);d&&a.RemoveEvent("OnVisibleChanged",b);if("undefined"!==typeof a.PopupChildMenus)for(var k=a.PopupChildMenus.length-1;0<=k;k--)a.PopupChildMenus[k]===c&&a.PopupChildMenus.splice(k,1);a=a.ParentControl}return!0};var b=function(a){a.Visible||c.HideSubMenu()};this.__menuvishandling=!0;var c=this,d=this.ParentControl;if(d){for(;d&&"function"!==
typeof d.HideSubMenu;)d.AddEvent("OnVisibleChanged",b),d=d.ParentControl;this.AddEvent("DoDispose",a)}}}function ngmn_ParentIsInsidePopup(a,b,c,d){if("undefined"!==typeof a.PopupChildMenus)for(var e=0;e<a.PopupChildMenus.length;e++)if(a.PopupChildMenus[e].IsInsidePopup(b,c,d))return!0;return!1}function ngmn_ParentChildMenusVisibleChanged(a){a.Visible||(a.PopupChildMenus=[])}
function ngmn_SetCurrentPopupMenu(a){for(var b=a;b;){if(b===ngCurrentPopupMenu)return;if(b!==a&&ngc_IsActivePopup(b)){"undefined"===typeof b.PopupChildMenus&&(b.PopupChildMenus=[],b.AddEvent("OnIsInsidePopup",ngmn_ParentIsInsidePopup),b.AddEvent("OnVisibleChanged",ngmn_ParentChildMenusVisibleChanged));var c;for(c=0;c<b.PopupChildMenus.length&&b.PopupChildMenus[c]!==a;c++);c>=b.PopupChildMenus.length&&b.PopupChildMenus.push(a);break}b=b.ParentControl?b.ParentControl:b.Owner}ngCurrentPopupMenu&&ngCurrentPopupMenu!==
a&&ngCurrentPopupMenu.HideMenu();ngCurrentPopupMenu=a;ngc_ActivatePopup(a)}
function ngmn_DoPopup(){var a=this.Elm();if(!a||this.OnPopup&&!ngVal(this.OnPopup(this),!1))return null;this.AutoPopup=ngVal(this.AutoPopup,!this.Visible);this.HideSubMenu();this.Visible||(a.style.left="-10000px",a.style.top="-10000px");var b;if("undefined"!==typeof this.zIndex)b=this.zIndex;else{"undefined"!==typeof ngModalCnt&&"undefined"!==typeof ngModalZIndexDelta?(b=ngModalZIndexDelta-1E3,b+=ngModalCnt*ngModalZIndexDelta):b=1E4;for(var c=this;c&&"function"===typeof c.HideSubMenu;)b++,c=c.Owner}a.style.zIndex=
b;"undefined"!==typeof this.Bounds.H||"undefined"!==typeof this.Bounds.B&&"undefined"!==typeof this.Bounds.T||(a.style.height="auto");"undefined"!==typeof this.Bounds.W||"undefined"!==typeof this.Bounds.R&&"undefined"!==typeof this.Bounds.L||(a.style.width="auto");this.SetVisible(!0);var d=ngVal(this.MinWidth,100);b=!ng_EmptyVar(this.Frame);c=!1;ng_BeginMeasureElement(a);var e=ng_OuterWidth(a);e<d?(c=!0,ng_SetOuterWidth(a,d)):ngOpera&&ng_SetOuterWidth(a,e);d=this.MaxHeight;"undefined"===typeof d&&
(d=this.GetScreenRect(),d=d.Bottom-d.Top-10);ng_OuterHeight(a)>d&&(c=!0,ng_SetOuterHeight(a,d));ng_EndMeasureElement(a);c&&b&&this.Update();ngCurrentAppPopupMenu=null;return a}
function ngmn_Popup(a,b,c,d){var e=this.DoPopup();if(e){c=ngVal(c,this.MenuHAlign);d=ngVal(d,this.MenuVAlign);c=ngVal(c,"left");d=ngVal(d,"top");var g=ngVal(this.MinScreenIndent,5);ng_BeginMeasureElement(e);var k=ng_OuterWidth(e),n=ng_OuterHeight(e);ng_EndMeasureElement(e);var r=this.GetScreenRect();"right"===c?(c=a-k,c<r.Left&&(c=a)):(c="center"===c?a-Math.round(k/2):a,c+k>r.Right-g&&(c=a-k));if(c<r.Left||c+k>r.Right-g)c=r.Left+g;"bottom"===d?(d=b-n,d<r.Top&&(d=b)):(d="center"===d?b-Math.round(n/
2):b,d+n>r.Bottom-g&&(d=b-n));if(d<r.Top||d+n>r.Bottom-g)d=r.Top+g;e.style.left=c+"px";e.style.top=d+"px";this.PopupX=a;this.PopupY=b;delete this.PopupElm;this.SetFocus()}}
function ngmn_PopupCtrl(a,b,c){var d=null;"string"===typeof a&&(a=(d=ngGetControlById(a))?d:document.getElementById(a));"function"===typeof a.Elm?d=a.Elm():(d=a,a=null);if(d){var e=this.DoPopup();if(e){var g=0,k=0,n;a&&(b=ngVal(b,a.MenuHAlign),c=ngVal(c,a.MenuVAlign),g=ngVal(a.MenuOverlapX,0),k=ngVal(a.MenuOverlapY,0),n=a.MinScreenIndent);b=ngVal(b,this.MenuHAlign);c=ngVal(c,this.MenuVAlign);b=ngVal(b,"left");c=ngVal(c,"top");n=ngVal(n,this.MinScreenIndent);n=ngVal(n,5);a=e.parentNode;var r=ng_ParentPosition(d,
a,!0);ng_BeginMeasureElement(d);r.w=ng_OuterWidth(d);r.h=ng_OuterHeight(d);ng_EndMeasureElement(d);ng_BeginMeasureElement(e);var u=ng_OuterWidth(e),x=ng_OuterHeight(e);ng_EndMeasureElement(e);var w=this.GetScreenRect();"right"===b?"center"===c?(b=r.x+r.w+g,b+u>w.Right-n&&(b=r.x-u-g)):(b=r.x+r.w-u-g,b<w.Left&&(b=r.x+g)):("center"===b?b=r.x+Math.round(r.w/2)-Math.round(u/2)+g:"center"===c?(b=r.x-u-g,b<w.Left&&(b=r.x+r.w+g)):b=r.x+g,b+u>w.Right-n&&(b=r.x+r.w-u-g));if(b<w.Left||b+u>w.Right-n)b=w.Left+
n;"bottom"===c?(c=r.y-x-k,c<w.Top&&(c=r.y+r.h+k)):(c="center"===c?r.y+Math.round(r.h/2)-Math.round(x/2)+k:r.y+r.h+k,c+x>w.Bottom-n&&(c=r.y-x-k));if(c<w.Top||c+x>w.Bottom-n)c=w.Top+n;b+=ng_ScrollX(a);c+=ng_ScrollY(a);e.style.left=b+"px";e.style.top=c+"px";delete this.PopupX;delete this.PopupY;this.PopupElm=d;this.SetFocus()}}}
function ngmn_PopupSubMenu(a,b,c){if(a){var d=this.DoPopup();if(d){b=ngVal(b,this.MenuHAlign);c=ngVal(c,this.MenuVAlign);b=ngVal(b,"left");c=ngVal(c,"top");var e=ngVal(this.MinScreenIndent,5),g=d.parentNode,k=ng_ParentPosition(a,g,!0);ng_BeginMeasureElement(a);k.w=ng_OuterWidth(a);k.h=ng_OuterHeight(a);ng_EndMeasureElement(a);ng_BeginMeasureElement(d);var n=ng_OuterWidth(d),r=ng_OuterHeight(d);ng_EndMeasureElement(d);var u=ngVal(this.SubMenuOverlapX,5),x=ngVal(this.SubMenuOverlapY,0),w=this.GetScreenRect();
"right"==b?(b=k.x-n+u,b<w.Left&&(b=k.x+k.w-u)):(b=k.x+k.w-u,b+n>w.Right-e&&(b=k.x-n+u));if(b<w.Left||b+n>w.Right-e)b=w.Left+e;n=ng_GetCurrentStylePx(d,"padding-top")+ng_GetCurrentStylePx(d,"margin-top")+ng_GetCurrentStylePx(d,"border-top-width");u=ng_GetCurrentStylePx(d,"padding-bottom")+ng_GetCurrentStylePx(d,"margin-bottom")+ng_GetCurrentStylePx(d,"border-bottom-width");"bottom"==c?(c=k.y+k.h-r-x+u,c<w.Top&&(c=k.y+x-n)):(c=k.y+x-n,c+r>w.Bottom-e&&(c=k.y+k.h-r-x+u));if(c<w.Top||c+r>w.Bottom-e)c=
w.Top+e;b+=ng_ScrollX(g);c+=ng_ScrollY(g);d.style.left=b+"px";d.style.top=c+"px";delete this.PopupX;delete this.PopupY;this.PopupElm=a}}}function ngmn_ShowSubMenu(a){var b=a.SubMenu;if(this.ActiveSubMenu){if(this.ActiveSubMenu==b)return;this.HideSubMenu()}b?!b.Visible&&this.Enabled&&ngVal(a.Enabled,!0)&&(this.SelectItem(a),this.ActiveSubMenu=b,(a=document.getElementById(this.ID+"_"+this.ItemId(a)))&&b.PopupSubMenu(a)):(this.ClearSelected(),this.ActiveSubMenu=null)}
function ngmn_SetVisible(a){a=ngVal(a,!0);if(this.Visible!=a){var b=this.Owner;a?ngVal(this.AutoPopup,!1)&&ngmn_SetCurrentPopupMenu(this):(this.HideSubMenu(),b&&ngVal(b.ActiveSubMenu,null)==this&&(b.ClearSelected(),b.ActiveSubMenu=null),this.SubMenuTimer&&clearTimeout(this.SubMenuTimer),this.SubMenuTimer=null,delete this.PopupX,delete this.PopupY,delete this.PopupElm,ngCurrentPopupMenu===this&&(ngCurrentPopupMenu=null,ngc_DeactivatePopup(this)))}}
function ngmn_HideSubMenu(){var a=this.ActiveSubMenu;!a||this.OnHideSubMenu&&!ngVal(this.OnHideSubMenu(this),!1)||(this.ClearSelected(),a.SetVisible(!1),this.ActiveSubMenu=null)}function ngmn_SubMenuTimer(a,b){var c=ngl_ItemById(a);if(c.list)if(c.list.SubMenuTimer&&clearTimeout(c.list.SubMenuTimer),c.list.SubMenuTimer=null,b){var d=c.list.Owner;d&&ngVal(d.Visible,!0)&&c.list.ShowSubMenu(c.item)}else{for(d=c.list;d;){if(d.MouseInControl&&d!==c.list)return;d=d.ActiveSubMenu}c.list.HideSubMenu()}}
function ngmn_OnEnterRow(a,b,c){a.ActiveSubMenu&&a.ActiveSubMenu===b.SubMenu?a.SelectItem(b):a.ClearSelected();a.Owner&&a.Owner.SubMenuTimer&&(clearTimeout(a.Owner.SubMenuTimer),a.Owner.SubMenuTimer=null);if(a.ActiveSubMenu||b.SubMenu&&("undefined"===typeof a.PointerInfo||!a.PointerInfo.Touch))a.SubMenuTimer&&clearTimeout(a.SubMenuTimer),a.SubMenuTimer=setTimeout("ngmn_SubMenuTimer('"+c+"',1);",200);ngc_EnterImg(c+"M");return!0}
function ngmn_OnLeaveRow(a,b,c){a.SubMenuTimer&&clearTimeout(a.SubMenuTimer);a.SubMenuTimer=null;a.ActiveSubMenu&&a.ActiveSubMenu!==b.SubMenu&&(a.SubMenuTimer=setTimeout("ngmn_SubMenuTimer('"+c+"',0)",200));ngc_LeaveImg(c+"M");return!0}function ngmn_OnEnter(a){var b=a.Owner;if("function"===typeof b.HideSubMenu){b.ClearSelected();for(var c=0;c<b.Items.length;c++)if(b.Items[c].SubMenu==a){b.SelectItem(b.Items[c]);break}}return!0}
function ngmn_OnKeyDown(a){switch(a.keyCode){case 39:case 37:case 27:var b=ngl_ItemById(ngl_CurrentRowId);b.list!=this&&(b.list=this,b.item=null);switch(a.keyCode){case 27:b.list.HideMenu();break;case 39:if(a=b.item?b.item.SubMenu:null)b.list.ShowSubMenu(b.item),a.SetFocus(),a.SetItemFocus(a.FirstVisibleItem());else if(a=b.list&&b.list.Owner?b.list.Owner:null){for(var c;a&&"ngToolBar"!=a.CtrlType;)"ngButton"==a.CtrlType&&(c=a),a=a.Owner;if(a&&"object"===typeof a.Menu)for(var d=0;d<a.Menu.length;d++)if(a.Menu[d]==
c){d++;d>=a.Menu.length&&(d=0);0<=d&&d<a.Menu.length&&(c=a.Menu[d])&&"ngButton"==c.CtrlType&&"object"===typeof c.Menu&&(b.list.AutoPopup=!0,c.Click(),c.Menu.SetItemFocus(c.Menu.FirstVisibleItem()));break}}break;case 37:if(a=b.list&&b.list.Owner?b.list.Owner:null)if("function"===typeof a.HideSubMenu){a.SetFocus();for(d=0;d<a.Items.length;d++)if(a.Items[d].SubMenu==b.list){a.SetItemFocus(a.Items[d]);break}a.HideSubMenu();a.SubMenuTimer&&clearTimeout(a.SubMenuTimer);a.SubMenuTimer=null}else{for(;a&&
"ngToolBar"!=a.CtrlType;)"ngButton"==a.CtrlType&&(c=a),a=a.Owner;if(a&&"object"===typeof a.Menu)for(d=0;d<a.Menu.length;d++)if(a.Menu[d]==c){d--;0>d&&(d=a.Menu.length-1);0<=d&&d<a.Menu.length&&(c=a.Menu[d])&&"ngButton"==c.CtrlType&&"object"===typeof c.Menu&&(b.list.AutoPopup=!0,c.Click(),c.Menu.SetItemFocus(c.Menu.FirstVisibleItem()));break}}}}return!0}
function ngmn_MenuText(a,b,c){var d,e=new ngStringBuilder;"function"===typeof b.OnGetText?d=ngVal(b.OnGetText(a,b,c),""):0<a.Columns.length?(d=ngVal(b.Text[c.ID],""),""==d&&(d="&nbsp;")):d=b.Text;var g=a.SubMenuImg;b.SubMenu&&g&&(0>=a.Columns.length||c.ID==a.Columns[a.Columns.length-1].ID)?(c=a.ItemId(b),b=ngl_ItemImgDrawProps(a.ID+"_"+c+"M",a.Enabled&&ngVal(b.Enabled,!0),g),e.append('<div style="position: relative;">'),ngc_Img(e,b,"width: "+b.W+"px;",'class="'+a.BaseClassName+'SubMenu"'),e.append('<div style="padding-right:'+
b.W+'px">'),e.append(d),e.append("</div></div>")):e.append(d);return e.toString()}
function ngmn_DrawItemText(a,b,c,d){var e=this.BaseClassName;if("-"==(0<this.Columns.length?ngVal(b.Text[this.Columns[0].ID],""):b.Text)){b.Visible=!1;var g=this.Items[0]==b||this.Items[this.Items.length-1]==b;this.OnDrawSeparator?this.OnDrawSeparator(a,b,c,d,this):0<this.Columns.length?a.append('<tr class="'+e+'Row" '+(g?'style="display:none" ':"")+'id="'+this.ID+"_"+c+'"><td colspan="'+this.Columns.length+'"><div class="'+e+'Separator">&nbsp;</div></td></tr>'):a.append('<div id="'+this.ID+"_"+c+
'" '+(g?'style="display:none" ':"")+'class="'+e+'Separator"></div>')}else this.DefaultDrawItemText(a,b,c,d)}function ngmn_DoCreate(a,b,c,d){"object"===typeof this.SubMenuDef&&this.SubMenuDef||(this.SubMenuDef={Type:a.Type});"undefined"!==typeof a.Data&&ngVal(a.Data.Visible,!1)||(d="object"===typeof ngApp&&ngApp?ngApp.TopElm():document.body,(a=c.parentNode)&&a!=d&&(a.removeChild(c),d.appendChild(c)))}
function ngmn_HideMenu(){for(var a=this,b=this;b;){if("function"!==typeof b.HideSubMenu){b=null;break}a=b;if(!ngVal(b.AutoPopup,!1))break;b=b.Owner}!b&&a?a.SetVisible(!1):a&&a.HideSubMenu()}
function ngmn_MenuClick(a,b){if(!a)return!1;"undefined"===typeof b&&(b={});b.list!=this&&(b.Owner=this,b.list=this,b.listItem=a,b.listObj=null,b.listRowObj=null,b.listPart=0,b.listCol=-1);if(!this.Enabled||!ngVal(a.Enabled,!0))return!1;if(a.SubMenu&&"undefined"!==typeof this.PointerInfo&&this.PointerInfo.Touch)return this.ShowSubMenu(a),!1;if(this.OnMenuClick&&!ngVal(this.OnMenuClick(b,this,a),!1))return!1;var c=a.OnMenuClick;if(c){if(!ngVal(c(b,this,a),!0))return!1;this.HideMenu()}else if(c=this.GetItemAction(a),
c?c.OnClick&&(c=null,this.HideMenu()):c=a,c){if("undefined"!==typeof c.Checked||"undefined"!==typeof c.RadioGroup)this.CheckItem(a,"undefined"!==typeof c.RadioGroup?1:0==ngVal(c.Checked,0)?1:0);else if(a.SubMenu)return this.ShowSubMenu(a),!1;this.HideMenu()}else"undefined"===typeof a.SubMenu&&this.HideMenu();return!0}function ngmn_OnClick(a){return!a.listPart&&a.listItem&&a.list?a.list.MenuClick(a.listItem,a):!1}function ngmn_GetResText(a,b,c){return ngTxt(b.ngTextD)}
function ngmn_CreateSubMenu(a,b){if(!a)return null;"undefined"===typeof b&&(b={});for(var c=null,d=b.SubMenuOverlapX,e=b.SubMenuOverlapY,g=b.MenuHAlign,k=b.MenuVAlign,n=b.OnSubMenuCreated,r=this;r&&"function"===typeof r.HideSubMenu;)c||"object"!==typeof r.SubMenuDef||ngVal(r.SubMenuDef.AutoDef,!1)||(c=r.SubMenuDef),"undefined"!==typeof d||"undefined"!==typeof e||"undefined"===typeof r.SubMenuOverlapX&&"undefined"===typeof r.SubMenuOverlapY||(d=r.SubMenuOverlapX,e=r.SubMenuOverlapY),"undefined"!==
typeof g||"undefined"!==typeof k||"undefined"===typeof r.MenuHAlign&&"undefined"===typeof r.MenuVAlign||(g=r.MenuHAlign,k=r.MenuVAlign),"undefined"===typeof n&&"undefined"!==typeof r.OnSubMenuCreated&&(n=r.OnSubMenuCreated),r=r.Owner;var c=ng_CopyVar(c?c:this.SubMenuDef),u={SubMenu:c};if("undefined"===typeof c.Data)c.Data=b;else{var x=c.Data;c.Data=b;ng_MergeVar(c.Data,x)}"string"===typeof b.ID&&(c.id=b.ID);"undefined"!==typeof d&&(b.SubMenuOverlapX=d);"undefined"!==typeof e&&(b.SubMenuOverlapY=e);
"undefined"!==typeof g&&(b.MenuHAlign=g);"undefined"!==typeof k&&(b.MenuVAlign=k);"undefined"!==typeof n&&(b.OnSubMenuCreated=n);b.Owner=this;b.ParentMenu=a;d=ngCreateControls(u,void 0,"object"===typeof ngApp&&ngApp?ngApp.TopElm():void 0);(a.SubMenu=d.SubMenu)&&r.OnSubMenuCreated&&r.OnSubMenuCreated(r,c,d.SubMenu);return a.SubMenu}
function ngmn_OnAdd(a,b,c){b.OnClick||(b.OnClick=ngmn_OnClick);"undefined"!==typeof b.ngText&&""==ngVal(b.Text,"")&&(b.Text=ngTxt(b.ngText));"undefined"===typeof b.ngTextD||b.OnGetText||(b.OnGetText=ngmn_GetResText);c=b.SubMenu;if("object"===typeof c)if("function"!==typeof c.HideSubMenu){if("undefined"===typeof c.Items){var d={};d.Items=c;c=d}delete b.SubMenu;a.CreateSubMenu(b,c)}else c.Owner=a;return!0}
function ngmn_OnRemove(a,b,c){b.SubMenu&&"function"===typeof b.SubMenu.Dispose&&b.SubMenu.Dispose();return!0}function ngmn_BeginUpdate(a){this.ListBeginUpdate();a=ngVal(a,!0);this.update_info.push(a);a&&this.Scan(function(a,c,d,e){(a=c.SubMenu)&&a.BeginUpdate(!0);return!0})}function ngmn_EndUpdate(){this.ListEndUpdate();0<this.update_info.length&&this.update_info.pop()&&this.Scan(function(a,b,c,d){(a=b.SubMenu)&&a.EndUpdate(!0);return!0})}
function ngmn_GetMenu(a,b,c,d,e){b=ngVal(b,!1);c=ngVal(c,this);d=ngVal(d,null);return ngGetMenu(c,a,b,d,e)}function ngmn_GetMenuItemByID(a,b){var c={Menu:null,Item:null};this.ScanMenu(function(b,e,g,k){return e.ID&&e.ID==a?(c.Menu=b,c.Item=e,!1):!0},b,null);return c}function ngmn_ScanMenu(a,b,c,d){function e(c,n,r,u){return a(c,n,r,d)?n.SubMenu&&b&&(n.SubMenu.Scan(e,null),g)?!1:!0:(g=!0,!1)}if("function"!==typeof a)return!1;b=ngVal(b,!0);var g=!1;return this.Scan(e,c)}
function ngmb_DoCreate(a,b,c,d){"object"===typeof a.Button&&(this.ButtonDef=ng_CopyVar(a.Button));"undefined"!==typeof a.Type&&(this.DefType=a.Type);a=a.Menu;if("object"===typeof a&&("object"===typeof this.SubMenuDef&&this.SubMenuDef||(this.SubMenuDef={Type:a.Type}),"object"===typeof a.Data&&"object"===typeof a.Data.Items)){this.update_cnt++;try{var e=a.Data.Items;for(a=0;a<e.length;a++)this.AddItem(e[a])}finally{this.update_cnt--,this.need_update=this._items_changed=!1}}}
function ngmb_ClearItems(){if("object"===typeof this.Menu&&this.Menu&&0<this.Menu.length){for(var a=this.Menu.length-1;0<=a;a--)this.Menu[a].Dispose();this.Menu=[];this.Items=[];this.ItemsChanged()}}function ngmb_SetItems(a){this.update_cnt++;try{if(this.ClearItems(),a&&"object"===typeof a)for(var b=0;b<a.length;b++)this.AddItem(a[b])}finally{this.update_cnt--,this.ItemsChanged()}}function ngmb_AddItem(a){return this.InsertItem(-1,a)}
function ngmb_MenuButtontClick(){var a=this.Menu;"object"===typeof a&&a&&!a.Items.length||ngmn_DefaultClick.apply(this,arguments)}
function ngmb_InsertItem(a,b){var c;c="object"===typeof this.ButtonDef?ng_CopyVar(this.ButtonDef):{Type:"undefined"!==typeof this.DefType?this.DefType+"Button":"ngButton"};"undefined"===typeof c.className&&(c.className=this.BaseClassName+"Button");"undefined"===typeof c.Data&&(c.Data={});"object"!==typeof b&&(b={Text:b});for(var d in b)c.Data[d]=b[d];c.Menu=ng_CopyVar(this.SubMenuDef);"object"===typeof c.Menu&&c.Menu||(c.Menu={});"undefined"===typeof c.Menu.Type&&(c.Menu.Type="ngMenu");"object"===
typeof c.Menu.Data&&c.Menu.Data||(c.Menu.Data={});c.Menu.Data.Items=c.Data.SubMenu?c.Data.SubMenu:[];delete c.Data.SubMenu;delete c.Data.Menu;c=ngCreateControls({MenuBtn:c},void 0,this.ID);if(c.MenuBtn){b.SubMenu=c.MenuBtn.Menu;c.MenuBtn.MenuItem=b;c.MenuBtn.AddEvent("DoDispose",ngmb_ButtonDispose);c.MenuBtn.OnClick===ngmn_DefaultClick&&(c.MenuBtn.OnClick=ngmb_MenuButtontClick);c.MenuBtn.Owner=this;"undefined"===typeof this.Menu&&(this.Menu=[]);"undefined"===typeof this.Items&&(this.Items=[]);if(0>
a||a>=this.Items.length)this.Menu.push(c.MenuBtn),this.Items.push(b);else{if((d=this.ChildControls)&&0<d.length&&d[d.length-1]==c.MenuBtn){d.splice(d.length-1,1);var e=0;if(0<a&&a<this.Menu.length)for(var g=this.Menu[a-1],k=0;k<d.length;k++)if(d[k]===g){e=k+1;break}d.splice(e,0,c.MenuBtn)}this.Menu.splice(a,0,c.MenuBtn);this.Items.splice(a,0,b)}this.ItemsChanged()}return c.MenuBtn}
function ngmb_ButtonDispose(){if(this.Owner&&this.Owner.Menu&&"object"===typeof this.Owner.Menu)for(var a=this.Owner.Menu.length-1;0<=a;a--)if(this.Owner.Menu[a]===this){this.Owner.Menu.splice(a,1);this.Owner.Items.splice(a,1);for(a++;a<this.Owner.Menu.length;a++)this.Owner.Menu[a].Menu&&this.Owner.Menu[a].Menu.HideMenu();this.Owner.ItemsChanged();break}return!0}
function ngmb_DeleteItem(a){if("object"===typeof this.Menu&&this.Menu&&0<=a&&a<this.Menu.length){var b=this.Menu[a];this.Menu.splice(a,1);for(this.Items.splice(a,1);a<this.Menu.length;a++)(m=this.Menu[a].Menu)&&m.HideMenu();b&&b.Dispose();this.ItemsChanged()}}function ngmb_HideSubMenu(){if("object"===typeof this.Menu&&this.Menu)for(var a,b=0;b<this.Menu.length;b++)(a=this.Menu[b].Menu)&&a.HideMenu()}
function ngmb_ItemsChanged(){0<this.update_cnt?this.need_update=this._items_changed=!0:(this.DoItemsChanged(),this.Update())}function ngmb_CheckUpdate(a){if(0<this.update_cnt||""==this.ID)return this.need_update=!0,!1;this.need_update=!1;return!0}function ngmb_DoItemsChanged(){0<this.update_cnt?this._items_changed=!0:this.OnItemsChanged&&this.OnItemsChanged(this,this.Items)}
function ngmb_BeginUpdate(a){this.update_cnt++;if("object"===typeof this.Menu&&this.Menu){a=ngVal(a,!0);for(var b,c=0;c<this.Menu.length;c++)(b=this.Menu[c].Menu)&&b.BeginUpdate(a)}}
function ngmb_EndUpdate(){if(0<this.update_cnt&&"object"===typeof this.Menu&&this.Menu)for(var a,b=0;b<this.Menu.length;b++)(a=this.Menu[b].Menu)&&a.EndUpdate();this.update_cnt--;0>=this.update_cnt&&(this.update_cnt=0,this._items_changed&&(this._items_changed=!1,this.DoItemsChanged()),this.need_update&&this.Update())}
function ngmb_ScanMenu(a,b,c,d){if("function"!==typeof a)return!1;b=ngVal(b,!0);if(c&&"object"===typeof c)return c.MenuItem&&(c=c.MenuItem),c.SubMenu&&!c.SubMenu.ScanMenu(a,b,null,d)?!1:!0;if("undefined"!==typeof this.Items)for(var e=0;e<this.Items.length;e++)if(c=this.Items[e],"undefined"!==typeof c&&(!a(this,c,this,d)||c.SubMenu&&b&&!c.SubMenu.ScanMenu(a,!0,null,d)))return!1;return!0}
function ngmbb_ButtonEnterMenu(){var a=this.Menu;if("object"===typeof a&&a&&this.Enabled&&!this.ReadOnly&&!a.Visible){for(;a;){if("ngToolBar"==a.CtrlType){var b=!1,c,d=a.ChildControls;if("undefined"!==typeof d)for(var e=0;e<d.length;e++)if(c="object"===typeof a.ChildControls[e].Menu?a.ChildControls[e].Menu:null)b=b||c.Visible,c!=this.Menu&&c.SetVisible(!1);break}a=a.Owner}!this.Menu.Visible&&(b||ngVal(this.AutoPopup,!1))&&this.Menu.Items.length&&this.Menu.PopupCtrl(this)}}
function ngmnb_SetControlVisible(a){var b=this.Menu;"object"===typeof b&&b&&!a&&(b.AutoPopup=!0,b.HideMenu())}function ngsbtn_SetMenuVisible(a,b){var c=a.Owner;c&&"function"===typeof c.GetImg&&ngc_ChangeImg(c.ID+"_IR",b,c.Enabled,c.GetImg(2));return!0}function ngsbtn_Click(a){a=this.Menu;"object"===typeof a&&a&&a.Visible&&(a.AutoPopup=!0,a.HideMenu());return!0}
function ngsbtn_DoMenuClick(a){a=this.Menu;if("object"===typeof a&&a&&this.Enabled&&(!this.OnMenuClick||ngVal(this.OnMenuClick(this,a),!1)))if(a.Visible)a.AutoPopup=!0,a.HideMenu();else{var b=ngVal(a.MinWidth,100),c=ng_OuterWidth(this.Elm());0<c&&b<c&&(a.MinWidth=c);a.PopupCtrl(this)}}function ngsbtn_DoPtrClick(a){"menu"===a.EventID&&this.DoMenuClick(this)}
function ngsbtn_DoUpdate(a){var b=this.Menu;if("object"===typeof b&&b&&(a=document.getElementById(this.ID+"_IR"))&&(ngc_ChangeImg(this.ID+"_IR",b.Visible,this.Enabled,this.GetImg(2)),b=a.parentNode)){var c=b.parentNode;if(c){var d=c.parentNode,e=ng_OuterWidth(c)-ng_ClientWidth(a);ng_SetStyleWidth(c,e);b.removeChild(a);d.appendChild(a);ngc_PtrListener(this,a,"menu","tap");a.style.zIndex=2;b="";b=this.Enabled?"undefined"!==typeof this.Cursor?this.Cursor:"pointer":"default";try{a.style.cursor=b}catch(g){}}}return!0}
function ngmnb_SetMenuVisible(a,b){var c=a.Owner;"function"===typeof c.Check&&c.Check(b);return!0}function ngmn_DefaultClick(a){a=this.Menu;"object"===typeof a&&a&&(a.Visible?"function"===typeof a.HideMenu&&(a.AutoPopup=!0,a.HideMenu()):this.Enabled&&"function"===typeof a.PopupCtrl&&a.PopupCtrl(this))}function ngmn_DoMenuDispose(){var a=this.Menu;"object"===typeof a&&a&&"function"===typeof a.Dispose&&a.Dispose();return!0}
function ngmn_DoControlDispose(){var a=this.Owner;a&&a!=this&&ng_SetControlMenu(a,null);return!0}
function ngmn_PopupMouseMenu(a){a||(a=window.event);if(2!=a.button)return!0;var b=ngGetControlById(this.id);if(!b||!b.PopupMenu||!ngVal(b.Enabled,!0))return!0;var c=ngc_DoGetPointerPos(null,a,null);if("undefined"===typeof c.x)return!0;var d=ng_ParentPosition(ngApp?ngApp.TopElm():document.body);c.x-=d.x;c.y-=d.y;if(b.OnPopupMenu&&!ngVal(b.OnPopupMenu(b,b.PopupMenu,a,c),!1))return!0;b.PopupMenu.Popup(c.x,c.y);a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;ngc_ptrevignore(a);return!0}
function ngmn_DoPopupAttach(a){a&&(a.oncontextmenu=ngmn_DisableContextMenu,a.ngAddEvent||(a.ngAddEvent=ngObjAddEvent,1===ngHammerJSVer()?Hammer.event.bindDom(a,Hammer.EVENT_TYPES[Hammer.EVENT_START],ngmn_PopupMouseMenu):window.navigator.msPointerEnabled?a.addEventListener("MSPointerDown",ngmn_PopupMouseMenu,!1):a.ngAddEvent("onmousedown",ngmn_PopupMouseMenu)))}function ngmn_DoAcceptGestures(a,b){b.hold=!0}
function ngmn_DoGesture(a){if("hold"===a.Gesture){var b,c,d=this.PopupMenu;if(d){a.Touch&&"undefined"===typeof d.MenuVAlign&&"undefined"===typeof d.MenuHAlign&&(b="bottom",c="center");if(this.OnPopupMenu&&!ngVal(this.OnPopupMenu(this,d,a.Event,{x:a.X,y:a.Y}),!1))return!0;d.Popup(a.X,a.Y,c,b);return!0}}return!1}function ngmn_DoPopupDispose(){var a=this.PopupMenu;"object"===typeof a&&a&&"function"===typeof a.Dispose&&a.Dispose();return!0}
function ngmn_DoPopupControlDispose(){var a=this.Owner;a&&a!=this&&ng_SetControlPopup(a,null);return!0}function ngmn_SetPopupControlVisible(a){var b=this.PopupMenu;"object"===typeof b&&b&&!a&&(b.AutoPopup=!0,b.HideMenu())}
function ng_SetControlMenu(a,b){if(a){b=ngVal(b,null);var c=ngVal(a.Menu,null);if(c!=b){var d=ngVal(a.SplitButton,!1);if(c){"function"===typeof c.HideMenu&&c.HideMenu();b||(a.RemoveEvent("SetVisible",ngmnb_SetControlVisible),a.RemoveEvent("SetEnable",ngmnb_SetControlVisible),a.RemoveEvent("DoDispose",ngmn_DoMenuDispose),a.OnClick==ngmn_DefaultClick&&(a.OnClick=null));var e=ngVal(c.Owner,null);e==a&&(c.Owner=null,d?c.RemoveEvent("OnSetVisible",ngsbtn_SetMenuVisible):c.RemoveEvent("OnSetVisible",ngmnb_SetMenuVisible));
c.RemoveEvent("DoDispose",ngmn_DoControlDispose)}if(a.Menu=b)(e=b.Owner)&&e!=a&&ng_SetControlMenu(e,null),b.Owner=a,c||(a.AddEvent("SetVisible",ngmnb_SetControlVisible),a.AddEvent("SetEnable",ngmnb_SetControlVisible),a.AddEvent("DoDispose",ngmn_DoMenuDispose),"undefined"===typeof a.OnClick||a.OnClick||d||(a.OnClick=ngmn_DefaultClick)),d?b.AddEvent("OnSetVisible",ngsbtn_SetMenuVisible):b.AddEvent("OnSetVisible",ngmnb_SetMenuVisible),b.AddEvent(ngmn_DoControlDispose,"DoDispose")}}}
var nga_popup_initialized=!1;function nga_DoPopupMenuStart(a){a||(a=window.event);ngCurrentAppPopupMenu=null;a=2==a.button&&"object"===typeof ngApp&&"object"===typeof ngApp.PopupMenu&&ngApp.PopupMenu?ngApp.PopupMenu:null;!a||ngCurrentPopupMenu&&ngCurrentPopupMenu!=a||(ngCurrentAppPopupMenu=a);return!0}
function nga_DoPopupMenu(a){a||(a=window.event);if(ngCurrentAppPopupMenu){var b=ngc_DoGetPointerPos(null,a,null);if("undefined"===typeof b.x)return!0;var c=ng_ParentPosition(ngApp?ngApp.TopElm():document.body);b.x-=c.x;b.y-=c.y;var d=setTimeout(function(){clearTimeout(d);var c=ngCurrentAppPopupMenu;ngCurrentAppPopupMenu=null;c&&"function"===typeof c.Popup&&(ngCurrentAppPopupMenu=null,a.preventDefault&&a.preventDefault(),c.Popup(b.x,b.y))},10)}return!0}
function nga_DoPopupMenuTouch(a){if(!("hold"!==a.type&&"touch"!==a.type||a.gesture.pointerType===Hammer.POINTER_MOUSE||a.ngGestureHandled||"object"!==typeof ngApp||"object"!==typeof ngApp.PopupMenu)&&ngApp.PopupMenu)if("touch"===a.type)ngCurrentAppPopupMenu=ngCurrentPopupMenu&&ngCurrentPopupMenu!=ngApp.PopupMenu?null:ngApp.PopupMenu;else if(ngCurrentAppPopupMenu)var b=setTimeout(function(){clearTimeout(b);var c=ngCurrentAppPopupMenu;ngCurrentAppPopupMenu=null;if(c&&"function"===typeof c.Popup){var d=
a.gesture.center.pageX,e=a.gesture.center.pageY;"undefined"===typeof c.MenuVAlign&&"undefined"===typeof c.MenuHAlign&&(valign="bottom",halign="center");c.Popup(d,e,halign,valign)}},10)}
function nga_SetPopupMenu(a){var b=ngVal(this.PopupMenu,null);b!=a&&(b&&("function"===typeof b.HideMenu&&b.HideMenu(),b.Owner=null),(this.PopupMenu=a)?(a.Owner=this,nga_popup_initialized||(1===ngHammerJSVer()?(Hammer.event.bindDom(document,Hammer.EVENT_TYPES[Hammer.EVENT_START],nga_DoPopupMenuStart),Hammer.event.bindDom(document,Hammer.EVENT_TYPES[Hammer.EVENT_END],nga_DoPopupMenu),nga_popup_hammer=Hammer(document,{prevent_mouseevents:!0,hold_threshold:10}),nga_popup_hammer.on("hold touch",nga_DoPopupMenuTouch)):
window.navigator.msPointerEnabled?(document.addEventListener("MSPointerDown",nga_DoPopupMenuStart,!1),document.addEventListener("MSPointerUp",nga_DoPopupMenu,!1)):(document.onmousedown=ngAddEvent(nga_DoPopupMenuStart,document.onmousedown),document.onmouseup=ngAddEvent(nga_DoPopupMenu,document.onmouseup)),nga_popup_initialized=!0),document.oncontextmenu||(document.oncontextmenu=ngmn_DisableContextMenu)):document.oncontextmenu==ngmn_DisableContextMenu&&(document.oncontextmenu=null))}
function ng_SetControlPopup(a,b){if(a){b=ngVal(b,null);var c=ngVal(a.PopupMenu,null);if(c!=b){if(c){"function"===typeof c.HideMenu&&c.HideMenu();b||(a.RemoveEvent("SetVisible",ngmn_SetPopupControlVisible),a.RemoveEvent("SetEnable",ngmn_SetPopupControlVisible),a.RemoveEvent("DoAttach",ngmn_DoPopupAttach),a.RemoveEvent("DoAcceptGestures",ngmn_DoAcceptGestures),a.RemoveEvent("DoGesture",ngmn_DoGesture),a.RemoveEvent("DoDispose",ngmn_DoPopupDispose));c.RemoveEvent("DoDispose",ngmn_DoPopupControlDispose);
var d=ngVal(c.Owner,null);d==a&&(c.Owner=null)}if(a.PopupMenu=b)(d=b.Owner)&&d!=a&&ng_SetControlPopup(d,null),b.Owner=a,c||(a.AddEvent("SetVisible",ngmn_SetPopupControlVisible),a.AddEvent("SetEnable",ngmn_SetPopupControlVisible),a.AddEvent("DoAttach",ngmn_DoPopupAttach),a.AddEvent("DoAcceptGestures",ngmn_DoAcceptGestures),a.AddEvent("DoGesture",ngmn_DoGesture),a.AddEvent("DoDispose",ngmn_DoPopupDispose)),b.AddEvent(ngmn_DoPopupControlDispose,"DoDispose")}}}
function Create_ngMenu(a,b,c){b=ngCreateControlAsType(a,"ngList",b,c);if(!b)return b;b.ShowCheckboxes=!0;b.ShowHeader=!1;b.PopupGroup="menu";b.DoPopup=ngmn_DoPopup;b.IsInsidePopup=ngmn_IsInsidePopup;b.Popup=ngmn_Popup;b.PopupCtrl=ngmn_PopupCtrl;b.PopupSubMenu=ngmn_PopupSubMenu;b.ShowSubMenu=ngmn_ShowSubMenu;b.GetMenuItemByID=ngmn_GetMenuItemByID;b.ScanMenu=ngmn_ScanMenu;b.GetMenu=ngmn_GetMenu;b.MenuClick=ngmn_MenuClick;b.CreateSubMenu=ngmn_CreateSubMenu;b.HideSubMenu=ngmn_HideSubMenu;b.HideMenu=ngmn_HideMenu;
b.ListBeginUpdate=b.BeginUpdate;b.BeginUpdate=ngmn_BeginUpdate;b.ListEndUpdate=b.EndUpdate;b.EndUpdate=ngmn_EndUpdate;b.update_info=[];b.GetScreenRect=ngmn_GetScreenRect;b.AddEvent(ngmn_DoCreate,"DoCreate");b.AddEvent(ngmn_OnEnterRow,"OnEnterRow");b.AddEvent(ngmn_OnLeaveRow,"OnLeaveRow");b.AddEvent(ngmn_SetVisible,"SetVisible");b.AddEvent(ngmn_OnEnter,"OnMouseEnter");b.AddEvent("OnAdd",ngmn_OnAdd);b.AddEvent("OnRemove",ngmn_OnRemove);b.AddEvent("OnKeyDown",ngmn_OnKeyDown);b.AddEvent("OnScroll",ngmn_OnScroll);
b.AddEvent("DoAttach",ngmn_DoAttach);b.AddEvent(ngmn_Update,"Update");b.AddEvent("DoDispose",ngmn_DoDispose);b.OnGetText=ngmn_MenuText;b.DefaultDrawItemText=b.DrawItemText;b.DrawItemText=ngmn_DrawItemText;b.OnPopup=null;b.OnPopupMenu=null;b.OnDrawSeparator=null;b.OnHideSubMenu=null;b.OnMenuClick=null;b.OnClickOutside=null;b.OnGetScreenRect=null;b.Visible=!1;a.style&&(b.zIndex=a.style.zIndex);return b}
function Create_ngMenuBar(a,b,c){a=ngCreateControlAsType(a,"ngToolBar",b,c);if(!a)return a;a.BeginUpdate=ngmb_BeginUpdate;a.EndUpdate=ngmb_EndUpdate;a.AddItem=ngmb_AddItem;a.InsertItem=ngmb_InsertItem;a.DeleteItem=ngmb_DeleteItem;a.ClearItems=ngmb_ClearItems;a.SetItems=ngmb_SetItems;a.HideSubMenu=ngmb_HideSubMenu;a.ScanMenu=ngmb_ScanMenu;a.GetMenu=ngmn_GetMenu;a.ItemsChanged=ngmb_ItemsChanged;a.DoItemsChanged=ngmb_DoItemsChanged;a.update_cnt=0;a.need_update=!1;a.AddEvent(ngmb_CheckUpdate,"OnUpdate");
a.AddEvent(ngmb_DoCreate,"DoCreate");a.Menu=[];a.Items=[];a.OnItemsChanged=null;return a}function Create_ngMenuBarButton(a,b,c){a=ngCreateControlAsType(a,"ngButton",b,c);if(!a)return a;a.AddEvent("OnMouseEnter",ngmbb_ButtonEnterMenu);a.AutoPopup=!1;return a}
function Create_ngSplitButton(a,b,c){"undefined"===typeof a.Data&&(a.Data={});a.Data.SplitButton=!0;a=ngCreateControlAsType(a,"ngButton",b,c);if(!a)return a;a.AddEvent("DoUpdate",ngsbtn_DoUpdate);a.AddEvent("DoPtrClick",ngsbtn_DoPtrClick);a.AddEvent(ngsbtn_Click,"Click");a.DoMenuClick=ngsbtn_DoMenuClick;"undefined"===typeof a.OnMenuClick&&(a.OnMenuClick=null);return a}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.menu={Lib:"ng_controls",ControlsGroup:"Core",OnControlCreated:function(a,b){if(!b.InDesignMode){if("object"===typeof a.Menu&&"ngToolBar"!=b.CtrlType&&"undefined"===typeof b.Menu){var c={Control:a.Menu},c=ngCreateControls(c,void 0,"object"===typeof ngApp&&ngApp?ngApp.TopElm():void 0);ng_SetControlMenu(b,c.Control)}"object"===typeof a.PopupMenu&&"undefined"===typeof b.PopupMenu&&(c=a.PopupMenu,"undefined"===typeof c.Data&&(c.Data={}),c={Control:c},c=ngCreateControls(c,void 0,"object"===
typeof ngApp&&ngApp?ngApp.TopElm():void 0),ng_SetControlPopup(b,c.Control))}},OnInit:function(){ngRegisterControlType("ngMenu",Create_ngMenu);ngRegisterControlType("ngMenuBar",Create_ngMenuBar);ngRegisterControlType("ngMenuBarButton",Create_ngMenuBarButton);ngRegisterControlType("ngSplitButton",Create_ngSplitButton);"object"===typeof ngApp&&ngApp&&(ngApp.Menu=null,ngApp.SetPopupMenu=nga_SetPopupMenu)}};var alNone=0,alClient=1,alLeft=2,alRight=3,alTop=4,alBottom=5;
function ngapc_OnSetVisible(a,b){if(!ngVal(a.AlignAutoUpdate,!0)||!a.ParentControl)return!0;var c=ngVal(a.ControlAlign,alNone);if(c==this.align_control&&(c==alNone||c==alClient))return!0;""!=a.ID&&(c=a.Elm())&&(a.DoSetVisible?a.DoSetVisible(c,b):(c.style.display=b?"block":"none",c.style.visibility=b?"visible":"hidden"),ng_IE7RedrawFix(document.body));a.Visible!=b&&(a.Visible=b,a.ParentControl.Update(),a.OnVisibleChanged&&a.OnVisibleChanged(a));return!1}
function ngapc_DoUpdate(a){if(ngVal(this.AlignAutoUpdate,!0)&&this.ParentControl){var b=ngVal(this.ControlAlign,alNone);if(b!=this.align_control||(b==alLeft||b==alRight)&&this.align_w!=this.Bounds.W||(b==alTop||b==alBottom)&&this.align_h!=this.Bounds.H)return this.ParentControl.Update(),!0}return"function"===typeof this.ngc_DoUpdate?this.ngc_DoUpdate(a):!0}
function ngap_OuterHeight(a,b){b+=ng_GetCurrentStylePx(a,"margin-top")+ng_GetCurrentStylePx(a,"margin-bottom");b+=ng_GetCurrentStylePx(a,"border-top-width")+ng_GetCurrentStylePx(a,"border-bottom-width");return b+=ng_GetCurrentStylePx(a,"padding-top")+ng_GetCurrentStylePx(a,"padding-bottom")}
function ngap_OuterWidth(a,b){b+=ng_GetCurrentStylePx(a,"margin-left")+ng_GetCurrentStylePx(a,"margin-right");b+=ng_GetCurrentStylePx(a,"border-left-width")+ng_GetCurrentStylePx(a,"border-right-width");return b+=ng_GetCurrentStylePx(a,"padding-left")+ng_GetCurrentStylePx(a,"padding-right")}
function ngap_RegisterControl(a){"object"===typeof a&&a&&(a.DoUpdate!=ngapc_DoUpdate&&(a.ngc_DoUpdate=a.DoUpdate,a.DoUpdate=ngapc_DoUpdate,a.AddEvent(ngapc_OnSetVisible,"OnSetVisible")),a.align_fncregistered=!0)}
function ngap_UnreegisterControl(a){"object"===typeof a&&a&&(a.DoUpdate==ngapc_DoUpdate&&("function"===typeof a.ngc_DoUpdate&&(a.DoUpdate=a.ngc_DoUpdate,delete a.ngc_DoUpdate),a.RemoveEvent("OnSetVisible",ngapc_OnSetVisible)),"undefined"!==typeof a.align_fncregistered&&(a.align_fncregistered=!1))}
function ngap_Update(a){if(this.Visible){for(var b=this.ParentControl;b;){if(!b.Visible)return;b=b.ParentControl}if(!this.align_update){this.align_update=!0;var b=null,c=this.OnUpdated;this.OnUpdated=null;try{for(var d,e,g,k,n,r,u,x,w,y,A,z,B,D,C,E=!1,F=0;2>F;F++){C=this.ChildControls;if("undefined"!==typeof C&&0<C.length&&(b=this.Elm())){this.Align(b);z=this.AutoSize;A=y=w=x=u=r=0;ng_BeginMeasureElement(b);B=ng_OuterWidth(b);D=ng_OuterHeight(b);ng_EndMeasureElement(b);for(var H=0;H<C.length;H++)if(d=
C[H])if(d.Update(!1),e=ngVal(d.ControlAlign,alNone),e==alNone)(g=z?d.Elm():null)&&d.Visible&&(ng_BeginMeasureElement(g),k=ng_GetCurrentStylePx(g,"left")+ng_OuterWidth(g),n=ng_GetCurrentStylePx(g,"top")+ng_OuterHeight(g),ng_EndMeasureElement(g),k>y&&(y=k),n>A&&(A=n));else{e==alClient||"undefined"!==typeof d.align_fncregistered&&d.align_fncregistered||ngap_RegisterControl(d);var J=d.Elm();switch(e){case alTop:d.Bounds.T=u;d.Bounds.L=r;d.Bounds.R=x;d.align_h==d.Bounds.H&&"undefined"!==typeof d.align_oh?
(d.Bounds.H=d.align_oh,delete d.align_oh):d.Bounds.H=ngVal(d.Bounds.H,0);delete d.Bounds.B;delete d.Bounds.W;d.Visible&&(u+=ngap_OuterHeight(J,d.Bounds.H));!z&&u+w>D?("undefined"===typeof d.align_oh&&(d.align_oh=d.Bounds.H),d.Bounds.H-=u+w-D,0>d.Bounds.H&&(d.Bounds.H=0),u=D-w):delete d.align_oh;d.align_h=d.Bounds.H;break;case alBottom:d.Bounds.B=w;d.Bounds.L=r;d.Bounds.R=x;d.align_h==d.Bounds.H&&"undefined"!==typeof d.align_oh?(d.Bounds.H=d.align_oh,delete d.align_oh):d.Bounds.H=ngVal(d.Bounds.H,
0);delete d.Bounds.T;delete d.Bounds.W;d.Visible&&(w+=ngap_OuterHeight(J,d.Bounds.H));!z&&u+w>D?("undefined"===typeof d.align_oh&&(d.align_oh=d.Bounds.H),d.Bounds.H-=u+w-D,0>d.Bounds.H&&(d.Bounds.H=0),w=D-u):delete d.align_oh;d.align_h=d.Bounds.H;break;case alLeft:d.Bounds.L=r;d.Bounds.T=u;d.Bounds.B=w;d.align_w==d.Bounds.W&&"undefined"!==typeof d.align_ow?(d.Bounds.W=d.align_ow,delete d.align_ow):d.Bounds.W=ngVal(d.Bounds.W,0);delete d.Bounds.R;delete d.Bounds.H;d.Visible&&(r+=ngap_OuterWidth(J,
d.Bounds.W));!z&&r+x>B?("undefined"===typeof d.align_ow&&(d.align_ow=d.Bounds.W),d.Bounds.W-=r+x-B,0>d.Bounds.W&&(d.Bounds.W=0),r=B-x):delete d.align_ow;d.align_w=d.Bounds.W;break;case alRight:d.Bounds.R=x;d.Bounds.T=u;d.Bounds.B=w;d.align_w==d.Bounds.W&&"undefined"!==typeof d.align_ow?(d.Bounds.W=d.align_ow,delete d.align_ow):d.Bounds.W=ngVal(d.Bounds.W,0);delete d.Bounds.L;delete d.Bounds.H;d.Visible&&(x+=ngap_OuterWidth(J,d.Bounds.W));!z&&r+x>B?("undefined"===typeof d.align_ow&&(d.align_ow=d.Bounds.W),
d.Bounds.W-=r+x-B,0>d.Bounds.W&&(d.Bounds.W=0),x=B-r):delete d.align_ow;d.align_w=d.Bounds.W;break;case alClient:z=!1,d.Bounds.L=r,d.Bounds.R=x,d.Bounds.T=u,d.Bounds.B=w,delete d.Bounds.W,delete d.Bounds.H}d.align_control=e;d.SetBounds()}if(z){0<r+x&&(B=r+x);0<u+w&&(D=u+w);B<y&&(B=y);D<A&&(D=A);0>B&&(B=0);0>D&&(D=0);ng_SetOuterWidth(b,B);ng_SetOuterHeight(b,D);var N=ng_StyleWidth(b),P=ng_StyleHeight(b);if(this.Bounds.W!=N||this.Bounds.H!=P)this.Bounds.W=N,"undefined"!==typeof this.Bounds.L&&"undefined"!==
typeof this.Bounds.R&&delete this.Bounds.R,this.Bounds.H=P,"undefined"!==typeof this.Bounds.T&&"undefined"!==typeof this.Bounds.B&&delete this.Bounds.B,this.SetBounds()}}this.ngc_Update(a);C=this.ChildControls;if("undefined"!==typeof C&&0<C.length&&(b=this.Elm()))for(H=0;H<C.length;H++)if(d=C[H])if(e=ngVal(d.ControlAlign,alNone),e!=alNone&&(e!=this.align_control||(e==alLeft||e==alRight)&&this.align_w!=this.Bounds.W||(e==alTop||e==alBottom)&&this.align_h!=this.Bounds.H)){E=!0;break}if(!E)break}this.align_update=
!1;b||(b=this.Elm());(this.OnUpdated=c)&&this.OnUpdated(this,b)}finally{this.OnUpdated=c}}}}function ngAlignPanel_Create(a,b,c){a=ngCreateControlAsType(a,"ngAlignFrame"==a.Type?"ngFrame":"ngPanel",b,c);a.AutoSize=!1;a.ngc_Update=a.Update;a.Update=ngap_Update;a.CtrlBringToFront=ngc_CtrlBringToFront;a.CtrlSendToBack=ngc_CtrlSendToBack;a.CtrlInsertAfter=ngc_CtrlInsertAfter;a.CtrlInsertBefore=ngc_CtrlInsertBefore;return a}
function ngs_DoPtrStart(a){if("handle"===a.EventID){this.MouseDownSize=this.Size;this.IsMinimized()&&(this.MouseDownSize=0);if(this.IsMaximized()&&(a=this.Elm()))switch(this.PanelAlign){case "left":case "right":this.MouseDownSize=ng_ClientWidth(a)-this.HandleSize();break;case "top":case "bottom":this.MouseDownSize=ng_ClientHeight(a)-this.HandleSize()}a=document.getElementById(this.ID+"_M");var b=document.getElementById(this.ID+"_H");a&&b&&(a.style.left=b.style.left,a.style.top=b.style.top,a.style.width=
b.style.width,a.style.height=b.style.height,a.style.display="block");this.MouseDown=!0;this.DoUpdateImages()}}
function ngs_DoPtrEnd(a){if("handle"===a.EventID){if(a=document.getElementById(this.ID+"_M"))a.style.display="none";var b=this.PointerInfo;a=b.EndX-b.StartX;var c=b.EndY-b.StartY;if(b.StartTime+300>b.EndTime&&2>Math.abs(a)&&2>Math.abs(c))this.DoHandleClick();else switch(b=this.MouseDownSize,this.Restore(),this.PanelAlign){case "left":this.SetSize(b+a);break;case "right":this.SetSize(b-a);break;case "top":this.SetSize(b+c);break;case "bottom":this.SetSize(b-c)}this.MouseDown=!1;this.DoUpdateImages()}}
function ngs_DoPtrDrag(a){if("handle"!==a.EventID)return!1;var b=this.Elm(),c=document.getElementById(this.ID+"_M");if(c&&b){var d=ng_ClientWidth(b),b=ng_ClientHeight(b),e=this.HandleSize();a=this.PointerInfo;var g=a.X-a.StartX;a=a.Y-a.StartY;var k=this.MouseDownSize;switch(this.PanelAlign){case "left":k+=g;break;case "right":k-=g;break;case "top":k+=a;break;case "bottom":k-=a}0<this.MaxSize&&k>this.MaxSize&&(k=this.MaxSize);k<this.MinSize&&(k=this.MinSize);k<=this.AutoMinimize&&!this.IsMinimized()&&
(k=0);0>k&&(k=0);switch(this.PanelAlign){case "left":case "right":d-e-k<=this.AutoMaximize&&!this.IsMaximized()&&(k=d-e);k>d-e&&(k=d-e);break;case "top":case "bottom":b-e-k<=this.AutoMaximize&&!this.IsMaximized()&&(k=b-e),k>b-e&&(k=b-e)}switch(this.PanelAlign){case "left":c.style.left=k+"px";break;case "right":c.style.left=d-e-k+"px";break;case "top":c.style.top=k+"px";break;case "bottom":c.style.top=b-e-k+"px"}return!0}return!1}var ngs_CurrentHandleId="";
function ngs_HandleEnter(a,b,c){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){if(""!=ngs_CurrentHandleId){var d=document.getElementById(ngs_CurrentHandleId);ngs_HandleLeave(a,d)}ngs_CurrentHandleId=b.id;if(d=document.getElementById(b.id))a=d.className,0>a.indexOf("_Focus")&&(a+="_Focus"),d.className=a;ngc_EnterImg(b.id+"S");ngc_EnterImgS(b.id+"M");ngc_EnterImg(b.id+"E");ngc_EnterImg(b.id+"I");c&&c.OnHandleEnter&&c.OnHandleEnter(c)}}
function ngs_HandleLeave(a,b,c){a||(a=window.event);if(!(ngUsingTouch&&a&&a.type.toLowerCase().match(/mouse/))){ngs_CurrentHandleId==b.id&&(ngs_CurrentHandleId="");if(a=document.getElementById(b.id)){var d=a.className,e=d.indexOf("_Focus");0<=e&&(d=d.substring(0,e));a.className=d}ngc_LeaveImg(b.id+"S");ngc_LeaveImgS(b.id+"M");ngc_LeaveImg(b.id+"E");ngc_LeaveImg(b.id+"I");c&&c.OnHandleLeave&&c.OnHandleLeave(c)}}
function ngs_DoHandleClick(){if(!this.OnHandleClick||ngVal(this.OnHandleClick(this),!1))this.IsMinimized()||this.IsMaximized()?this.Restore():this.Minimize()}function ngs_GetImg(a){var b=null;if(this.OnGetImg)b=this.OnGetImg(this,a);else switch(a){case 0:b=this.MoverStartImg;break;case 1:b=this.MoverMiddleImg;break;case 2:b=this.MoverEndImg;break;case 3:b=this.HandleImg}return ngVal(b,null)}
function ngs_HandleSize(){if(!this.HandleVisible)return 0;var a,b=0;switch(this.PanelAlign){case "left":case "right":for(var c=0;4>c;c++)if(a=this.GetImg(c))a=ngc_ImgDrawProps(this.ID+"_MS","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,a),a.W>b&&(b=a.W);break;case "top":case "bottom":for(c=0;4>c;c++)if(a=this.GetImg(c))a=ngc_ImgDrawProps(this.ID+"_MS","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,a),a.H>b&&(b=a.H)}return b}
function ngs_Restore(){if(this.IsMinimized()||this.IsMaximized())if(!this.OnRestore||ngVal(this.OnRestore(this),!1)){this.ControlsPanel1.SetVisible(!0);this.ControlsPanel2.SetVisible(!0);this.__restore=!0;try{this.SetSize(this.Size)}finally{delete this.__restore}}}function ngs_IsMinimized(){return!this.ControlsPanel1.Visible}
function ngs_Maximize(){(this.IsMinimized()||this.IsMaximized())&&this.Restore();if(!this.OnMaximize||ngVal(this.OnMaximize(this),!1))this.ControlsPanel2.SetVisible(!1),this.SetSize(this.Size)}function ngs_IsMaximized(){return!this.ControlsPanel2.Visible}function ngs_Minimize(){(this.IsMinimized()||this.IsMaximized())&&this.Restore();if(!this.OnMinimize||ngVal(this.OnMinimize(this),!1))this.ControlsPanel1.SetVisible(!1),this.SetSize(this.Size)}
function ngs_SetSize(a){var b=a!=this.Size,c=this.Size;this.Size=a;if(b&&this.OnSizeChanging&&!ngVal(this.OnSizeChanging(this,c),!1))this.Size=c;else{0<this.MaxSize&&this.Size>this.MaxSize&&(this.Size=this.MaxSize);this.Size<this.MinSize&&(this.Size=this.MinSize);var d=this.Elm();!this.__restore&&this.Size<=this.AutoMinimize&&!this.IsMinimized()&&(this.Size=c,this.Minimize(),d=null);if(d){a=ng_ClientWidth(d);var d=ng_ClientHeight(d),e=document.getElementById(this.ID+"_H"),g=Math.round(this.Size),
k=this.HandleSize(),n=this.IsMinimized(),r=this.IsMaximized();e&&(e.style.display=this.HandleVisible?"block":"none");switch(this.PanelAlign){case "left":case "right":if(!this.__restore&&0<a-k&&a-k-this.Size<=this.AutoMaximize&&!this.IsMaximized()){this.Size=c;this.Maximize();r=n=!0;break}c=n?a-k:a-k-Math.round(this.Size);r&&(g=a-k,c=0);n&&(g=0);0>g&&(g=0);g>a-k&&(g=a-k);n||r||(this.Size=g);0>c&&(c=0);c>a-k&&(c=a-k);n||(this.ControlsPanel1.Bounds.W=g);r||(this.ControlsPanel2.Bounds.W=c);c=("left"==
this.PanelAlign?g:c)+"px";e&&(e.style.left=c,e.style.width=k+"px",e.style.height=d+"px");break;case "top":case "bottom":if(!this.__restore&&0<d-k&&d-k-this.Size<=this.AutoMaximize&&!this.IsMaximized()){this.Size=c;this.Maximize();r=n=!0;break}c=n?d-k:d-k-Math.round(this.Size);r&&(g=d-k,c=0);n&&(g=0);0>g&&(g=0);g>d-k&&(g=d-k);n||r||(this.Size=g);0>c&&(c=0);c>d-k&&(c=d-k);n||(this.ControlsPanel1.Bounds.H=g);r||(this.ControlsPanel2.Bounds.H=c);c=("top"==this.PanelAlign?g:c)+"px";e&&(e.style.top=c,e.style.height=
k+"px",e.style.width=a+"px")}n||(this.ControlsPanel1.SetBounds(),this.ControlsPanel1.Update());r||(this.ControlsPanel2.SetBounds(),this.ControlsPanel2.Update())}b&&this.OnSizeChanged&&this.OnSizeChanged(this)}}
function ngs_DoUpdate(a){var b=document.getElementById(this.ID+"_H");if(!b)return!0;var c=this.BaseClassName,d=new ngStringBuilder,e=0,g=!1,k=ng_ClientWidth(a);a=ng_ClientHeight(a);switch(this.PanelAlign){case "left":case "right":ngVal(this.LastDim,k)!=k&&(g=!0);e=k;break;case "top":case "bottom":ngVal(this.LastDim,a)!=a&&(g=!0),e=a}g&&(!this.OnResize||ngVal(this.OnResize(this),!1))&&0<e&&0<this.LastDim&&(g=e/this.LastDim,this.ResizeMode&ngspResizeSize&&(this.Size*=g),this.ResizeMode&ngspResizeMinSize&&
(this.MinSize*=g),this.ResizeMode&ngspResizeMaxSize&&(this.MaxSize*=g),this.ResizeMode&ngspResizeAutoMinimize&&(this.AutoMinimize*=g),this.ResizeMode&ngspResizeAutoMaximize&&(this.AutoMaximize*=g));this.SetSize(this.Size);var n,r=0,u=0;switch(this.PanelAlign){case "left":case "right":b.style.cursor=this.Enabled?"col-resize":"default";if(g=this.GetImg(0))n=ngc_ImgDrawProps(this.ID+"_HS","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute; top: 0px;",ngVal(g.Attrs,"")),
r=n.H;if(g=this.GetImg(2))n=ngc_ImgDrawProps(this.ID+"_HE","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute; top: "+(a-n.H)+"px;",ngVal(g.Attrs,"")),u=n.H;if(g=this.GetImg(1))n=ngc_ImgDrawProps(this.ID+"_HM","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_ImgSH(d,n,r,a-r-u,"",ngVal(g.Attrs,""));if(g=this.GetImg(3))n=ngc_ImgDrawProps(this.ID+"_HI","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute;z-index:1;top: "+Math.round((a-
n.H)/2)+"px;",ngVal(g.Attrs,""));break;case "top":case "bottom":b.style.cursor=this.Enabled?"row-resize":"default";if(g=this.GetImg(0))n=ngc_ImgDrawProps(this.ID+"_HS","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute; left: 0px;",ngVal(g.Attrs,"")),r=n.W;if(g=this.GetImg(2))n=ngc_ImgDrawProps(this.ID+"_HE","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute; left: "+(k-n.W)+"px;",ngVal(g.Attrs,"")),u=n.W;if(g=this.GetImg(1))n=ngc_ImgDrawProps(this.ID+
"_HM","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_ImgSW(d,n,r,k-r-u,"",ngVal(g.Attrs,""));if(g=this.GetImg(3))n=ngc_ImgDrawProps(this.ID+"_HI","ngSplitPanel",this.ID,this.MouseDown,this.Enabled,g),ngc_Img(d,n,"position:absolute;z-index:1;left: "+Math.round((k-n.W)/2)+"px;",ngVal(g.Attrs,""))}ng_SetInnerHTML(b,d.toString());c+=this.Enabled?"Handle":"HandleDisabled";ngs_CurrentHandleId==b.id&&(c+="_Focus");b.className=c;this.LastDim=e;return!0}
function ngs_DoUpdateImages(){for(var a=0;4>a;a++)if(img=this.GetImg(a)){var b="";switch(a){case 0:b="_HS";break;case 1:b="_HM";break;case 2:b="_HE";break;case 3:b="_HI"}ngc_ChangeImg(this.ID+b,this.MouseDown,this.Enabled,img)}}function ngs_DoAttach(a){if(a=document.getElementById(this.ID+"_H")){var b=this;a.onmouseover=function(a){ngs_HandleEnter(a,this,b)};a.onmouseout=function(a){ngs_HandleLeave(a,this,b)};ngc_PtrListener(this,a,"handle","drag")}}
function ngs_DoRelease(a){a.style.display="none";(a=document.getElementById(this.ID+"_H"))&&ng_SetInnerHTML(a,"")}
function ngs_DoCreate(a,b,c,d){d=this.BaseClassName;var e=ng_ClientWidth(c);ng_ClientHeight(c);var g=this.HandleSize();0<this.MaxSize&&this.Size>this.MaxSize&&(this.Size=this.MaxSize);this.Size<this.MinSize&&(this.Size=this.MinSize);var k={};k.ControlsPanel="object"===typeof a.ControlsPanel1?ng_CopyVar(a.ControlsPanel1):"object"===typeof a.ControlsPanel?ng_CopyVar(a.ControlsPanel):{};var n=k.ControlsPanel;ng_MergeDef(n,{Type:"ngPanel",className:d+"ControlsPanel",id:this.ID+"_P1",ScrollBars:ssAuto});
var r=Math.round(this.Size);switch(this.PanelAlign){case "left":n.L=0;n.W=r;n.T=0;n.B=0;break;case "right":n.R=0;n.W=r;n.T=0;n.B=0;break;case "top":n.T=0;n.H=r;n.L=0;n.R=0;break;case "bottom":n.B=0,n.H=r,n.L=0,n.R=0}n.Controls=a.Controls1;n.ModifyControls=a.ModifyControls1;k=ngCreateControls(k,void 0,c);this.ControlsPanel1=k.ControlsPanel;this.ControlsPanel1.Owner=this;delete k.ControlsPanel;ngCloneRefs(b,k);k={};k.ControlsPanel="object"===typeof a.ControlsPanel2?ng_CopyVar(a.ControlsPanel2):"object"===
typeof a.ControlsPanel?ng_CopyVar(a.ControlsPanel):{};n=k.ControlsPanel;ng_MergeDef(n,{Type:"ngPanel",className:d+"ControlsPanel",id:this.ID+"_P2",ScrollBars:ssAuto});r=e-g-Math.round(this.Size);0>r&&(r=0);switch(this.PanelAlign){case "left":n.R=0;n.W=r;n.T=0;n.B=0;break;case "right":n.L=0;n.W=r;n.T=0;n.B=0;break;case "top":n.B=0;n.H=r;n.L=0;n.R=0;break;case "bottom":n.T=0,n.H=r,n.L=0,n.R=0}n.Controls=a.Controls2;n.ModifyControls=a.ModifyControls2;k=ngCreateControls(k,void 0,c);this.ControlsPanel2=
k.ControlsPanel;this.ControlsPanel2.Owner=this;delete k.ControlsPanel;ngCloneRefs(b,k);a=document.createElement("div");a.id=this.ID+"_H";a.className=d+"Handle";a.style.position="absolute";c.appendChild(a);ngc_PtrEventsHTML(this,"handle","drag");a=document.createElement("div");a.id=this.ID+"_M";a.className=d+"Mover";a.style.display="none";a.style.position="absolute";a.style.zIndex="801";a.style.fontSize="0px";a.style.lineHeight="0px";a.style.left="0px";a.style.top="0px";a.style.width="0px";a.style.height=
"0px";c.appendChild(a)}var ngs_initialized=!1,ngspResizeNone=0,ngspResizeSize=1,ngspResizeMinSize=2,ngspResizeMaxSize=4,ngspResizeAutoMinimize=8,ngspResizeAutoMaximize=16;
function ngSplitPanel(a){ngControl(this,a,"ngSplitPanel");this.PanelAlign="left";this.ResizeMode=ngspResizeSize;this.Size=200;this.AutoMaximize=this.AutoMinimize=this.MaxSize=this.MinSize=0;this.HandleVisible=!0;this.HandleImg=this.MoverEndImg=this.MoverMiddleImg=this.MoverStartImg=null;this.MouseDown=!1;this.SetSize=ngs_SetSize;this.Minimize=ngs_Minimize;this.Maximize=ngs_Maximize;this.Restore=ngs_Restore;this.IsMaximized=ngs_IsMaximized;this.IsMinimized=ngs_IsMinimized;this.DoCreate=ngs_DoCreate;
this.DoRelease=ngs_DoRelease;this.DoUpdate=ngs_DoUpdate;this.DoAttach=ngs_DoAttach;this.DoPtrStart=ngs_DoPtrStart;this.DoPtrDrag=ngs_DoPtrDrag;this.DoPtrEnd=ngs_DoPtrEnd;this.DoUpdateImages=ngs_DoUpdateImages;this.GetImg=ngs_GetImg;this.HandleSize=ngs_HandleSize;this.DoHandleClick=ngs_DoHandleClick;this.OnRestore=this.OnMaximize=this.OnMinimize=this.OnSizeChanged=this.OnSizeChanging=this.OnHandleLeave=this.OnHandleEnter=this.OnHandleClick=this.OnResize=this.OnGetImg=null;ngControlCreated(this)}
function ngdp_BtnClick(a){a.Owner&&a.Owner.Owner&&a.Owner.Owner.SetDropDown(1==a.Owner.Checked?!1:!0)}
function ngdp_DoUpdate(a){var b=0,c=!1,d="undefined"===typeof this.Bounds.T;d?"undefined"!==typeof this.Bounds.T&&(delete this.Bounds.T,this.SetBounds()):"undefined"!==typeof this.Bounds.B&&(delete this.Bounds.B,this.SetBounds());var e=this.Button;e&&(1==e.Checked&&(c=!0),d?e.SetBounds({T:0,B:void 0}):e.SetBounds({B:0,T:void 0}),""==e.ID&&e.Attach(this.ID+"_B"),e.Parent=this,e.Update(),(e=e.Elm())&&(b=ng_OuterHeight(e)));if(c)this.ControlsPanel.Visible||ng_SetClientHeight(a,b+this.PanelHeight),a=
ng_StyleHeight(a),this.Bounds.H!=a&&(this.Bounds.H=a,this.SetBounds()),this.ControlsPanel.Bounds.T=d?b:0,this.ControlsPanel.Bounds.L=0,this.ControlsPanel.Bounds.R=0,this.ControlsPanel.Bounds.B=d?0:b,this.ControlsPanel.SetBounds(),this.ControlsPanel.SetVisible(!0);else{if(this.ControlsPanel.Visible){if(d=this.ControlsPanel.Elm())d=ng_ClientHeight(d),d>b&&(this.PanelHeight=d);this.ControlsPanel.SetVisible(!1)}ng_SetClientHeight(a,b);a=ng_StyleHeight(a);this.Bounds.H!=a&&(this.Bounds.H=a,this.SetBounds())}return!0}
function ngdp_SetBounds(a){if("undefined"!==typeof a&&"undefined"!==typeof a.H){var b=0,c=!1;if(this.Button){var d=this.Button.Elm();d&&(b=ng_OuterHeight(d));1==this.Button.Checked&&(c=!0)}this.PanelHeight=a.H-b;c||(this.Bounds.H=0)}return this.DefaultSetBounds(a)}
function ngdp_SetClientRect(a){if(ngVal(a,!1)&&("undefined"!==typeof a.W&&(this.Bounds.W=a.W),"undefined"!==typeof a.H)){var b=0,c=!1;if(this.Button){var d=this.Button.Elm();d&&(b=ng_OuterHeight(d));1==this.Button.Checked&&(c=!0)}this.PanelHeight=a.H;this.Bounds.H=(c?a.H:0)+b}}function ngdp_GetClientRect(){var a,b;if(ngVal(this.ControlsPanel,!1)){var c=this.ControlsPanel.Elm();c&&(a=ng_ClientWidth(c),b=ng_ClientHeight(c))}return{W:a,H:b}}function ngdp_DoRelease(a){a.style.display="none"}
function ngdp_DoCreate(a,b,c,d){d=this.BaseClassName;var e=0,g="undefined"===typeof a.T;"undefined"===typeof a.Button&&(a.Button={});ng_MergeDef(a.Button,{Type:"ngButton",L:0,R:0,id:this.ID+"_B",Data:{Checked:ngVal(a.DroppedDown,!1)?1:0},Events:{OnClick:ngdp_BtnClick}});"undefined"===typeof a.B?(a.Button.B=0,a.Button.T=void 0):(a.Button.T=0,delete a.Button.B);var k=ngCreateControls({Control:a.Button},void 0,c);"undefined"!==typeof k.Control?(k.Control.Owner=this,this.Button=k.Control,this.Button.Parent=
this):this.Button=null;if(k=this.Button)k&&""==k.ID&&k.Attach(this.ID+"_B"),k.Update(),(k=k.Elm())&&(e=ng_OuterHeight(k));if("undefined"!==typeof a.CW||"undefined"!==typeof a.CH)this.SetClientRect({W:a.CW,H:a.CH}),this.SetBounds();k={};k.ControlsPanel="object"===typeof a.ControlsPanel?ng_CopyVar(a.ControlsPanel):{};ng_MergeDef(k.ControlsPanel,{Type:"ngPanel",className:d+"ControlsPanel",id:this.ID+"_P",ScrollBars:ssAuto,L:0,T:0,R:0,B:0});k.ControlsPanel.Controls=a.Controls;k.ControlsPanel.ModifyControls=
a.ModifyControls;k.ControlsPanel.T=g?e:0;k.ControlsPanel.B=g?0:e;k=ngCreateControls(k,void 0,c);this.ControlsPanel=k.ControlsPanel;this.ControlsPanel.Owner=this;delete k.ControlsPanel;ngCloneRefs(b,k);delete a.Controls;delete a.ModifyControls}function ngdp_IsDroppedDown(){return this.Button&&1==this.Button.Checked}function ngdp_SetDropDown(a){this.IsDroppedDown()==a||this.OnDropDown&&!ngVal(this.OnDropDown(this,a),!1)||!this.Button||(this.Button.Check(a?1:0),this.Update())}
function ngdp_ToggleDropDown(){this.SetDropDown(!this.IsDroppedDown())}
function ngDropPanel(a){ngControl(this,a,"ngDropPanel");this.Button=null;this.IsDroppedDown=ngdp_IsDroppedDown;this.SetDropDown=ngdp_SetDropDown;this.ToggleDropDown=ngdp_ToggleDropDown;this.GetClientRect=ngdp_GetClientRect;this.SetClientRect=ngdp_SetClientRect;this.DefaultSetBounds=this.SetBounds;this.SetBounds=ngdp_SetBounds;this.DoCreate=ngdp_DoCreate;this.DoRelease=ngdp_DoRelease;this.DoUpdate=ngdp_DoUpdate;this.OnDropDown=null;ngControlCreated(this)}
"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.panels={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngAlignPanel",ngAlignPanel_Create);ngRegisterControlType("ngAlignFrame",ngAlignPanel_Create);ngRegisterControlType("ngDropPanel",function(){return new ngDropPanel});ngRegisterControlType("ngSplitPanel",function(){return new ngSplitPanel})}};function ng_Expand2Id(a){var b="",c="";if("string"===typeof a){var d=a.indexOf("_");0<=d&&(b=a.substring(0,d),c=a.substring(d+1,a.length))}return{id1:b,id2:c}}
function ng_OutlineHTML(a,b){b=ngVal(b,"");if(""==b)return a;for(var c=new ngStringBuilder,d=0;3>d;d++)for(var e=0;3>e;e++)if(1!=d||1!=e)c.append('<span style="position: absolute; left:'+(d-1)+"px; top:"+(e-1)+"px; color: "+b+'">'),c.append(a),c.append("</span>");c.append('<span style="position: absolute; left:0px; top:0px;">');c.append(a);c.append('</span><span style="visibility:hidden;margin-left:2px;">'+a+"</span>");return c.toString()}
var ng_CreateImageHTML=function(a,b,c,d,e,g,k,n,r){ng_CreateImageHTML=ngIExplorer6?ng_CreateImageHTMLIE6:ng_CreateImageHTMLNotIE6;return ng_CreateImageHTML(a,b,c,d,e,g,k,n,r)};
function ng_CreateImageHTMLNotIE6(a,b,c,d,e,g,k,n,r){"undefined"===typeof n&&(n="");"undefined"===typeof k&&(k="");"undefined"===typeof r&&(r="");""!=b?k="background: transparent url('"+b+"') no-repeat scroll "+-c+"px "+-d+(0==d?"pt":"px")+";"+k:ngIExplorer&&(k="background: transparent url('"+ngEmptyURL+"');"+k);return'<span id="'+a+'" unselectable="on" style="font-size:0;line-height:0;overflow:hidden;width:'+e+"px;height:"+g+"px;"+k+'" '+n+">"+r+"</span>"}
function ng_CreateImageHTMLIE6(a,b,c,d,e,g,k,n,r){"undefined"===typeof n&&(n="");"undefined"===typeof k&&(k="");"undefined"===typeof r&&(r="");""!=b?r='<span id="'+a+'_png" unselectable="on" style="position:absolute;font-size:0;line-height:0;left:'+-c+"px;top:"+-d+"px;width:"+(c+e)+"px;height:"+(d+g)+"px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"');\"></span>"+r:k="background: transparent url('"+ngEmptyURL+"');"+k;return'<span id="'+a+'" unselectable="on" style="font-size:0;line-height:0;overflow:hidden;width:'+
e+"px;height:"+g+"px;"+k+'" '+n+">"+r+"</span>"}
function ng_CreateImageHTMLSW(a,b,c,d,e,g,k,n,r,u,x){"undefined"===typeof u&&(u="");"undefined"===typeof r&&(r="");"undefined"===typeof x&&(x="");if("undefined"===typeof k||""==d)if(ngIExplorer6&&""!=d){k=ng_PreloadImage(d);if(!k)return"";k=k.width}else return""!=d?r="background: transparent url('"+d+"') repeat-x scroll "+-e+"px "+-g+(0==g?"pt":"px")+";"+r:ngIExplorer&&(r="background: transparent url('"+ngEmptyURL+"');"+r),'<span id="'+a+'_1" unselectable="on" style="font-size:0;line-height:0;overflow:hidden;width:'+c+
"px;height:"+n+"px;"+r+"left:"+b+'px;" '+u+">"+x+"</span>";if(0>=k)return"";for(var w=new ngStringBuilder,y=1;0<c;)c<k&&(k=c),w.append(ng_CreateImageHTML(a+"_"+y,d,e,g,k,n,r+"left:"+b+"px;",u,x)),c-=k,b+=k,y++;return w.toString()}
function ng_CreateImageHTMLSH(a,b,c,d,e,g,k,n,r,u,x){"undefined"===typeof u&&(u="");"undefined"===typeof r&&(r="");"undefined"===typeof x&&(x="");if("undefined"===typeof n||""==d)if(ngIExplorer6&&""!=d){n=ng_PreloadImage(d);if(!n)return"";n=n.height}else return""!=d?r="background: transparent url('"+d+"') repeat-y scroll "+-e+"px "+-g+(0==g?"pt":"px")+";"+r:ngIExplorer&&(r="background: transparent url('"+ngEmptyURL+"');"+r),'<span id="'+a+'_1" unselectable="on" style="font-size:0;line-height:0;overflow:hidden;width:'+
k+"px;height:"+c+"px;"+r+"top:"+b+'px" '+u+">"+x+"</span>";if(0>=n)return"";for(var w=new ngStringBuilder,y=1;0<c;)c<n&&(n=c),w.append(ng_CreateImageHTML(a+"_"+y,d,e,g,k,n,r+"top:"+b+"px;",u,x)),c-=n,b+=n,y++;return w.toString()}
function ng_SwapImageHTML(a,b,c){var d;if("undefined"!==typeof b&&"undefined"!==typeof c){if(ngIExplorer6&&(d=document.getElementById(a+"_png"))){d.style.pixelLeft=-b;d.style.pixelTop=-c;return}if(d=document.getElementById(a))d.style.backgroundPosition=-b+"px "+-c+(0==c?"pt":"px")}}
function ng_CreateBoxHTML(a,b,c,d,e,g,k,n,r,u){var x=new ngStringBuilder,w={L:0,T:0,W:0,H:0};r="position:absolute;"+r;var y,A,z,B,D,C,E;y="undefined"===typeof n.Left?w:n.Left;A="undefined"===typeof n.Top?w:n.Top;z="undefined"===typeof n.Right?w:n.Right;B="undefined"===typeof n.Bottom?w:n.Bottom;D="undefined"===typeof n.LeftTop?w:n.LeftTop;C="undefined"===typeof n.RightTop?w:n.RightTop;E="undefined"===typeof n.LeftBottom?w:n.LeftBottom;n="undefined"===typeof n.RightBottom?w:n.RightBottom;k&&(e+=y.W,
e+=z.W,g+=A.H,g+=B.H);k=D;k.W&&x.append(ng_CreateImageHTML(a+"_LT",ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left:"+c+"px;top: "+d+"px;"));k=A;k.W&&x.append(ng_CreateImageHTMLSW(a+"_T",D.W,e-D.W-C.W,ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"top: "+d+"px;"));k=C;k.W&&x.append(ng_CreateImageHTML(a+"_RT",ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left:"+(c+e-k.W)+"px;top: "+d+"px;"));k=y;k.W&&x.append(ng_CreateImageHTMLSH(a+"_L",d+(D.H?D.H:A.H),g-(D.H?D.H:A.H)-(E.H?E.H:B.H),ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left: "+c+"px;"));
k=z;k.W&&x.append(ng_CreateImageHTMLSH(a+"_R",d+(C.H?C.H:A.H),g-(C.H?C.H:A.H)-(n.H?n.H:B.H),ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left: "+(c+e-k.W)+"px;"));k=E;k.W&&x.append(ng_CreateImageHTML(a+"_LB",ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left:"+c+"px;top: "+(d+g-k.H)+"px;"));k=B;k.W&&x.append(ng_CreateImageHTMLSW(a+"_B",E.W,e-E.W-n.W,ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"top: "+(d+g-k.H)+"px;"));k=n;k.W&&x.append(ng_CreateImageHTML(a+"_RB",ngVal(k.Src,b),k.L,k.T,k.W,k.H,r+"left:"+(c+e-k.W)+"px;top: "+(d+g-k.H)+
"px;"));"undefined"!==typeof u&&(x.append('<div id="'+a+'_C" style="'+r+"overflow:auto; left:"+(c+y.W)+"px;top:"+(d+A.W)+"px;width:"+(e-y.W-z.W)+"px;height:"+(g-A.H-B.H)+'px;">'),x.append(u),x.append("</div>"));return x.toString()}
function ngc_ChangeImage(a){ng_SwapImageHTML(a.id,a.aL,a.aT);var b=document.getElementById(a.id);return b?(a.L!=a.oL||a.T!=a.oT?(b.setAttribute("L",a.L),b.setAttribute("T",a.T),b.setAttribute("oL",a.oL),b.setAttribute("oT",a.oT)):(ng_nullAttr(b.getAttribute("L"))||b.setAttribute("L",""),ng_nullAttr(b.getAttribute("T"))||b.setAttribute("T",""),ng_nullAttr(b.getAttribute("oL"))||b.setAttribute("oL",""),ng_nullAttr(b.getAttribute("oT"))||b.setAttribute("oT","")),!0):!1}
function ngc_ChangeImageS(a){var b,c=a.id;for(b=1;1E3>b&&(a.id=c+"_"+b,ngc_ChangeImage(a));b++);a.id=c;return 1<b}function ngc_ChangeImg(a,b,c,d){d&&(a=ngc_ImgProps(a,b,c,d),ngc_ChangeImage(a))}function ngc_ChangeImgS(a,b,c,d){d&&(a=ngc_ImgProps(a,b,c,d),ngc_ChangeImageS(a))}
function ngc_ChangeBox(a,b,c,d){d&&("undefined"!==typeof d.Left&&ngc_ChangeImgS(a+"_L",b,c,d.Left),"undefined"!==typeof d.Top&&ngc_ChangeImgS(a+"_T",b,c,d.Top),"undefined"!==typeof d.Right&&ngc_ChangeImgS(a+"_R",b,c,d.Right),"undefined"!==typeof d.Bottom&&ngc_ChangeImgS(a+"_B",b,c,d.Bottom),"undefined"!==typeof d.LeftTop&&ngc_ChangeImg(a+"_LT",b,c,d.LeftTop),"undefined"!==typeof d.RightTop&&ngc_ChangeImg(a+"_RT",b,c,d.RightTop),"undefined"!==typeof d.LeftBottom&&ngc_ChangeImg(a+"_LB",b,c,d.LeftBottom),
"undefined"!==typeof d.RightBottom&&ngc_ChangeImg(a+"_RB",b,c,d.RightBottom))}function ngc_EnterImg(a){var b=document.getElementById(a);if(b){var c=b.getAttribute("oL"),b=b.getAttribute("oT");ng_nullAttr(c)||ng_nullAttr(b)||ng_SwapImageHTML(a,c,b);return!0}return!1}function ngc_LeaveImg(a){var b=document.getElementById(a);if(b){var c=b.getAttribute("L"),b=b.getAttribute("T");ng_nullAttr(c)||ng_nullAttr(b)||ng_SwapImageHTML(a,c,b);return!0}return!1}
function ngc_EnterImgS(a){for(var b=1;1E3>b&&ngc_EnterImg(a+"_"+b);b++);}function ngc_LeaveImgS(a){for(var b=1;1E3>b&&ngc_LeaveImg(a+"_"+b);b++);}function ngc_EnterBox(a){ngc_EnterImg(a+"_LT");ngc_EnterImgS(a+"_T");ngc_EnterImg(a+"_RT");ngc_EnterImgS(a+"_L");ngc_EnterImgS(a+"_R");ngc_EnterImg(a+"_LB");ngc_EnterImgS(a+"_B");ngc_EnterImg(a+"_RB")}
function ngc_LeaveBox(a){ngc_LeaveImg(a+"_LT");ngc_LeaveImgS(a+"_T");ngc_LeaveImg(a+"_RT");ngc_LeaveImgS(a+"_L");ngc_LeaveImgS(a+"_R");ngc_LeaveImg(a+"_LB");ngc_LeaveImgS(a+"_B");ngc_LeaveImg(a+"_RB")}function ngc_Img(a,b,c,d,e){a.append(ng_CreateImageHTML(b.id,b.Src,b.aL,b.aT,b.W,b.H,c,(b.L!=b.oL||b.T!=b.oT?' L="'+b.L+'" T="'+b.T+'" oL="'+b.oL+'" oT="'+b.oT+'" ':"")+d,e))}
function ngc_ImgSW(a,b,c,d,e,g,k){a.append(ng_CreateImageHTMLSW(b.id,c,d,b.Src,b.aL,b.aT,b.W,b.H,"position:absolute;"+e,(b.L!=b.oL||b.T!=b.oT?' L="'+b.L+'" T="'+b.T+'" oL="'+b.oL+'" oT="'+b.oT+'" ':"")+g,k))}function ngc_ImgSH(a,b,c,d,e,g,k){a.append(ng_CreateImageHTMLSH(b.id,c,d,b.Src,b.aL,b.aT,b.W,b.H,"position:absolute;"+e,(b.L!=b.oL||b.T!=b.oT?' L="'+b.L+'" T="'+b.T+'" oL="'+b.oL+'" oT="'+b.oT+'" ':"")+g,k))}
function ngc_ImgBox(a,b,c,d,e,g,k,n,r,u,x,w,y,A,z){var B,D,C,E,F,H,J,N,P,G,M,R,I,O,S,L={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},Q="position:absolute;";"string"===typeof w&&(Q+=w);"object"===typeof w?(c=ngVal(w.LeftTop,""),B=ngVal(w.Top,""),D=ngVal(w.RightTop,""),C=ngVal(w.Left,""),E=ngVal(w.Right,""),F=ngVal(w.LeftBottom,""),H=ngVal(w.Bottom,""),J=ngVal(w.RightBottom,""),w=ngVal(w.Content,"")):c=B=D=C=E=F=H=J=w="";var K="";"string"===typeof y&&(K+=y);"object"===typeof y?(N=ngVal(y.LeftTop,""),P=ngVal(y.Top,
""),G=ngVal(y.RightTop,""),M=ngVal(y.Left,""),R=ngVal(y.Right,""),I=ngVal(y.LeftBottom,""),O=ngVal(y.Bottom,""),S=ngVal(y.RightBottom,""),y=ngVal(y.Content,"")):N=P=G=M=R=I=O=S=y="";"undefined"===typeof z&&(z={});z.Left="undefined"===typeof x.Left?L:ngc_ImgProps(b+"_L",d,e,x.Left);z.Top="undefined"===typeof x.Top?L:ngc_ImgProps(b+"_T",d,e,x.Top);z.Right="undefined"===typeof x.Right?L:ngc_ImgProps(b+"_R",d,e,x.Right);z.Bottom="undefined"===typeof x.Bottom?L:ngc_ImgProps(b+"_B",d,e,x.Bottom);z.LeftTop=
"undefined"===typeof x.LeftTop?L:ngc_ImgProps(b+"_LT",d,e,x.LeftTop);z.RightTop="undefined"===typeof x.RightTop?L:ngc_ImgProps(b+"_RT",d,e,x.RightTop);z.LeftBottom="undefined"===typeof x.LeftBottom?L:ngc_ImgProps(b+"_LB",d,e,x.LeftBottom);z.RightBottom="undefined"===typeof x.RightBottom?L:ngc_ImgProps(b+"_RB",d,e,x.RightBottom);u&&(n+=z.Left.W,n+=z.Right.W,r+=z.Top.H,r+=z.Bottom.H);e=z.LeftTop.W+z.RightTop.W;e>n&&(d=Math.round((e-n)/2),e=e-n-d,z.LeftTop.W-=d,z.RightTop.W-=e,z.RightTop.L+=e,z.RightTop.oL+=
e,z.RightTop.aL+=e);e=z.LeftBottom.W+z.RightBottom.W;e>n&&(d=Math.round((e-n)/2),e=e-n-d,z.LeftBottom.W-=d,z.RightBottom.W-=e,z.RightBottom.L+=e,z.RightBottom.oL+=e,z.RightBottom.aL+=e);e=z.LeftTop.H+z.LeftBottom.H;e>r&&(d=Math.round((e-r)/2),e=e-r-d,z.LeftTop.H-=d,z.LeftBottom.H-=e,z.LeftBottom.T+=e,z.LeftBottom.oT+=e,z.LeftBottom.aT+=e);e=z.RightTop.H+z.RightBottom.H;e>r&&(d=Math.round((e-r)/2),e=e-r-d,z.RightTop.H-=d,z.RightBottom.H-=e,z.RightBottom.T+=e,z.RightBottom.oT+=e,z.RightBottom.aT+=e);
d=z.LeftTop;d.W&&ngc_Img(a,d,Q+c+"left:"+g+"px;top: "+k+"px;",K+N);d=z.Top;d.H&&ngc_ImgSW(a,d,z.LeftTop.W,n-z.LeftTop.W-z.RightTop.W,Q+B+"top: "+k+"px;",K+P);d=z.RightTop;d.W&&ngc_Img(a,d,Q+D+"left:"+(g+n-d.W)+"px;top: "+k+"px;",K+G);d=z.Left;d.W&&ngc_ImgSH(a,d,k+(z.LeftTop.H?z.LeftTop.H:z.Top.H),r-(z.LeftTop.H?z.LeftTop.H:z.Top.H)-(z.LeftBottom.H?z.LeftBottom.H:z.Bottom.H),Q+C+"left: "+g+"px;",K+M);d=z.Right;d.W&&ngc_ImgSH(a,d,k+(z.RightTop.H?z.RightTop.H:z.Top.H),r-(z.RightTop.H?z.RightTop.H:z.Top.H)-
(z.RightBottom.H?z.RightBottom.H:z.Bottom.H),Q+E+"left: "+(g+n-d.W)+"px;",K+R);d=z.LeftBottom;d.W&&ngc_Img(a,d,Q+F+"left:"+g+"px;top: "+(k+r-d.H)+"px;",K+I);d=z.Bottom;d.H&&ngc_ImgSW(a,d,z.LeftBottom.W,n-z.LeftBottom.W-z.RightBottom.W,Q+H+"top: "+(k+r-d.H)+"px;",K+O);d=z.RightBottom;d.W&&ngc_Img(a,d,Q+J+"left:"+(g+n-d.W)+"px;top: "+(k+r-d.H)+"px;",K+S);"undefined"!==typeof A&&(a.append('<div id="'+b+'_CB" style="'+Q+w+"left:"+(g+z.Left.W)+"px;top:"+(k+z.Top.H)+"px;width:"+(n-z.Left.W-z.Right.W)+"px;height:"+
(r-z.Top.H-z.Bottom.H)+'px;" '+K+y+">"),a.append(A),a.append("</div>"))}
function ngc_ImgProps(a,b,c,d){var e={};e.id=a;e.W=d.W;e.H=d.H;e.Src=ngVal(d.Src,ngControlImages);if(!c){switch(b){case 0:case !1:e.L=d.DL;e.T=d.DT;e.oL=d.oDL;e.oT=d.oDT;break;case 1:case !0:e.L=d.DSL;e.T=d.DST;e.oL=d.oDSL;e.oT=d.oDST;break;case 2:e.L=d.DGL,e.T=d.DGT,e.oL=d.oDGL,e.oT=d.oDGT}e.L=ngVal(e.L,d.DL);e.T=ngVal(e.T,d.DT);e.oL=ngVal(e.oL,d.oDL);e.oT=ngVal(e.oT,d.oDT);"undefined"===typeof e.L&&"undefined"===typeof e.T?c=!0:(e.L=ngVal(e.L,d.L),e.T=ngVal(e.T,d.T))}if(c){switch(b){case 0:case !1:e.L=
d.L;e.T=d.T;e.oL=d.oL;e.oT=d.oT;break;case 1:case !0:e.L=d.SL;e.T=d.ST;e.oL=d.oSL;e.oT=d.oST;break;case 2:e.L=d.GL,e.T=d.GT,e.oL=d.oGL,e.oT=d.oGT}e.L=ngVal(e.L,d.L);e.T=ngVal(e.T,d.T);e.oL=ngVal(e.oL,d.oL);e.oT=ngVal(e.oT,d.oT)}e.oL=ngVal(e.oL,e.L);e.oT=ngVal(e.oT,e.T);e.aL=e.L;e.aT=e.T;return e}function ngc_ImgDrawProps(a,b,c,d,e,g){return ngc_ImgProps(a,d,e,g)};function ngCreateWindow(a,b){if(!a)return null;var c=0,d="";"undefined"===typeof b&&"object"===typeof ngApp&&ngApp&&(b=ngApp.TopElm());if("string"===typeof a)c={},c.Window={Type:a},d="Window",a=c;else{for(var e in a)if(c++,1<c){c={};c.Window=ng_CopyVar(a);d="Window";a=c;break}else d=e;if(""==d)return null}c=new ngControls(a,b);if(d=ngVal(c[d],null))d.Owner=null,d.Visible&&d.Update();return d}
function ngw_DoResize(a){(this.Moveable||this.Sizeable)&&this.CheckBounds()&&(this.SetBounds(),this.Update());return ng_Align(a)}function ngw_OnVisibleChanged(a){a.Visible&&(a.Centered&&a.Center(),a.SetFocus());if(a.Modal){a.Visible?ngStartModalControl():ngStopModalControl();var b=a.Elm();b&&(b.style.zIndex=a.Visible?ngModalCnt*ngModalZIndexDelta+1:Math.round((ngModalCnt+.5)*ngModalZIndexDelta))}}function ngw_Show(){this.SetVisible(!0)}function ngw_Hide(){this.SetVisible(!1)}
function ngw_Close(){if(!this.OnClose||ngVal(this.OnClose(this),!1))if(this.Hide(),this.DisposeOnClose){var a=this.Owner;this.Dispose();if(a&&"object"===typeof a)for(var b in a)if(a[b]==this){delete a[b];break}}else this.Release()}function ngw_Restore(){!this.StateBounds||this.OnRestore&&!ngVal(this.OnRestore(this),!1)||(this.StateBounds=null,this.CheckBounds(),this.SetBounds(),this.ControlsPanel.SetVisible(!0),this.Update())}
function ngw_Center(){var a=this.Elm();if(a){var b,c,d,e=a.parentNode;ng_BeginMeasureElement(e);c=ng_ScrollX(e);d=ng_ScrollY(e);a=ng_ClientWidthEx(e);b=ng_ClientHeightEx(e);ng_EndMeasureElement(e);e=this.Bounds;e.L=c+Math.round((a-e.W)/2);e.T=d+Math.round((b-e.H)/2);this.SetBounds()}}
function ngw_CalcAutoSize(){if(ngVal(this.ControlsPanel,!1)){var a=this.ControlsPanel.ChildControls;if("undefined"!==typeof a){this.ControlsPanel.SetScrollBars(ssNone);var b=this.Elm();if(b){var c=b.parentNode,d=ng_ClientWidthEx(c),c=ng_ClientHeightEx(c);ng_SetClientWidth(b,d);ng_SetClientHeight(b,c);for(var e=c=d=b=-1,g=0,k=0,n=0,r=0,u=0,x=0,w,y,A,z,B=0;B<a.length;B++)if((w=a[B])&&w.Visible&&(y=w.Elm())){ng_BeginMeasureElement(y);if("undefined"===typeof w.Bounds.R||"undefined"===typeof w.Bounds.L)if(A=
ng_OuterWidth(y),A>g&&(g=A),"undefined"!==typeof w.Bounds.L){if(w.Bounds.L+A>n&&(n=w.Bounds.L+A),w.Bounds.L<b||0>b)b=w.Bounds.L}else if(w.Bounds.R+A>u&&(u=w.Bounds.R+A),w.Bounds.R<c||0>c)c=w.Bounds.R;if("undefined"===typeof w.Bounds.B||"undefined"===typeof w.Bounds.T)if(z=ng_OuterHeight(y),z>k&&(k=z),"undefined"!==typeof w.Bounds.T){if(w.Bounds.T+z>r&&(r=w.Bounds.T+z),w.Bounds.T<d||0>d)d=w.Bounds.T}else if(w.Bounds.B+z>x&&(x=w.Bounds.B+z),w.Bounds.B<e||0>e)e=w.Bounds.B;ng_EndMeasureElement(y)}A=g;
z=k;0<=b&&n-b>A&&(A=n-b);0<=c&&u-c>A&&(A=u-c);0<=d&&r-d>z&&(z=r-d);0<=e&&x-e>z&&(z=x-e);0<=b?A+=b:0<=c&&(A+=c);0<=c?A+=c:0<=b&&(A+=b);0<=d?z+=d:0<=e&&(z+=e);0<=e?z+=e:0<=d&&(z+=d);0>=A&&(A=void 0);0>=z&&(z=void 0);a=this.SetClientRect({W:A,H:z});this.SetBounds();a&&this.Update()}}}}
function ngw_Minimize(){(this.IsMinimized()||this.IsMaximized())&&this.Restore();if(!this.OnMinimize||ngVal(this.OnMinimize(this),!1)){this.ControlsPanel.SetVisible(!1);if("undefined"===typeof this.MinimizedBounds){var a=0,b=this.CaptionImg.LeftImg;b&&(dp=ngc_ImgProps(this.ID+"_IL",0,this.Enabled,b),dp.H>a&&(a=dp.H));if(b=this.CaptionImg.RightImg)dp=ngc_ImgProps(this.ID+"_IR",0,this.Enabled,b),dp.H>a&&(a=dp.H);if(b=this.CaptionImg.MiddleImg)dp=ngc_ImgProps(this.ID+"_IM",0,this.Enabled,b),dp.H>a&&
(a=dp.H);this.StateBounds=ng_CopyVar(this.Bounds);this.StateBounds.H=a}else this.StateBounds=ng_CopyVar(this.MinimizedBounds),ng_MergeVar(this.StateBounds,this.Bounds);this.SetBounds();this.Update()}}function ngw_Maximize(){(this.IsMinimized()||this.IsMaximized())&&this.Restore();if(!this.OnMaximize||ngVal(this.OnMaximize(this),!1))this.StateBounds={L:0,T:0,R:0,B:0},this.SetBounds(),this.ControlsPanel.SetVisible(!0),this.Update()}
function ngw_IsMaximized(){return this.StateBounds&&0==this.StateBounds.L&&0==this.StateBounds.T&&0==this.StateBounds.R&&0==this.StateBounds.B}function ngw_IsMinimized(){return this.ControlsPanel&&!this.ControlsPanel.Visible}function ngw_SetBounds(a){this.StateBounds?(a=this.Elm())&&ng_SetBounds(a,this.StateBounds):this.SetBoundsEx(a)}
function ngw_CheckBounds(){var a=this.Elm();if(!a)return!1;var b=a.parentNode,a=ng_ClientWidthEx(b),b=ng_ClientHeightEx(b),c=this.Bounds;this.ControlsPanel&&!this.ControlsPanel.Visible&&this.StateBounds&&(c=this.StateBounds);var d=ng_CopyVar(c);this.Sizeable&&(c.W>a&&(c.W=a),c.H>b&&(c.H=b));this.IsMinimized()||(ngVal(c.W,0)<this.MinWidth&&(c.W=this.MinWidth),ngVal(c.H,0)<this.MinHeight&&(c.H=this.MinHeight));this.IsMaximized()||(0<this.MaxWidth&&ngVal(c.W,0)>this.MaxWidth&&(c.W=this.MaxWidth),0<this.MaxHeight&&
ngVal(c.H,0)>this.MaxHeight&&(c.H=this.MaxHeight));if(this.Moveable){var e=c.T+c.H;c.L+c.W>a&&(c.L=a-c.W);e>b&&(c.T=b-c.H);0>c.L&&(c.L=0);0>c.T&&(c.T=0)}return d.L!=c.L||d.T!=c.T||d.W!=c.W||d.H!=c.H}function ngw_DoPtrClick(a){"window"===a.EventID&&this.OnClick&&(a=this.PointerInfo.Event,a.win=this,this.OnClick(a))}function ngw_DoPtrDblClick(a){"window"===a.EventID&&this.OnDblClick&&(a=this.PointerInfo.Event,a.win=this,this.OnDblClick(a))}
function ngw_IsDragEvent(a){switch(a){case "left":case "right":case "top":case "lefttop":case "righttop":case "bottom":case "leftbottom":case "rightbottom":case "window":return!0}return!1}
function ngw_DoPtrStart(a){if(ngw_IsDragEvent(a.EventID)){this.MouseBounds=ng_CopyVar(this.StateBounds?this.StateBounds:this.Bounds);var b="",c=-1;switch(a.EventID){case "window":c=0;break;case "left":b="w-resize";c=1;break;case "right":b="e-resize";c=2;break;case "top":b="n-resize";c=4;break;case "lefttop":b="nw-resize";c=5;break;case "righttop":b="ne-resize";c=6;break;case "bottom":b="s-resize";c=8;break;case "leftbottom":b="sw-resize";c=9;break;case "rightbottom":b="se-resize",c=10}this.MouseType=
c;var d=document.getElementById(this.ID+"_M");if(d&&(""!=b&&(d.style.cursor=b),0<c)){if(c=this.Elm())c.style.overflow="visible",c.style.overflowX="visible",c.style.overflowY="visible";a.FrameHorzBorder=ng_GetCurrentStylePx(d,"border-left-width")+ng_GetCurrentStylePx(d,"border-right-width")+ng_GetCurrentStylePx(d,"margin-left")+ng_GetCurrentStylePx(d,"margin-right");a.FrameVertBorder=ng_GetCurrentStylePx(d,"border-top-width")+ng_GetCurrentStylePx(d,"border-bottom-width")+ng_GetCurrentStylePx(d,"margin-top")+
ng_GetCurrentStylePx(d,"margin-bottom");b=c?ng_ClientWidth(c)-a.FrameHorzBorder:0;a=c?ng_ClientHeight(c)-a.FrameVertBorder:0;0>b&&(b=0);0>a&&(a=0);ng_setBounds(d,0,0,b,a);d.style.display="block"}}else this.MouseType=-1}
function ngw_DoPtrDrag(a){if(0>this.MouseType)return!1;var b=this.Elm();if(!b)return!1;var c=a.X-a.StartX,d=a.Y-a.StartY;if(0==this.MouseType){if((c||d)&&!this.IsMaximized()){var e={L:this.MouseBounds.L+c,T:this.MouseBounds.T+d};this.OnMouseMoving&&this.OnMouseMoving(this,e);this.Bounds.L=e.L;this.Bounds.T=e.T;this.StateBounds&&(this.StateBounds.L=this.Bounds.L,this.StateBounds.T=this.Bounds.T);this.CheckBounds();this.SetBounds();a.WinMove=!0}}else{var e={L:0,T:0,W:ng_ClientWidth(b)-a.FrameHorzBorder,
H:ng_ClientHeight(b)-a.FrameVertBorder},g=b.parentNode,k=ng_ClientWidthEx(g),g=ng_ClientHeightEx(g);this.MouseType&1&&(0>this.Bounds.L+c&&(c=-this.Bounds.L),e.L=c,e.W-=c);this.MouseType&2&&(this.Bounds.L+this.Bounds.W+c>k&&(c=k-this.Bounds.L-this.Bounds.W),e.W+=c);this.MouseType&4&&(0>this.Bounds.T+d&&(d=-this.Bounds.T),e.T=d,e.H-=d);this.MouseType&8&&(this.Bounds.T+this.Bounds.H+d>g&&(d=g-this.Bounds.T-this.Bounds.H),e.H+=d);c=this.MinWidth-a.FrameHorzBorder;d=this.MinHeight-a.FrameVertBorder;0>
c&&(c=1);0>d&&(d=1);e.W<c&&(this.MouseType&1&&(e.L+=e.W-c),e.W=c);e.H<d&&(this.MouseType&4&&(e.T+=e.H-d),e.H=d);c=this.MaxWidth?this.MaxWidth-a.FrameHorzBorder:0;d=this.MaxHeight?this.MaxHeight-a.FrameVertBorder:0;0>c&&(c=1);0>d&&(d=1);c&&e.W>c&&(this.MouseType&1&&(e.L+=e.W-c),e.W=c);d&&e.H>d&&(this.MouseType&4&&(e.T+=e.H-d),e.H=d);this.OnMouseResizing&&this.OnMouseResizing(this,e);b.style.overflow="visible";b.style.overflowX="visible";b.style.overflowY="visible";if(a=document.getElementById(this.ID+
"_M"))ng_setBounds(a,e.L,e.T,e.W,e.H),a.style.display="block"}return!0}
function ngw_DoPtrEnd(a){if(!(0>this.MouseType)){var b=this.Elm();if(b){a=this.PointerInfo;if(!a)return;var c=a.X-a.StartX,d=a.Y-a.StartY;b.style.overflow="visible";b.style.overflowX="visible";b.style.overflowY="visible";if(0==this.MouseType)!c&&!d||this.IsMaximized()||(c={L:this.MouseBounds.L+c,T:this.MouseBounds.T+d},this.OnMouseMoving&&this.OnMouseMoving(this,c),this.Bounds.L=c.L,this.Bounds.T=c.T,this.StateBounds&&(this.StateBounds.L=this.Bounds.L,this.StateBounds.T=this.Bounds.T),this.CheckBounds(),
this.SetBounds(),a.WinMove=!0),a.WinMove&&this.OnMouseMove&&this.OnMouseMove(this);else{b=b.parentNode;a=ng_ClientWidthEx(b);var e=ng_ClientHeightEx(b),b=ng_CopyVar(this.Bounds);this.MouseType&1&&(0>b.L+c&&(c=-b.L),b.L+=c,b.W-=c);this.MouseType&2&&(b.L+b.W+c>a&&(c=a-b.L-b.W),b.W+=c);this.MouseType&4&&(0>b.T+d&&(d=-b.T),b.T+=d,b.H-=d);this.MouseType&8&&(b.T+b.H+d>e&&(d=e-b.T-b.H),b.H+=d);b.W<this.MinWidth&&(this.MouseType&1&&(b.L+=b.W-this.MinWidth),b.W=this.MinWidth);b.H<this.MinHeight&&(this.MouseType&
4&&(b.T+=b.H-this.MinHeight),b.H=this.MinHeight);0<this.MaxWidth&&b.W>this.MaxWidth&&(this.MouseType&1&&(b.L+=b.W-this.MaxWidth),b.W=this.MaxWidth);0<this.MaxHeight&&b.H>this.MaxHeight&&(this.MouseType&4&&(b.T+=b.H-this.MaxHeight),b.H=this.MaxHeight);this.OnMouseResizing&&this.OnMouseResizing(this,b);if(c=document.getElementById(this.ID+"_M"))c.style.display="none";this.Bounds=ng_CopyVar(b);this.CheckBounds();this.SetBounds();this.Update();this.OnMouseResize&&this.OnMouseResize(this)}}this.MouseType=
-1}}
function ngw_SetClientRect(a){if(!ngVal(a,!1))return!1;var b={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},c={},d=!1;if("undefined"!==typeof a.W){c.Left="undefined"===typeof this.Frame.Left?b:ngc_ImgProps(this.ID+"_L",0,this.Enabled,this.Frame.Left);c.Right="undefined"===typeof this.Frame.Right?b:ngc_ImgProps(this.ID+"_R",0,this.Enabled,this.Frame.Right);var e=a.W+c.Left.W+c.Right.W;ngVal(this.Bounds.W,-1)!=e&&(d=!0,this.Bounds.W=e,this.Bounds.R=void 0)}if("undefined"!==typeof a.H){c.Bottom="undefined"===typeof this.Frame.Bottom?
b:ngc_ImgProps(this.ID+"_B",0,this.Enabled,this.Frame.Bottom);b=c.Bottom.H;e=0;if(c=this.CaptionImg.LeftImg)c=ngc_ImgProps(this.ID+"_IL",0,this.Enabled,c),c.H>e&&(e=c.H);if(c=this.CaptionImg.RightImg)c=ngc_ImgProps(this.ID+"_IR",0,this.Enabled,c),c.H>e&&(e=c.H);if(c=this.CaptionImg.MiddleImg)c=ngc_ImgProps(this.ID+"_IM",0,this.Enabled,c),c.H>e&&(e=c.H);a=a.H+e+b;ngVal(this.Bounds.H,-1)!=a&&(d=!0,this.Bounds.H=a,this.Bounds.B=void 0)}d&&this.CheckBounds();return d}
function ngw_GetClientRect(){var a,b;if(ngVal(this.ControlsPanel,!1)){var c=this.ControlsPanel.Elm();c&&(a=ng_ClientWidth(c),b=ng_ClientHeight(c))}return{W:a,H:b}}var ngw_inautosize=0;function ngw_Update(a){if(this.AutoSize&&ngw_inautosize<(ngIExplorer6?2:1)){ngw_inautosize++;try{this.CalcAutoSize()}finally{ngw_inautosize--}}}
function ngw_DoUpdate(a){var b=document.getElementById(this.ID+"_F");if(!b)return!0;var c=this.BaseClassName,d=new ngStringBuilder,e=ng_ClientWidth(a),g=ng_ClientHeight(a),k,n=this.IsMaximized(),r=this.IsMinimized(),u=this.Moveable&&!n,x=this.Sizeable&&!n&&!r,n=this.GetText();this.HTMLEncode&&(n=ng_htmlEncode(n));var r=u?"cursor: move;":"",w="";if(this.OnClick||this.OnDblClick)this.OnClick&&(w="tap"),this.OnDblClick&&(""!=w&&(w+=" "),w+="doubletap");u&&(""!=w&&(w+=" "),w+="drag");var w=""!=w?ngc_PtrEventsHTML(this,
"window",w):"",y=0,A=0,z=0,B=0,D=0,C=0,E=new ngStringBuilder,F=this.CaptionImg.LeftImg;F&&(k=ngc_ImgProps(this.ID+"_IL",0,this.Enabled,F),ngc_Img(E,k,"position:absolute; left: 0px;"+r,w+ngVal(F.Attrs,"")),A=k.W,k.H>y&&(y=k.H));if(F=this.CaptionImg.RightImg)k=ngc_ImgProps(this.ID+"_IR",0,this.Enabled,F),ngc_Img(E,k,"position:absolute; left: "+(e-k.W)+"px;"+r,w+ngVal(F.Attrs,"")),z=k.W,k.H>y&&(y=k.H);if(F=this.CaptionImg.MiddleImg)k=ngc_ImgProps(this.ID+"_IM",0,this.Enabled,F),ngc_ImgSW(E,k,A,e-A-z,
r,w+ngVal(F.Attrs,"")),k.H>y&&(y=k.H);B={};k={};u&&x&&(k.Left="cursor: w-resize;",B.Left=ngc_PtrEventsHTML(this,"left","drag"),k.Top="cursor: n-resize;",B.Top=ngc_PtrEventsHTML(this,"top","drag"),k.LeftTop="cursor: nw-resize;",B.LeftTop=ngc_PtrEventsHTML(this,"lefttop","drag"),k.RightTop="cursor: ne-resize;",B.RightTop=ngc_PtrEventsHTML(this,"righttop","drag"),k.LeftBottom="cursor: sw-resize;",B.LeftBottom=ngc_PtrEventsHTML(this,"leftbottom","drag"));x&&(k.Right="cursor: e-resize;",B.Right=ngc_PtrEventsHTML(this,
"right","drag"),k.Bottom="cursor: s-resize;",B.Bottom=ngc_PtrEventsHTML(this,"bottom","drag"),k.RightBottom="cursor: se-resize;",B.RightBottom=ngc_PtrEventsHTML(this,"rightbottom","drag"));u=new ngStringBuilder;x={};ngc_ImgBox(u,this.ID,"ngWindow",0,this.Enabled,0,0,e,g,!1,this.Frame,k,B,void 0,x);B=x.Left.W;x.LeftTop.W>B&&(B=x.LeftTop.W);if(this.Buttons&&0<this.Buttons.length)for(D=x.Right.W,x.RightTop.W>D&&(D=x.RightTop.W),z=0;z<this.Buttons.length;z++){g=this.Buttons[z];g.Enabled=this.Enabled;
if(""==g.BaseClassName||g.BaseClassName==g.CtrlType)g.BaseClassName=c+"Button";g.Visible&&(""==g.ID&&g.Attach(this.ID+"_B"+(z+1)),k=ngb_SimpleRect(g),F=(y-k.H)/2,A=ngVal(g.ButtonAlign,""),"left"==A?(g.Bounds.L=B,B+=k.W):(g.Bounds.L=e-D-C-k.W,C+=k.W),g.Bounds.T=F,g.Bounds.W=k.W,E.append('<div id="'+g.ID+'" class="'+g.BaseClassName+'" style="position: absolute; z-index:1; left:'+g.Bounds.L+"px; top: "+g.Bounds.T+"px; width: "+k.W+"px; height: "+k.H+'px"></div>'))}if(F=this.GetImg())k=ngc_ImgProps(this.ID+
"_I",0,this.Enabled,F),ngc_Img(E,k,"position:absolute; z-index: 1; left: "+B+"px;top:"+(y-k.H)/2+"px;"+r,w+ngVal(F.Attrs,"")),B+=k.W;""!=n&&E.append('<div id="'+this.ID+'_C" class="'+c+(this.Enabled?"Caption":"CaptionDisabled")+'" style="position: absolute; overflow: hidden; text-overflow: ellipsis; left: '+B+"px;top: 0px; width: "+(e-B-D-C)+"px;"+r+'" '+w+">"+n+"</div>");d.append('<div style="position:absolute;left:0px;top:0px;width:'+e+"px;height:"+y+'px; overflow: hidden;">');d.append(E);d.append("</div>");
d.append(u);this.ControlsPanel.Bounds.T=y;this.ControlsPanel.Bounds.L=x.Left.W;this.ControlsPanel.Bounds.R=x.Right.W;this.ControlsPanel.Bounds.B=x.Bottom.H;this.ControlsPanel.SetBounds();ng_SetInnerHTML(b,d.toString());a.style.overflow="hidden";a.style.overflowX="hidden";a.style.overflowY="hidden";""==this.BackgroundColor&&(this.BackgroundColor=document.body.style.backgroundColor);a.style.backgroundColor=this.BackgroundColor;if(this.Buttons&&0<this.Buttons.length)for(z=0;z<this.Buttons.length;z++)g=
this.Buttons[z],g.Parent=this,g.Update();return!0}function ngw_KeyUp(a){a||(a=window.event);var b=ngGetControlById(this.id,"ngWindow");if(b&&b.Enabled)if(13!=a.keyCode&&27!=a.keyCode||!ngVal(b.IgnoreDefFormBtn,!1)){var c=!1;switch(a.keyCode){case 13:c=nge_DefFormButton2(b.ControlsPanel,1);break;case 27:c=nge_DefFormButton2(b.ControlsPanel,0)}c&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}else b.IgnoreDefFormBtn=void 0}
function ngw_DoAttach(a,b){a&&(ngAndroid||null!=a.getAttribute("tabindex")||a.setAttribute("tabindex",0),a.onkeyup=ngw_KeyUp);b!=this.ID&&""!=b&&ng_EndAutoResize(b);this.Moveable||this.Sizeable?ng_StartAutoResize(a,"win"):ng_EndAutoResize(a,"win")}function ngw_DoRelease(a){a.style.display="none";(a=document.getElementById(this.ID+"_F"))&&ng_SetInnerHTML(a,"")}
function ngw_DoCreate(a,b,c,d){d=this.BaseClassName;"undefined"===typeof a.W&&"undefined"===typeof a.CW&&("undefined"===typeof a.L||"undefined"===typeof a.R)||"undefined"===typeof a.H&&"undefined"===typeof a.CH&&("undefined"===typeof a.T||"undefined"===typeof a.B)||"undefined"!==typeof a.Data&&"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!1);("undefined"!==typeof a.CW||"undefined"!==typeof a.CH)&&this.SetClientRect({W:a.CW,H:a.CH})&&this.SetBounds();if("object"===typeof a.Buttons){for(var e=
{},g,k=0;k<a.Buttons.length;k++)g=ng_CopyVar(a.Buttons[k]),e["B"+k]=g;var n=ngCreateControls(e,void 0,null);"object"===typeof this.Buttons&&this.Buttons||(this.Buttons=[]);for(k=0;k<a.Buttons.length;k++)if(g=n["B"+k])g.Owner=this,this.Buttons[this.Buttons.length]=g;this.Buttons.length||(this.Buttons=null)}e={};e.ControlsPanel="object"===typeof a.ControlsPanel?ng_CopyVar(a.ControlsPanel):{};ng_MergeDef(e.ControlsPanel,{Type:"ngPanel",className:d+"ControlsPanel",id:this.ID+"_P",ScrollBars:ssAuto,L:0,
T:0,R:0,B:0});e.ControlsPanel.Controls=a.Controls;e.ControlsPanel.ModifyControls=a.ModifyControls;n=ngCreateControls(e,void 0,c);a.ParentReferences=ngVal(a.ParentReferences,!1);a.ParentReferences||(this.Controls={},this.Controls.Owner=this,this.Controls.AddControls=function(a,b){ngCreateControls(a,this,ngVal(b,e.ControlsPanel.id))},b=this.Controls);this.ControlsPanel=n.ControlsPanel;this.ControlsPanel.Owner=this;delete n.ControlsPanel;ngCloneRefs(b,n);delete a.Controls;delete a.ModifyControls;"undefined"===
typeof this.FormID&&(this.FormID=this.ID);c.style.zIndex=Math.round((ngModalCnt+.5)*ngModalZIndexDelta);a=document.createElement("div");a.id=this.ID+"_F";a.style.position="absolute";a.style.zIndex="800";c.appendChild(a);a=document.createElement("div");a.id=this.ID+"_M";a.className=d+"Fence";a.style.display="none";a.style.position="absolute";a.style.zIndex="801";a.style.fontSize="0px";a.style.lineHeight="0px";a.style.left="0px";a.style.top="0px";a.style.width="0px";a.style.height="0px";c.appendChild(a)}
function ngWindow(a){ngControl(this,a,"ngWindow");this.DoCreate=ngw_DoCreate;this.OnVisibleChanged=ngw_OnVisibleChanged;this.DoResize=ngw_DoResize;this.DoAttach=ngw_DoAttach;this.DoRelease=ngw_DoRelease;this.DoUpdate=ngw_DoUpdate;this.DoPtrClick=ngw_DoPtrClick;this.DoPtrDblClick=ngw_DoPtrDblClick;this.DoPtrStart=ngw_DoPtrStart;this.DoPtrDrag=ngw_DoPtrDrag;this.DoPtrEnd=ngw_DoPtrEnd;this.AddEvent("Update",ngw_Update);this.SetBoundsEx=this.SetBounds;this.SetBounds=ngw_SetBounds;this.StateBounds=null;
this.Text="";this.HTMLEncode=ngVal(ngDefaultHTMLEncoding,!1);this.BackgroundColor="";this.Moveable=this.Sizeable=!0;this.DisposeOnClose=this.Modal=!1;this.AutoSize=!0;this.Centered=!1;this.MinWidth=100;this.MinHeight=50;this.MaxHeight=this.MaxWidth=0;this.Img=this.Buttons=null;this.Frame={};this.CaptionImg={};this.Show=ngw_Show;this.Hide=ngw_Hide;this.Close=ngw_Close;this.Minimize=ngw_Minimize;this.Maximize=ngw_Maximize;this.Restore=ngw_Restore;this.Center=ngw_Center;this.CalcAutoSize=ngw_CalcAutoSize;
this.GetClientRect=ngw_GetClientRect;this.SetClientRect=ngw_SetClientRect;this.IsMaximized=ngw_IsMaximized;this.IsMinimized=ngw_IsMinimized;this.SetText=ngc_SetText;this.GetText=ngc_GetText;this.GetImg=ngc_GetImg;this.CheckBounds=ngw_CheckBounds;this.MouseType=-1;this.OnMouseResize=this.OnMouseResizing=this.OnMouseMove=this.OnMouseMoving=this.OnClose=this.OnRestore=this.OnMaximize=this.OnMinimize=this.OnDblClick=this.OnClick=this.OnGetImg=this.OnGetText=null;ngControlCreated(this)}
function ngCreateHint(a,b){"string"===typeof a&&(a={Type:a});ng_MergeDef(a,{Data:{IsPopup:!0}});return ngCreateWindow(a,b)}function ngPopupHint(a,b,c,d,e){(a=ngCreateHint(a,e))&&a.Popup(b,c,d);return a}function ngPopupCtrlHint(a,b,c,d){"undefined"!==typeof b.HintTimeout&&("string"===typeof a&&(a={Type:a}),ng_MergeDef(a,{Data:{AutoHideTimeout:b.HintTimeout}}));(a=ngCreateHint(a,d))&&a.PopupCtrl(b,c);return a}
function ngh_DoAttach(a){if(a=document.getElementById(this.ID+"_A")){var b=this.CtrlType;a.onmouseover=function(a){ngc_Enter(a,this,b)};a.onmouseout=function(a){ngc_Leave(a,this,b)}}}function ngh_BorderCollision(a,b,c,d,e){var g=0,k=a.MinX,n=a.MaxX,r=a.MinY,u=a.MaxY;k<b&&(g+=(b-k)*(u-r),k=b);n>=d&&(g+=(n-d)*(u-r),n=d);r<c&&(g+=(c-r)*(n-k));u>=e&&(g+=(u-e)*(n-k));if(0>a.AffectedArea||g>a.AffectedArea)a.AffectedArea=g;return g}
function ngh_BoundRectCollision(a,b,c,d,e){b=Math.max(0,Math.min(a.MaxX,d)-Math.max(a.MinX,b))*Math.max(0,Math.min(a.MaxY,e)-Math.max(a.MinY,c));if(0>a.AffectedArea||b>a.AffectedArea)a.AffectedArea=b;return b}
function ngh_FindAnchor(a,b,c,d,e,g,k){"undefined"===typeof d&&(d=this.PopupX);"undefined"===typeof e&&(e=this.PopupY);"undefined"===typeof d&&(d=ngVal(this.Bounds.L,0));"undefined"===typeof e&&(e=ngVal(this.Bounds.T,0));var n,r,u,x=this.Elm();if(!x||"undefined"===typeof d||"undefined"===typeof e)return{Anchor:"",AnchorObj:null,AffectedArea:-1};if("undefined"===typeof a||"undefined"===typeof b)ng_BeginMeasureElement(x),"undefined"===typeof a&&(a=ng_OuterWidth(x)),"undefined"===typeof b&&(b=ng_OuterHeight(x)),
ng_EndMeasureElement(x);x=x.parentNode;d-=ng_ScrollX(x);e-=ng_ScrollY(x);if("undefined"===typeof g||"undefined"===typeof k)ng_BeginMeasureElement(x),"undefined"===typeof g&&(g=ng_ClientWidthEx(x)),"undefined"===typeof k&&(k=ng_ClientHeightEx(x)),ng_EndMeasureElement(x);var x=null,w="";"string"===typeof c&&(c=[c]);if(ng_IsArrayVar(c)){r=c;c={};for(var y=0;y<r.length;y++)(n=this.Anchors[r[y]])&&"object"===typeof n&&(c[r[y]]=n);ng_EmptyVar(c)&&(c=null)}if("object"!==typeof c||!c)if(this.PreferredAnchors){c=
{};for(y in this.PreferredAnchors)(n=this.Anchors[this.PreferredAnchors[y]])&&"object"===typeof n&&(c[this.PreferredAnchors[y]]=n);for(y in this.Anchors)(n=this.Anchors[y])&&"object"===typeof n&&"undefined"===typeof c[y]&&(c[y]=n)}else c=this.Anchors;var A={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},z,B=null,D="",C=-1;if("object"===typeof c&&c)for(y in c){x=c[y];w=y;if(x&&"object"===typeof x){z={AffectedArea:-1,PopupX:d,PopupY:e,MinX:d,MinY:e,MaxX:d,MaxY:e,W:a,H:b,ParentW:g,ParentH:k,Anchor:y,AnchorObj:x};
n=ngVal(x.Img,null)?ngc_ImgDrawProps(this.ID+"_AI","ngHint",this.ID,0,this.Enabled,x.Img):A;r=d;u=e;"undefined"!==typeof x.L&&(r-=x.L);"undefined"!==typeof x.T&&(u-=x.T);"undefined"!==typeof x.R&&(r-=a-n.W-x.R);"undefined"!==typeof x.B&&(u-=b-n.H-x.B);"undefined"!==typeof x.HX&&(r-=x.HX);"undefined"!==typeof x.HY&&(u-=x.HY);r<z.MinX&&(z.MinX=r);r>z.MaxX&&(z.MaxX=r);u<z.MinY&&(z.MinY=u);u>z.MaxY&&(z.MaxY=u);r+a<z.MinX&&(z.MinX=r+a);r+a>z.MaxX&&(z.MaxX=r+a);u+b<z.MinY&&(z.MinY=u+b);u+b>z.MaxY&&(z.MaxY=
u+b);"undefined"!==typeof x.L&&(r+=x.L);"undefined"!==typeof x.T&&(u+=x.T);"undefined"!==typeof x.R&&(r+=a-n.W-x.R);"undefined"!==typeof x.B&&(u+=b-n.H-x.B);r<z.MinX&&(z.MinX=r);r>z.MaxX&&(z.MaxX=r);u<z.MinY&&(z.MinY=u);u>z.MaxY&&(z.MaxY=u);r+=n.W;u+=n.H;r<z.MinX&&(z.MinX=r);r>z.MaxX&&(z.MaxX=r);u<z.MinY&&(z.MinY=u);u>z.MaxY&&(z.MaxY=u);this.OnCheckPlacement?this.OnCheckPlacement(this,z):this.BorderCollision(z,0,0,g,k);if(!ngVal(z.AffectedArea,-1)){C=0;break}0<z.AffectedArea&&(z.AffectedArea<C||0>
C)&&(B=x,D=y,C=z.AffectedArea)}x=null;w=""}x||(x=B,w=D);return{Anchor:w,AnchorObj:x,AffectedArea:C}}
function ngh_DoUpdate(a){var b,c,d,e=null;d="";if("undefined"===typeof this.PopupX||this.InDesignMode)this.PopupX=ngVal(this.Bounds.L,0);if("undefined"===typeof this.PopupY||this.InDesignMode)this.PopupY=ngVal(this.Bounds.T,0);delete this.PopupAnchor;ng_BeginMeasureElement(a);var g=ng_OuterWidth(a),k=ng_OuterHeight(a);ng_EndMeasureElement(a);"auto"==this.Anchor?(d=this.FindAnchor(g,k),e=d.AnchorObj,d=d.Anchor):"object"===typeof this.Anchors&&this.Anchors&&(e=ngVal(this.Anchors[this.Anchor],null))&&
(d=this.Anchor);if(("object"!==typeof e||!e)&&"object"===typeof this.Anchors&&this.Anchors){if(this.PreferredAnchors)for(b in this.PreferredAnchors)if((c=this.Anchors[this.PreferredAnchors[b]])&&"object"===typeof c){e=c;d=this.PreferredAnchors[b];break}if(!e)for(b in this.Anchors)if(e=this.Anchors[b],d=b,e&&"object"===typeof e)break}if(b=document.getElementById(this.ID+"_A"))if("object"===typeof e&&e){c={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0};this.PopupAnchor=d;var n=new ngStringBuilder;d=ngVal(e.Img,
null)?ngc_ImgDrawProps(this.ID+"_AI","ngHint",this.ID,0,this.Enabled,e.Img):c;d.W||d.H?(ngc_Img(n,d,"position:absolute;",ngVal(e.Img.Attrs,"")),ng_SetClientWidth(b,d.W),ng_SetClientHeight(b,d.H),ng_SetInnerHTML(b,n.toString()),b.style.visibility="visible"):b.style.visibility="hidden";ngIExplorer?("undefined"!==typeof e.L&&(b.style.pixelLeft=e.L),"undefined"!==typeof e.T&&(b.style.pixelTop=e.T),"undefined"!==typeof e.R&&(b.style.pixelLeft=g-d.W-e.R),"undefined"!==typeof e.B&&(b.style.pixelTop=k-d.H-
e.B)):("undefined"!==typeof e.L&&(b.style.left=e.L+"px",b.style.right=""),"undefined"!==typeof e.T&&(b.style.top=e.T+"px",b.style.bottom=""),"undefined"!==typeof e.R&&(b.style.right=e.R+"px",b.style.left=""),"undefined"!==typeof e.B&&(b.style.bottom=e.B+"px",b.style.top=""));b=this.PopupX;c=this.PopupY;"undefined"!==typeof e.L&&(b-=e.L);"undefined"!==typeof e.T&&(c-=e.T);"undefined"!==typeof e.R&&(b-=g-d.W-e.R);"undefined"!==typeof e.B&&(c-=k-d.H-e.B);"undefined"!==typeof e.HX&&(b-=e.HX);"undefined"!==
typeof e.HY&&(c-=e.HY);ng_setLeftTop(a,b,c);this.InDesignMode||(this.Bounds.L=b,this.Bounds.T=c)}else b.style.visibility="hidden",b=this.PopupX,c=this.PopupY,ng_setLeftTop(a,b,c),this.Bounds.L=b,this.Bounds.T=c;e=document.getElementById(this.ID+"_F");if(!e)return!0;b=new ngStringBuilder;g=ng_ClientWidth(a);k=ng_ClientHeight(a);d={};ngc_ImgBox(b,this.ID,"ngHint",0,this.Enabled,0,0,g,k,!1,this.Frame,"","",void 0,d);this.ControlsInside?(this.ControlsPanel.Bounds.T=d.Top.H,this.ControlsPanel.Bounds.L=
d.Left.W,this.ControlsPanel.Bounds.R=d.Right.W,this.ControlsPanel.Bounds.B=d.Bottom.H):(this.ControlsPanel.Bounds.T=0,this.ControlsPanel.Bounds.L=0,this.ControlsPanel.Bounds.R=0,this.ControlsPanel.Bounds.B=0);this.ControlsPanel.SetBounds();ng_SetInnerHTML(e,b.toString());return!0}
function ngh_SetClientRect(a){if(!ngVal(a,!1))return!1;var b={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},c,d,e=!1;"undefined"!==typeof a.W&&(c=this.ControlsInside&&"undefined"!==typeof this.Frame.Left?ngc_ImgDrawProps(this.ID+"_L","ngHint",this.ID,0,this.Enabled,this.Frame.Left):b,d=this.ControlsInside&&"undefined"!==typeof this.Frame.Right?ngc_ImgDrawProps(this.ID+"_R","ngHint",this.ID,0,this.Enabled,this.Frame.Right):b,c=a.W+c.W+d.W,ngVal(this.Bounds.W,-1)!=c&&(e=!0,this.Bounds.W=c,this.Bounds.R=void 0),
this.Bounds.W<this.MinWidth&&(e=!0,this.Bounds.W=this.MinWidth),0<this.MaxWidth&&this.Bounds.W>this.MaxWidth&&(e=!0,this.Bounds.W=this.MaxWidth));"undefined"!==typeof a.H&&(c=this.ControlsInside&&"undefined"!==typeof this.Frame.Top?ngc_ImgDrawProps(this.ID+"_B","ngHint",this.ID,0,this.Enabled,this.Frame.Top):b,b=this.ControlsInside&&"undefined"!==typeof this.Frame.Bottom?ngc_ImgDrawProps(this.ID+"_B","ngHint",this.ID,0,this.Enabled,this.Frame.Bottom):b,a=a.H+c.H+b.H,ngVal(this.Bounds.H,-1)!=a&&(e=
!0,this.Bounds.H=a,this.Bounds.B=void 0,this.Bounds.H<this.MinHeight&&(e=!0,this.Bounds.H=this.MinHeight),0<this.MaxHeight&&this.Bounds.H>this.MaxHeight&&(e=!0,this.Bounds.H=this.MaxHeight)));return e}function ngh_GetClientRect(){var a,b;if(ngVal(this.ControlsPanel,!1)){var c=this.ControlsPanel.Elm();c&&(a=ng_ClientWidth(c),b=ng_ClientHeight(c))}return{W:a,H:b}}function ngh_DoRelease(a){a.style.display="none";(a=document.getElementById(this.ID+"_F"))&&ng_SetInnerHTML(a,"")}
function ngh_DoCreate(a,b,c,d){d=this.BaseClassName;"undefined"===typeof a.W&&"undefined"===typeof a.CW&&("undefined"===typeof a.L||"undefined"===typeof a.R)||"undefined"===typeof a.H&&"undefined"===typeof a.CH&&("undefined"===typeof a.T||"undefined"===typeof a.B)||"undefined"!==typeof a.Data&&"undefined"!==typeof a.Data.AutoSize||(this.AutoSize=!1);("undefined"!==typeof a.CW||"undefined"!==typeof a.CH)&&this.SetClientRect({W:a.CW,H:a.CH})&&this.SetBounds();var e={};e.ControlsPanel="object"===typeof a.ControlsPanel?
ng_CopyVar(a.ControlsPanel):{};ng_MergeDef(e.ControlsPanel,{Type:"ngPanel",id:this.ID+"_P",className:d+"ControlsPanel",ScrollBars:ssAuto,L:0,T:0,R:0,B:0});e.ControlsPanel.Controls=a.Controls;e.ControlsPanel.ModifyControls=a.ModifyControls;d=ngCreateControls(e,void 0,c);ngVal(a.ParentReferences,!0)||(this.Controls={},this.Controls.Owner=this,this.Controls.AddControls=function(a,b){ngCreateControls(a,this,ngVal(b,e.ControlsPanel.id))},b=this.Controls);this.ControlsPanel=d.ControlsPanel;this.ControlsPanel.Owner=
this;delete d.ControlsPanel;ngCloneRefs(b,d);delete a.Controls;delete a.ModifyControls;c.style.zIndex=Math.round((ngModalCnt+.6)*ngModalZIndexDelta);this.SetScrollBars(ssDefault);a=document.createElement("div");a.id=this.ID+"_F";a.style.position="absolute";a.style.zIndex="800";c.appendChild(a);a=document.createElement("div");a.id=this.ID+"_A";a.style.position="absolute";a.style.zIndex="801";c.appendChild(a)}
function ngh_DoPopup(a,b,c){this.SetVisible(!1);this.PopupX=a;this.PopupY=b;delete this.PopupElm;"undefined"!==typeof c&&(this.Anchor=c);this.SetVisible(!0)}function ngh_Popup(a,b,c){a={PopupX:a,PopupY:b,Anchor:c};this.OnPopup&&!ngVal(this.OnPopup(this,a),!1)||this.DoPopup(a.PopupX,a.PopupY,a.Anchor)}
function ngh_PopupCtrl(a,b){var c=null;"string"===typeof a&&(a=(c=ngGetControlById(a))?c:document.getElementById(a));"function"===typeof a.Elm?c=a.Elm():(c=a,a=null);if(c&&"object"===typeof c&&"undefined"!==typeof c.tagName){var d=this.Elm(),d=d?d.parentNode:ngApp.TopElm(),e=ng_ParentPosition(c,d,!0),g=a?a.HintX:void 0;"undefined"===typeof g&&(g=Math.floor(ng_OuterWidth(c)/3));var k=a?a.HintY:void 0;"undefined"===typeof k&&(k=Math.floor(ng_OuterHeight(c)/2));g+=ng_ScrollX(d);k+=ng_ScrollY(d);c={PopupX:e.x+
g,PopupY:e.y+k,PopupElm:c,Anchor:b};if(!this.OnPopup||ngVal(this.OnPopup(this,c),!1))this.DoPopup(c.PopupX,c.PopupY,c.Anchor),this.PopupElm=c.PopupElm}}
function ngh_SetVisible(a){a=ngVal(a,!0);if(this.Visible!=a)if(this.HintAutoHideTimer&&clearTimeout(this.HintAutoHideTimer),this.HintAutoHideTimer=null,a)a=ngVal(this.AutoHideTimeout,0),0<a&&!this.InDesignMode&&(this.HintAutoHideTimer=setTimeout("ngh_HintAutoHideTimer('"+this.ID+"')",a));else if(delete this.PopupX,delete this.PopupY,delete this.PopupElm,delete this.PopupAnchor,this.DisposeOnHide&&!this.InDesignMode)var b=this,c=setTimeout(function(){clearTimeout(c);var a=b.Owner;b.Dispose();if(a&&
"object"===typeof a)for(var e in a)if(a[e]==b){delete a[e];break}},1)}function ngh_HintAutoHideTimer(a){(a=ngGetControlById(a,"ngHint"))&&a.SetVisible(!1)}
function ngHint(a){ngControl(this,a,"ngHint");this.AutoSize=!0;this.MaxHeight=this.MaxWidth=this.MinHeight=this.MinWidth=0;this.Anchor="auto";this.PreferredAnchors=this.Anchors=null;this.Frame={};this.ControlsInside=!0;this.DisposeOnHide=!1;this.DoCreate=ngh_DoCreate;this.DoRelease=ngh_DoRelease;this.DoUpdate=ngh_DoUpdate;this.FindAnchor=ngh_FindAnchor;this.AddEvent("Update",ngw_Update);this.Popup=ngh_Popup;this.PopupCtrl=ngh_PopupCtrl;this.GetClientRect=ngh_GetClientRect;this.SetClientRect=ngh_SetClientRect;
this.CalcAutoSize=ngw_CalcAutoSize;this.BorderCollision=ngh_BorderCollision;this.BoundRectCollision=ngh_BoundRectCollision;this.OnPopup=this.OnCheckPlacement=null;this.AddEvent(ngh_SetVisible,"SetVisible");this.DoPopup=ngh_DoPopup;this.AddEvent("DoAttach",ngh_DoAttach);this.Visible=!1;ngControlCreated(this)}function ngCreateTextHint(a,b,c){"string"===typeof a&&(a={Type:a});ng_MergeDef(a,{Data:{Text:b}});return ngCreateHint(a,c)}
function ngPopupTextHint(a,b,c,d,e,g){(a=ngCreateTextHint(a,d,g))&&a.Popup(b,c,e);return a}function ngPopupCtrlTextHint(a,b,c,d,e){"undefined"===typeof c&&(c="function"===typeof b.GetHint?b.GetHint():ngVal(b.Hint,""));"undefined"!==typeof b.HintTimeout&&("string"===typeof a&&(a={Type:a}),ng_MergeDef(a,{Data:{AutoHideTimeout:b.HintTimeout}}));(a=ngCreateTextHint(a,c,e))&&a.PopupCtrl(b,d);return a}
function nghtxt_SetText(a){this.OnSetText&&(a=this.OnSetText(a,this));this.Controls&&this.Controls.Hint&&a!=this.Text&&(this.Text=a,this.Controls.Hint.SetText(a),this.AutoSize&&this.Update())}function nghtxt_OnGetText(a){return(a=this.Owner.Owner)?a.GetText():""}function nghtxt_DoPtrClick(a){if("control"===a.EventID&&this.OnClick){var b=a.Event;b.Owner=this;this.OnClick(b);a.PreventDefault=!0}}
function nghtxt_HintDoPtrClick(a){if("control"===a.EventID)for(var b=this.ParentControl;b;){if("ngHint"===b.CtrlType){b.DoPtrClick(a);break}b=b.ParentControl}}
function nghtxt_DoMeasureText(a,b){var c,d;b=null;a||(a=this.Elm());if(!b){var e=this.Controls.Hint;e&&(b=e.Elm())}if(this.AutoSize){var g={L:0,T:0,aL:0,aT:0,oT:0,oL:0,W:0,H:0},k,n,r;k=this.ControlsInside&&"undefined"!==typeof this.Frame.Left?ngc_ImgDrawProps(this.ID+"_L","ngHint",this.ID,0,this.Enabled,this.Frame.Left):g;n=this.ControlsInside&&"undefined"!==typeof this.Frame.Right?ngc_ImgDrawProps(this.ID+"_R","ngHint",this.ID,0,this.Enabled,this.Frame.Right):g;r=this.ControlsInside&&"undefined"!==
typeof this.Frame.Top?ngc_ImgDrawProps(this.ID+"_B","ngHint",this.ID,0,this.Enabled,this.Frame.Top):g;g=this.ControlsInside&&"undefined"!==typeof this.Frame.Bottom?ngc_ImgDrawProps(this.ID+"_B","ngHint",this.ID,0,this.Enabled,this.Frame.Bottom):g;!b||"undefined"!==typeof e.Bounds.R&&"undefined"!==typeof e.Bounds.L||(c=ng_OuterWidth(b)+k.W+n.W,c="undefined"===typeof e.Bounds.R?c+2*e.Bounds.L:c+2*e.Bounds.R);!b||"undefined"!==typeof e.Bounds.T&&"undefined"!==typeof e.Bounds.B||(d=ng_OuterHeight(b)+
r.H+g.H,d="undefined"===typeof e.Bounds.B?d+2*e.Bounds.T:d+2*e.Bounds.B)}"undefined"===typeof c&&(c=ng_OuterWidth(a));"undefined"===typeof d&&(d=ng_OuterHeight(a));return{W:c,H:d}}
function nghtxt_DoHintUpdate(a){var b=this.Anchor,c;try{var d=this.Controls.Hint;if(d&&this.AutoSize&&d.AutoSize)if(0<ngw_inautosize)this.Anchor=ngVal(this.PopupAnchor,b);else{var e="",g=ng_ClientWidthEx(a.parentNode),k=d.Elm();ng_setLeftTop(a,-1E4,-1E4);ng_BeginMeasureElement(k);try{var n,r;if("auto"!==b)r={},n={},"object"===typeof this.Anchors&&this.Anchors&&(r[this.Anchor]=this.Anchors[this.Anchor]);else if(this.PreferredAnchors){var u;n={};r={};for(var x in this.PreferredAnchors)(u=this.Anchors[this.PreferredAnchors[x]])&&
"object"===typeof u&&(r[this.PreferredAnchors[x]]=u);for(x in this.Anchors)(u=this.Anchors[x])&&"object"===typeof u&&"undefined"===typeof r[x]&&(n[x]=u)}else n=this.Anchors;d.AutoSizeMode="auto";d.Update();var w=-1,y,A="",z=this.DoMeasureText(a,k);z.W<this.MinWidth&&(z.W=this.MinWidth);if(0>=this.MaxWidth||z.W<this.MaxWidth){var B="undefined"!==typeof r?this.FindAnchor(z.W,z.H,r):this.FindAnchor(z.W,z.H,n);!B.AffectedArea&&B.AnchorObj?e=B.Anchor:0<B.AffectedArea&&(w=B.AffectedArea,A=B.Anchor,y=-1)}if(""===
e){u=function(b){var c,n,r,u,x;for(x in b)if((n=b[x])&&"object"===typeof n&&(c=E,r=0,"undefined"!==typeof n.L?(c-=n.L,"undefined"!==typeof n.HX&&(c-=n.HX),r=g-c):"undefined"!==typeof n.R&&(r=c+n.R,n.Img&&(r+=n.Img.W),"undefined"!==typeof n.HX&&(r-=n.HX)),r<D&&(r=D),r<H.MinWidth&&(r=H.MinWidth),0<H.MaxWidth&&r>H.MaxWidth&&(r=H.MaxWidth),r-=F,"undefined"!==typeof d.MinWidth&&r<d.MinWidth&&(r=d.MinWidth),!(0>=r)))if(d.AutoSizeMode="vertical",ng_SetClientWidth(k,r),d.Update(),c=H.DoMeasureText(a,k),u=
{},u[x]=n,n=H.FindAnchor(c.W,c.H,u),!n.AffectedArea&&n.AnchorObj){e=n.Anchor;w=0;y=r;break}else 0<n.AffectedArea&&(n.AffectedArea<w||0>w)&&(A=n.Anchor,w=n.AffectedArea,y=r)};var D=0,C=d.OnGetText;try{d.OnGetText=function(a,b){var c=C?C.apply(a,[a]):a.Text;return c=c.replace(/\s/g,a.HTMLEncode?"\n":"<br>")},d.Update(),D=this.DoMeasureText(a,k).W}finally{d.OnGetText=C}var E=this.PopupX;"undefined"===typeof E&&(E=ngVal(this.Bounds.L,0));var F=this.ControlsInside&&"undefined"!==typeof this.Frame.Left?
this.Frame.Left.W:0,F=F+(this.ControlsInside&&"undefined"!==typeof this.Frame.Right?this.Frame.Right.W:0);!k||"undefined"!==typeof d.Bounds.R&&"undefined"!==typeof d.Bounds.L||(F="undefined"===typeof d.Bounds.R?F+2*d.Bounds.L:F+2*d.Bounds.R);var H=this;"undefined"!==typeof r&&u(r);""===e&&(u(n),"undefined"!==typeof r&&(B=this.FindAnchor(z.W,z.H,n),!B.AffectedArea&&B.AnchorObj?(d.AutoSizeMode="auto",d.Update(),e=B.Anchor,w=0):0<B.AffectedArea&&(B.AffectedArea<w||0>w)&&(d.AutoSizeMode="auto",d.Update(),
e=B.Anchor,w=B.AffectedArea)));""===e&&""!=A&&(0<y?ng_SetClientWidth(k,y):d.AutoSizeMode="auto",d.Update(),e=A)}""!==e?this.Anchor=e:"auto"!==d.AutoSizeMode&&(d.AutoSizeMode="auto",d.Update())}finally{ng_EndMeasureElement(k)}}c=this.__DefaultDoUpdate(a)}finally{"undefined"!==typeof b?this.Anchor=b:delete this.Anchor}return c}
function Create_ngTextHint(a,b,c){function d(a){if(a&&("undefined"===typeof a.Data&&(a.Data={}),"undefined"===typeof a.Data.Gestures&&(a.Data.Gestures={}),a.Data.Gestures.tap=!0,"undefined"!==typeof a.Controls))for(var b in a.Controls)d(a.Controls[b])}ng_MergeDef(a,{ParentReferences:!1,Data:{SetText:nghtxt_SetText,GetText:ngc_GetText,OnClick:null,OnSetText:null,OnGetText:null},ControlsPanel:{Data:{Gestures:{tap:!0}}},Controls:{Hint:{Type:"ngText",Events:{OnGetText:nghtxt_OnGetText}}}});d(a);a.OnCreated=
ngAddEvent(a.OnCreated,function(a,b){function c(a){a=a.ChildControls;if("undefined"!==typeof a)for(var b=a.length-1;0<=b;b--)a[b].AddEvent("DoPtrClick",nghtxt_HintDoPtrClick),c(a[b])}c(a)});if(a=ngCreateControlAsType(a,"ngHint",b,c))a.__DefaultDoUpdate=a.DoUpdate,a.DoUpdate=nghtxt_DoHintUpdate,a.DoPtrClick=nghtxt_DoPtrClick,a.DoMeasureText=nghtxt_DoMeasureText;return a}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.window={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngWindow",function(){return new ngWindow});ngRegisterControlType("ngHint",function(){return new ngHint});ngRegisterControlType("ngTextHint",Create_ngTextHint)}};"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.cs&&(ngc_Lang.cs={});ngc_Lang.cs.dbviewmodel_form_changed="Zru\u0161it proveden\u00e9 zm\u011bny?";ngc_Lang.cs.dbviewmodel_form_deletequery="Opravdu chcete smazat tento z\u00e1znam?";ngc_Lang.cs.dbviewmodel_dataset_new="Nov\u00fd";ngc_Lang.cs.dbviewmodel_dataset_edit="Upravit";ngc_Lang.cs.dbviewmodel_dataset_delete="Smazat";ngc_Lang.cs.dbviewmodel_dataset_refresh="Obnovit seznam";ngc_Lang.cs.dbviewmodel_toolbar_new="Nov\u00fd";
ngc_Lang.cs.dbviewmodel_toolbar_insert="Vlo\u017eit";ngc_Lang.cs.dbviewmodel_toolbar_update="Ulo\u017eit";ngc_Lang.cs.dbviewmodel_toolbar_delete="Smazat";ngc_Lang.cs.dbviewmodel_toolbar_cancel="Storno";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.en&&(ngc_Lang.en={});ngc_Lang.en.dbviewmodel_form_changed="Discard changes?";ngc_Lang.en.dbviewmodel_form_deletequery="Are you sure you want to delete this record?";ngc_Lang.en.dbviewmodel_dataset_new="New";ngc_Lang.en.dbviewmodel_dataset_edit="Edit";ngc_Lang.en.dbviewmodel_dataset_delete="Delete";ngc_Lang.en.dbviewmodel_dataset_refresh="Refresh list";ngc_Lang.en.dbviewmodel_toolbar_new="New";
ngc_Lang.en.dbviewmodel_toolbar_insert="Insert";ngc_Lang.en.dbviewmodel_toolbar_update="Update";ngc_Lang.en.dbviewmodel_toolbar_delete="Delete";ngc_Lang.en.dbviewmodel_toolbar_cancel="Cancel";"undefined"===typeof ngc_Lang&&(ngc_Lang={});"undefined"===typeof ngc_Lang.sk&&(ngc_Lang.sk={});ngc_Lang.sk.dbviewmodel_form_changed="Zru\u0161i\u0165 vykonan\u00e9 zmeny?";ngc_Lang.sk.dbviewmodel_form_deletequery="Naozaj chcete zmaza\u0165 tento z\u00e1znam?";ngc_Lang.sk.dbviewmodel_dataset_new="Nov\u00fd";ngc_Lang.sk.dbviewmodel_dataset_edit="Upravi\u0165";ngc_Lang.sk.dbviewmodel_dataset_delete="Zmaza\u0165";ngc_Lang.sk.dbviewmodel_dataset_refresh="Obnovi\u0165 zoznam";
ngc_Lang.sk.dbviewmodel_toolbar_new="Nov\u00fd";ngc_Lang.sk.dbviewmodel_toolbar_insert="Vlo\u017ei\u0165";ngc_Lang.sk.dbviewmodel_toolbar_update="Ulo\u017ei\u0165";ngc_Lang.sk.dbviewmodel_toolbar_delete="Zmaza\u0165";ngc_Lang.sk.dbviewmodel_toolbar_cancel="Storno";function ngdbvmf_NewRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.NewRecord?this.ViewModel.NewRecord():!1}function ngdbvmf_LoadRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.LoadRecord?this.ViewModel.LoadRecord():!1}function ngdbvmf_InsertRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.InsertRecord?this.ViewModel.InsertRecord():!1}
function ngdbvmf_UpdateRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.UpdateRecord?this.ViewModel.UpdateRecord():!1}function ngdbvmf_DeleteRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.DeleteRecord?this.ViewModel.DeleteRecord():!1}function ngdbvmf_CancelEdits(){return this.ViewModel&&"function"===typeof this.ViewModel.CancelEdits?this.ViewModel.CancelEdits():!1}
function ngdbvmf_ResetRecord(){return this.ViewModel&&"function"===typeof this.ViewModel.ResetRecord?this.ViewModel.ResetRecord():!1}function ngdbvmf_SetViewModel(a){"string"===typeof a&&(a=getViewModelById(a));if(!a||!a.ViewModelForm){var b=this.ViewModel;"object"===typeof b&&b&&b.RemoveEvent("OnDBError",ngdbvmf_OnDBError);a&&a.AddEvent("OnDBError",ngdbvmf_OnDBError)}}
function ngdbvmf_ChangeQuery(a,b){var c;c=this.OnGetChangeQueryText?ngVal(this.OnGetChangeQueryText(this),""):ngTxt(this.ChangeQueryText);this.OnChangedQuery?this.OnChangedQuery(this,c,a,b):confirm(c)?"function"===typeof a&&a(this):"function"===typeof b&&b(this)}
function ngdbvmf_DeleteQuery(a,b){var c;c=this.OnGetDeleteQueryText?ngVal(this.OnGetDeleteQueryText(this),""):ngTxt(this.DeleteQueryText);this.OnDeleteQuery?this.OnDeleteQuery(this,c,a,b):confirm(c)?"function"===typeof a&&a(this):"function"===typeof b&&b(this);return!0}function ngdbvmf_IsChanged(){var a=this.ViewModel;return a&&"function"===typeof a.IsChanged?a.IsChanged():!1}
function ngdbvmf_OnCommand(a,b,c){var d=a.ViewModel;if(!d)return!0;d="function"===typeof d.ViewModel._RecordState?d.ViewModel._RecordState():recStateNone;if(d==recStateLoaded||d==recStateNewRecord){for(var e=!1,d=a.ChangeCommands,g=0;g<d.length;g++)if(b==d[g]){e=!0;break}if(e&&!ngVal(c.IgnoreFormChanges,!1)&&a.IsChanged())return a.ChangeQuery(function(a){c.IgnoreFormChanges=!0;a.ViewModel&&a.ViewModel.Command(b,c)}),!1;e=!1;d=a.DeleteCommands;for(g=0;g<d.length;g++)if(b==d[g]){e=!0;break}if(e&&!ngVal(c.SkipDeleteQuery,
!1))return a.DeleteQuery(function(a){c.SkipDeleteQuery=!0;a.ViewModel&&a.ViewModel.Command(b,c)}),!1}return!0}function ngdbvmf_OnDBError(a,b,c){if(a=a.ViewModelForm)a.OnDBError?a.OnDBError(a,b,c):(b=ng_ViewModelFormatDBError(c.DBError,b),""!=b&&(a.OnShowErrorMsg?a.OnShowErrorMsg(a,b):alert(b)));return!0}
function Create_ngDBViewModelForm(a,b,c){a=ngCreateControlAsType(a,"ngViewModelForm",b,c);if(!a)return a;a.AddEvent("OnCommand",ngdbvmf_OnCommand);a.AddEvent(ngdbvmf_SetViewModel,"SetViewModel");a.DeleteCommands=["delete"];a.ChangeCommands=["load","new"];a.ChangeQueryText="dbviewmodel_form_changed";a.DeleteQueryText="dbviewmodel_form_deletequery";a.NewRecord=ngdbvmf_NewRecord;a.LoadRecord=ngdbvmf_LoadRecord;a.InsertRecord=ngdbvmf_InsertRecord;a.UpdateRecord=ngdbvmf_UpdateRecord;a.DeleteRecord=ngdbvmf_DeleteRecord;
a.CancelEdits=ngdbvmf_CancelEdits;a.ResetRecord=ngdbvmf_ResetRecord;a.IsChanged=ngdbvmf_IsChanged;a.ChangeQuery=ngdbvmf_ChangeQuery;a.DeleteQuery=ngdbvmf_DeleteQuery;a.OnChangedQuery=null;a.OnDeleteQuery=null;a.OnGetChangeQueryText=null;a.OnGetDeleteQueryText=null;a.OnDBError=null;return a}function ngdbdsc_OnNewRecord(a){"function"===typeof a.DBDataSetsNotifyChange&&a.DBDataSetsNotifyChange(dsdbNew,null)}
function ngdbdsc_RecordLoaded(a,b){"function"===typeof a.DBDataSetsNotifyChange&&a.DBDataSetsNotifyChange(dsdbLoaded,"function"===typeof a.GetPrimaryKeyValues?a.GetPrimaryKeyValues():null)}function ngdbdsc_RecordInserted(a,b){"function"===typeof a.DBDataSetsNotifyChange&&a.DBDataSetsNotifyChange(dsdbInserted,"function"===typeof a.GetPrimaryKeyValues?a.GetPrimaryKeyValues():null)}
function ngdbdsc_RecordUpdated(a,b){"function"===typeof a.DBDataSetsNotifyChange&&a.DBDataSetsNotifyChange(dsdbUpdated,"function"===typeof a.GetPrimaryKeyValues?a.GetPrimaryKeyValues():null)}function ngdbdsc_RecordDeleted(a,b,c){"function"===typeof a.DBDataSetsNotifyChange&&a.DBDataSetsNotifyChange(dsdbDeleted,c)}
function ngdbdsc_DoNotifyChange(a,b,c){if(this.GetDBViewModel()==a){a=this.Controls.List;if(b==dsdbLoaded)this.AutoSelectDBVMRecord&&a&&(a.ClearSelected(),a.Update());else{if(a)if(b==dsdbDeleted)for(var d=a.GetSelected(),e=0;e<d.length;e++){var g=this.GetRecordPrimaryKey(d[e]);if(c&&ng_VarEquals(c,g)){d=d[e];a.SelectItem(d,!1);if(0==a.SelCount){var k=null;this.ScanVisiblePageItems(function(a,b,c,e){if(d==b)return d=null,k?!1:!0;k=b;return d?!0:!1});k&&a.SelectItem(k)}break}}else a.ClearSelected();
b!=dsdbNew&&(this.MaxLength=void 0,this.InvalidateData())}this.OnDBViewModelChanged&&this.OnDBViewModelChanged(this,b,c)}}
function ngdbdsc_SetDBViewModel(a){if("string"===typeof a){var b=getViewModelById(a);b&&(a=b)}if((b=this.DBViewModel)&&"string"!==typeof b){if(b.DBDataSets)for(var c=0;c<b.DBDataSets.length;c++)if(b.DBDataSets[c]==this){b.DBDataSets.splice(c,1);break}b.RemoveEvent("OnNewRecord",ngdbdsc_OnNewRecord);b.RemoveEvent("OnRecordLoaded",ngdbdsc_RecordLoaded);b.RemoveEvent("OnRecordInserted",ngdbdsc_RecordInserted);b.RemoveEvent("OnRecordUpdated",ngdbdsc_RecordUpdated);b.RemoveEvent("OnRecordDeleted",ngdbdsc_RecordDeleted)}if((this.DBViewModel=
a)&&"string"!==typeof a){if(a.DBDataSets){for(c=0;c<a.DBDataSets.length&&a.DBDataSets[c]!=this;c++);if(c<a.DBDataSets.length)return;a.DBDataSets.push(this)}a.AddEvent("OnNewRecord",ngdbdsc_OnNewRecord);a.AddEvent("OnRecordLoaded",ngdbdsc_RecordLoaded);a.AddEvent("OnRecordInserted",ngdbdsc_RecordInserted);a.AddEvent("OnRecordUpdated",ngdbdsc_RecordUpdated);a.AddEvent("OnRecordDeleted",ngdbdsc_RecordDeleted)}}
function ngdbdsc_GetDBViewModel(){var a=this.DBViewModel;if("string"===typeof a){a=getViewModelById(a);if(!a)return null;this.SetDBViewModel(a);a=this.DBViewModel}return a}function ngdbdsc_SelectChanged(a){var b=a.Owner.Owner;if(b&&!b.ds_select_changing){b.ds_select_changing=!0;try{var c=1==a.SelCount;b.Controls.LoadRecord&&b.Controls.LoadRecord.SetEnabled(c);b.Controls.DeleteRecord&&b.Controls.DeleteRecord.SetEnabled(c);c&&b.LoadOnSelect&&b.LoadRecord()}finally{delete b.ds_select_changing}}}
function ngdbdsc_DoUpdateBefore(a){if(a=this.Owner.Owner){var b=a.GetDBViewModel();b&&"function"===typeof b.GetPrimaryKeyValues&&a.AutoSelectDBVMRecord?this.__dbvmpk=b.GetPrimaryKeyValues():delete this.__dbvmpk}}function ngdbdsc_DrawItem(a,b,c,d,e,g,k){if(0!=a.SelCount)return!0;b=a.Owner.Owner;if(!b||!b.AutoSelectDBVMRecord||!a.__dbvmpk)return!0;c=b.GetRecordPrimaryKey(d);if(ng_VarEquals(a.__dbvmpk,c)){c=b.LoadOnSelect;try{b.LoadOnSelect=!1,a.SelectItem(d)}finally{b.LoadOnSelect=c}}return!0}
function ngdbdsc_OnClick(a){var b=a.list.Owner.Owner;if(0!=a.listPart||!b||!b.LoadOnSelect||a.listIgnoreSelect)return!0;var c=b.GetDBViewModel();if(!c)return!0;(c=c.ViewModelForm)&&"function"===typeof c.IsChanged&&c.IsChanged()&&(c.ChangeQuery(function(c){b.LoadRecord(a.listItem,!0)}),a.listIgnoreSelect=!0);return!0}function ngdbdsc_OnClickItem(a){var b=a.list.Owner.Owner;b&&!b.LoadOnSelect&&b.LoadOnClick&&b.LoadRecord(a.listItem)}
function ngdbdsc_OnDblClickItem(a){var b=a.list.Owner.Owner;b&&!b.LoadOnSelect&&b.LoadOnDblClick&&b.LoadRecord(a.listItem)}
function ngdbdsc_LoadRecord(a,b){var c=this.GetDBViewModel();if(!c)return!1;var d=!0;if(!a){d=this.Controls.List.GetSelected();1==d.length&&(a=d[0]);if(!a)return!1;d=!1}if(this.OnLoadRecord&&!ngVal(this.OnLoadRecord(this,c,a),!1))return!1;var e=c.ViewModelForm;if(e&&!ngVal(b,!1)&&"function"===typeof e.IsChanged&&e.IsChanged()){var g=this;e.ChangeQuery(function(b){g.LoadRecord(a,!0)});return!1}if(d&&!this.ds_select_changing){this.ds_select_changing=!0;try{this.Controls.List.selected=[],this.Controls.List.SelectItem(a,
!0)}finally{delete this.ds_select_changing}}return"function"===typeof c.LoadRecord?c.LoadRecord(this.GetRecordPrimaryKey(a),{IgnoreFormChanges:!0}):!1}function ngdbdsc_NewRecord(){var a=this.GetDBViewModel();if(!a||this.OnNewRecord&&!ngVal(this.OnNewRecord(this,a),!1))return!1;"function"===typeof a.NewRecord?a.NewRecord():a.Reset();this.Controls.List.ClearSelected();return!0}
function ngdbdsc_DeleteRecord(a){var b=this.GetDBViewModel();if(!b)return!1;if(!a){var c=this.Controls.List.GetSelected();1==c.length&&(a=c[0]);if(!a)return!1}return this.OnDeleteRecord&&!ngVal(this.OnDeleteRecord(this,b,a),!1)?!1:"function"===typeof b.DeleteRecord?b.DeleteRecord(this.GetRecordPrimaryKey(a)):!1}
function ngdbdsc_GetRecordPrimaryKey(a){function b(a,c,d){var n,r;for(r in a)"Owner"!=r&&(n=a[r],ngIsFieldDef(n)?ngVal(n.Attrs.PrimaryKey,!1)&&"undefined"!==typeof c[r]&&(d[r]=c[r]):ng_typeObject(n)&&!ng_typeDate(n)&&ng_typeObject(c[r])&&!ng_typeDate(c[r])&&(d[r]={},b(n,c[r],d[r]),ng_EmptyVar(d[r])&&delete d[r]))}if(!a||!ng_typeObject(a.Record))return null;var c=this.ViewModel;if(!c||!c.ViewModel.Columns)return{};var d={};b(c.ViewModel.Columns,a.Record,d);return d}
function ngdbdsc_SetViewModel(a,b,c){c&&(delete c.NewRecord,delete c.LoadRecord,delete c.DeleteRecord);b&&b.SetViewModel({NewRecord:function(){return a.NewRecord()},LoadRecord:function(){return a.LoadRecord()},DeleteRecord:function(){return a.DeleteRecord()}})}
function Create_ngDBDataSet(a,b,c,d){var e=!1;ngVal(a.EditButtons,!0)?(e=!0,ng_MergeDef(a,{Controls:{Paging:{Controls:{NewRecord:{Type:"ngButton",Data:{ngTextD:"dbviewmodel_dataset_new",ngAltD:"dbviewmodel_dataset_new"},Events:{OnClick:function(a){a.Owner.Owner.Owner.NewRecord()}}},LoadRecord:{Type:"ngButton",Data:{ngTextD:"dbviewmodel_dataset_edit",ngAltD:"dbviewmodel_dataset_edit",Enabled:!1},Events:{OnClick:function(a){a.Owner.Owner.Owner.LoadRecord()}}},DeleteRecord:{Type:"ngButton",Data:{ngTextD:"dbviewmodel_dataset_delete",
ngAltD:"dbviewmodel_dataset_delete",Enabled:!1},Events:{OnClick:function(a){a.Owner.Owner.Owner.DeleteRecord()}}}}}}})):a.Controls&&a.Controls.Paging&&a.Controls.Paging.Controls&&(a.Controls.Paging.Controls.NewRecord=null,a.Controls.Paging.Controls.LoadRecord=null,a.Controls.Paging.Controls.DeleteRecord=null);ngVal(a.RefreshButton,!0)?(e=!0,ng_MergeDef(a,{Controls:{Paging:{Controls:{Refresh:{Type:"ngButton",Data:{ngTextD:"dbviewmodel_dataset_refresh",ngAltD:"dbviewmodel_dataset_refresh"},Events:{OnClick:function(a){a.Owner.Owner.Owner.ApplyFilters()}}}}}}})):
a.Controls&&a.Controls.Paging&&a.Controls.Paging.Controls&&(a.Controls.Paging.Controls.Refresh=null);b=ngCreateControlAsType(a,ngVal(d,"ngDataSet"),b,c);if(!b)return b;b.AddEvent("OnSetViewModel",ngdbdsc_SetViewModel);a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){b.DBViewModel=ngVal(a.DBViewModel,b.DBViewModel);var d=b.Controls.List;d&&(d.SelectType==nglSelectNone&&(d.SelectType=nglSelectSingle),d.AddEvent("OnSelectChanged",ngdbdsc_SelectChanged),d.AddEvent("OnClick",ngdbdsc_OnClick),d.AddEvent("OnClickItem",
ngdbdsc_OnClickItem),d.AddEvent("OnDblClickItem",ngdbdsc_OnDblClickItem),d.AddEvent("OnDrawItem",ngdbdsc_DrawItem),d.AddEvent(ngdbdsc_DoUpdateBefore,"DoUpdate"))});b.DisplayPaging=e?plDisplayPagingAlways:plDisplayPagingNotEmpty;b.PagingType=plPagingDataSetEx;b.PagingInside=!1;b.DoNotifyChange=ngdbdsc_DoNotifyChange;b.DBViewModel=null;b.LoadOnSelect=!1;b.LoadOnClick=!1;b.LoadOnDblClick=!0;b.AutoSelectDBVMRecord=!0;b.SetDBViewModel=ngdbdsc_SetDBViewModel;b.GetDBViewModel=ngdbdsc_GetDBViewModel;b.NewRecord=
ngdbdsc_NewRecord;b.LoadRecord=ngdbdsc_LoadRecord;b.DeleteRecord=ngdbdsc_DeleteRecord;b.GetRecordPrimaryKey=ngdbdsc_GetRecordPrimaryKey;b.OnNewRecord=null;b.OnLoadRecord=null;b.OnDeleteRecord=null;b.OnDBViewModelChanged=null;return b}
function Create_ngDBToolBar(a,b,c,d){ng_MergeDef(a,{ParentReferences:!1,Controls:{New:{Type:"ngButton",DataBind:'Command: "new", Enabled: _RecordState() != recStateNewRecord',Data:{ngTextD:"dbviewmodel_toolbar_new",ngAltD:"dbviewmodel_toolbar_new"}},Delete:{Type:"ngButton",DataBind:'Command: "delete", Enabled: _RecordState() == recStateLoaded',Data:{ngTextD:"dbviewmodel_toolbar_delete",ngAltD:"dbviewmodel_toolbar_delete"}},Insert:{Type:"ngButton",DataBind:'Command: "insert", Visible: _RecordState() == recStateNewRecord',
Data:{ngTextD:"dbviewmodel_toolbar_insert",ngAltD:"dbviewmodel_toolbar_insert"}},Update:{Type:"ngButton",DataBind:'Command: "update", Enabled: _RecordChanged(), Visible: _RecordState() != recStateNewRecord',Data:{ngTextD:"dbviewmodel_toolbar_update",ngAltD:"dbviewmodel_toolbar_update"}},Cancel:{Type:"ngButton",DataBind:'Command: "cancel", Enabled: _RecordChanged() || _RecordState() == recStateNewRecord',Data:{ngTextD:"dbviewmodel_toolbar_cancel",ngAltD:"dbviewmodel_toolbar_cancel"}}}});return ngCreateControlAsType(a,
ngVal(d,"ngToolBar"),b,c)}"undefined"===typeof ngUserControls&&(ngUserControls={});ngUserControls.dbviewmodel_ui={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngDBViewModelForm",Create_ngDBViewModelForm);ngRegisterControlType("ngDBDataSet",function(a,b,c){return Create_ngDBDataSet(a,b,c)});ngRegisterControlType("ngDBToolBar",function(a,b,c){return Create_ngDBToolBar(a,b,c)})}};var ADODBVM_FILTERTYPE_IGNORE="IGNORE",ADODBVM_FILTERTYPE_STARTSWITH="STARTSWITH",ADODBVM_FILTERTYPE_ENDSWITH="ENDSWITH",ADODBVM_FILTERTYPE_CONTAINS="CONTAINS",ADODBVM_FILTERTYPE_GT="GT",ADODBVM_FILTERTYPE_GTE="GTE",ADODBVM_FILTERTYPE_LT="LT",ADODBVM_FILTERTYPE_LTE="LTE",ADODBVM_FILTERTYPE_NOTEQ="NOTEQ",ADODBVM_FILTERTYPE_EQ="EQ";
function ngdsc_UpdateDataSetColumns(){if(this.AutoDataSetColumns){var a=this.Controls.List;if(a){a.Columns=[];var b=this.ViewModel;if(b&&b.ViewModel){var c,b=b.ViewModel.Columns,d;for(d in b)c=b[d],ngIsFieldDef(c)&&!ngVal(c.Attrs.PrimaryKey,!1)&&(c=new ngListCol(c.ID,"",c.Attrs.DataSetColumnAlign,c.Attrs.DataSetColumnWidth),a.Columns.push(c))}this.Update()}}}
function ngdsc_ColumnCaption(a,b,c){if("undefined"===typeof b)return"";c=ngVal(b.Caption,"");var d=a.Owner.Owner;if(""==c){var e=d.ViewModel;if(e){var g=e.GetFieldByID(b.ID);ngIsFieldDef(g)&&(c=g.GetDisplayName(!1));""==c&&(c=ngTxt("VM."+e.Namespace+"."+b.ID,b.ID));c==b.ID&&"Columns."===c.substr(0,8)&&(c=c.substring(8,c.length))}}b=d.GetColumnSortDir(b.ID);"undefined"!==typeof b&&(c=a.OnRenderSortDir?a.OnRenderSortDir(a,c,b):0==b?c+"&nbsp;&uarr;":c+"&nbsp;&darr;");return c}
function ngdsc_CaptionClick(a,b,c,d){d=b.Owner.Owner;d.ToggleColumnSortDir(b.Columns[c].ID,!ngVal(a.ctrlKey,!1))&&d.IsDynamicData()&&d.Reset(!0)}function ngdsc_DoGetSortBy(){var a=this.ViewModel;(a=a&&a.ViewModel&&""!=this.SortByVMField?a.ViewModel[this.SortByVMField]:null)&&(a=ko.ng_gettypedvalue(a,!1));return this.OnGetSortBy?this.OnGetSortBy(this,a):a}
function ngdsc_DoSetSortBy(a){if(!this.OnSetSortBy||ngVal(this.OnSetSortBy(this,a),!1)){var b=this.ViewModel;b&&""!=this.SortByVMField&&(b=b.ViewModel[this.SortByVMField])&&ko.ng_settypedvalue(b,a,!1)}}function ngdsc_GetColumnSortDir(a){var b=this.DoGetSortBy();if(!ng_isEmptyOrNull(b)){"Columns."===a.substr(0,8)&&(a=a.substring(8,a.length));for(var c=0;c<b.length;c++)if(b[c].FieldID==a)return b[c].SortDir}}
function ngdsc_IsAllowedSortBy(a){if(!ng_typeArray(a))return!1;var b=this.ViewModel;(b=b&&b.ViewModel&&""!=this.AllowedSortByVMField?b.ViewModel[this.AllowedSortByVMField]:null)&&(b=ko.ng_gettypedvalue(b,!1));this.OnGetAllowedSortBy&&(b=this.OnGetAllowedSortBy(this,b));if(ng_isEmptyOrNull(b))return!1;var c,d,e;for(c=0;c<b.length;c++){e=b[c];ng_typeArray(e)||ng_typeObject(e)&&(e=ng_typeArray(e.SortBy)?[e.SortBy]:[e]);if(0<e.length&&"*"==e[0].FieldID)return!0;if(e.length==a.length){for(d=0;d<a.length;d++){if(!ng_typeObject(a[d]))return!1;
if("*"==e[d].FieldID)return!0;if(e[d].FieldID!=a[d].FieldID||e[d].SortDir!=a[d].SortDir)break}if(d==a.length)return!0}}return!1}function ngdsc_SetColumnSortDir(a,b,c){"Columns."===a.substr(0,8)&&(a=a.substring(8,a.length));var d=!1,e=c?null:this.DoGetSortBy(),e=ng_isEmptyOrNull(e)?[]:ng_CopyVar(e);for(c=0;c<e.length;c++)if(e[c].FieldID==a){e[c].SortDir!=b&&(d=!0);e[c].SortDir=b;break}c==e.length&&(e.push({FieldID:a,SortDir:b}),d=!0);return d&&this.IsAllowedSortBy(e)?(this.DoSetSortBy(e),!0):!1}
function ngdsc_ToggleColumnSortDir(a,b){var c=ngVal(this.GetColumnSortDir(a),1);return this.SetColumnSortDir(a,0==c?1:0,ngVal(b,!0))?!0:!1}function ngdsc_GetRecord(a){if(!a)return null;var b=a.Record;this.OnGetRecord&&(b=this.OnGetRecord(this,a));return ng_typeObject(b)?ng_CopyVar(b):null}function ngdsc_DrawItem(a,b,c,d,e,g,k){a=a.Owner.Owner;if(!a)return!0;b=a.ViewModel;if(!b)return!0;c=d.Record;a.OnGetRecord&&(c=a.OnGetRecord(this,d));b.SetValues({Columns:c});return!0}
function ngdsc_ColumnText(a,b,c){if("undefined"===typeof c)return"";a=a.Owner.Owner;if(!a)return"";var d=a.ViewModel;if(!d)return"";var d=d.GetFieldByID(c.ID),e=ko.dependencyDetection.registerDependency;try{return ko.dependencyDetection.registerDependency=function(){},ngIsFieldDef(d)?a.OnGetFieldDefValue?ngVal(a.OnGetFieldDefValue(a,d,b,c),""):d.FormatString(ko.ng_getvalue(d.Value)):ng_toString(ko.isObservable(d)?d():d)}finally{ko.dependencyDetection.registerDependency=e}}
function ngdsc_GetValues(a,b,c,d,e,g,k){delete b.Columns;a=[];for(var n in e)"Columns."==n.substr(0,8)&&a.push(n);for(var r in a)delete e[a[r]]}
function ngdsc_LoadData(a,b,c,d){b=a.ViewModel;if(!(b&&b.ViewModel.Records&&ngIsFieldDef(b.ViewModel.Offset)&&ngIsFieldDef(b.ViewModel.Count)))return[];b.ViewModel.Records.SetTypedValue(void 0,!1);999999999==c?(b.ViewModel.Offset.Value(void 0),b.ViewModel.Count.Value(void 0),b.Command("recordcount")):(b.ViewModel.Offset.Value(c),b.ViewModel.Count.Value(d),b.Command(a.GetRecordsCommand)||a.SetAsyncData(999999999,null))}
function ngdsc_DataLoaded(a,b){var c=a.DataSetControl;if(c)if(ng_typeNumber(a.ViewModel.TotalCount)&&c.SetLength(a.ViewModel.TotalCount),"recordcount"==b)delete a.ViewModel.TotalCount,c.SetAsyncData(999999999,null);else{c.GetRecordsCommand="getrecords";var d=a.ViewModel.Offset.GetTypedValue(!1),e=a.ViewModel.Records.GetTypedValue(!1),g=[];if(ng_IsArrayVar(e))for(var k=0;k<e.length;k++)g[k]={Record:e[k]};c.SetAsyncData(d,g)}}
function ngdsc_ViewModelChanged(a){(a=a.DataSetControl)&&a.UpdateDataSetColumns()}function ngdsc_ReloadDataSet(){(!this.OnReloadDataSet||ngVal(this.OnReloadDataSet(this),!1))&&this.IsDynamicData()&&this.Reset(!0)}function ngdsc_ApplyFilters(){this.GetRecordsCommand="applyfilters";(!this.OnApplyFilters||ngVal(this.OnApplyFilters(this),!1))&&this.IsDynamicData()&&this.Reset(!0)}
function ngdsc_ResetFilters(){var a=this.ViewModel?this.ViewModel.ViewModel.Filters:null;if(ng_typeObject(a)){var b=function(a){for(var d in a){var e=a[d];if(ngIsFieldDef(e)){var g=e.Value;ko.isObservable(g)?g(e.DefaultValue):e.Value=e.DefaultValue}else ko.isObservable(e)||!ng_typeObject(e)||ng_typeDate(e)||b(e)}};b(a)}this.GetRecordsCommand="resetfilters";(!this.OnResetFilters||ngVal(this.OnResetFilters(this),!1))&&this.IsDynamicData()&&this.Reset(!0)}
function ngdscvm_ReloadDataSet(){var a=this.Owner.DataSetControl;a&&a.ReloadDataSet()}function ngdscvm_ApplyFilters(){var a=this.Owner.DataSetControl;a&&a.ApplyFilters()}function ngdscvm_ResetFilters(){var a=this.Owner.DataSetControl;a&&a.ResetFilters()}
function ngdsc_SetViewModel(a){ng_typeString(a)&&(a=getViewModelById(a));if(!a||!a.DataSetControl){var b=this.ViewModel;b&&(this.RemoveEvent("OnLoadData",ngdsc_LoadData),b.RemoveEvent("OnGetValues",ngdsc_GetValues),b.RemoveEvent("OnCommandData",ngdsc_DataLoaded),b.RemoveEvent("OnViewModelChanged",ngdsc_ViewModelChanged),delete b.DataSetControl,delete b.ReloadDataSet,delete b.ApplyFilters,delete b.ResetFilters);if(this.ViewModel=a)a.DataSetControl=this,a.SetViewModel(function(){this.ReloadDataSet=
ngdscvm_ReloadDataSet;this.ApplyFilters=ngdscvm_ApplyFilters;this.ResetFilters=ngdscvm_ResetFilters}),!this.OnLoadData&&a.ViewModel.Records&&ngIsFieldDef(a.ViewModel.Offset)&&ngIsFieldDef(a.ViewModel.Count)&&(this.OnLoadData=ngdsc_LoadData),a.AddEvent("OnGetValues",ngdsc_GetValues),a.AddEvent("OnCommandData",ngdsc_DataLoaded),a.AddEvent("OnViewModelChanged",ngdsc_ViewModelChanged);this.OnSetViewModel&&this.OnSetViewModel(this,a,b)}}
function Create_ngDataSet(a,b,c,d){ng_MergeDef(a,{Controls:{List:{Events:{OnCaptionClick:ngdsc_CaptionClick},OverrideEvents:{OnGetColumnCaption:ngdsc_ColumnCaption,OnGetText:ngdsc_ColumnText}}}});b=ngCreateControlAsType(a,ngVal(d,"ngPageList"),b,c);if(!b)return b;a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){var d=ng_FindViewModel(a,b);ng_typeObject(d)&&b.SetViewModel(d);if(d=b.Controls.List)b.AutoDataSetColumns=0==d.Columns.length,d.AddEvent("OnDrawItem",ngdsc_DrawItem);b.UpdateDataSetColumns()});
b.ViewModel=null;b.AutoDataSetColumns=!1;b.GetRecordsCommand="resetfilters";b.SortByVMField="SortBy";b.AllowedSortByVMField="AllowedSortBy";b.SetViewModel=ngdsc_SetViewModel;b.UpdateDataSetColumns=ngdsc_UpdateDataSetColumns;b.DoGetSortBy=ngdsc_DoGetSortBy;b.DoSetSortBy=ngdsc_DoSetSortBy;b.IsAllowedSortBy=ngdsc_IsAllowedSortBy;b.GetColumnSortDir=ngdsc_GetColumnSortDir;b.SetColumnSortDir=ngdsc_SetColumnSortDir;b.ToggleColumnSortDir=ngdsc_ToggleColumnSortDir;b.GetRecord=ngdsc_GetRecord;b.ReloadDataSet=
ngdsc_ReloadDataSet;b.ApplyFilters=ngdsc_ApplyFilters;b.ResetFilters=ngdsc_ResetFilters;b.OnGetFieldDefValue=null;b.OnSetViewModel=null;b.OnGetRecord=null;b.OnReloadDataSet=null;b.OnApplyFilters=null;b.OnResetFilters=null;b.OnGetSortBy=null;b.OnSetSortBy=null;b.OnGetAllowedSortBy=null;return b}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.viewmodel_dataset={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){ngRegisterControlType("ngDataSet",function(a,b,c){return Create_ngDataSet(a,b,c)})}};var ngvmf_hintevents_initialized=!1;function ngca_calcEditDistMatrix(a,b,c,d){for(var e=[],g=0;g<=b.length;g++)e[g]=[];for(var g=0,k=Math.min(a.length,d);g<=k;g++)e[0][g]=g;g=1;for(k=Math.min(b.length,d);g<=k;g++)e[g][0]=g;for(var k=a.length,n,r=b.length,g=1;g<=k;g++){var u=Math.min(r,g+d);for(n=Math.max(1,g-d);n<=u;n++)c(a[g-1],b[n-1])?e[n][g]=e[n-1][g-1]:e[n][g]=Math.min(void 0===e[n-1][g]?Number.MAX_VALUE:e[n-1][g]+1,void 0===e[n][g-1]?Number.MAX_VALUE:e[n][g-1]+1)}return e}
function ngca_findEditScriptFromEditDistMatrix(a,b,c){var d=b.length,e=c.length,g=[],k=a[e][d];if(void 0===k)return null;for(;0<d||0<e;){var n=a[e][d],r=0<e?a[e-1][d]:k+1,u=0<d?a[e][d-1]:k+1,x=0<e&&0<d?a[e-1][d-1]:k+1;if(void 0===r||r<n-1)r=k+1;if(void 0===u||u<n-1)u=k+1;x<n-1&&(x=k+1);r<=u&&r<x?(g.push({status:1,value:c[e-1]}),e--):(u<r&&u<x?g.push({status:2,value:b[d-1]}):(g.push({status:0,value:b[d-1]}),e--),d--)}return g.reverse()}
function ng_GetArraysEditScript(a,b,c,d){if(void 0===d)return ng_GetArraysEditScript(a,b,c,1)||ng_GetArraysEditScript(a,b,c,10)||ng_GetArraysEditScript(a,b,c,Number.MAX_VALUE);a=a||[];b=b||[];c=ngca_calcEditDistMatrix(a,b,c,d);return ngca_findEditScriptFromEditDistMatrix(c,a,b)}function ngvmf_DoDispose(){this.SetViewModel(null);return!0}function ngvmf_OnCommand(a,b,c){if(a=a.ViewModelForm){if(a.OnCommand&&!ngVal(a.OnCommand(a,b,c),!1))return!1;a.ResetErrors()}return!0}
function ngvmf_ShowControl(a,b){if(a){var c=a.binding_updatingVisible;try{a.binding_updatingVisible=!0,a.SetVisible(b)}finally{ng_isEmpty(c)?delete a.binding_updatingVisible:a.binding_updatingVisible=c}}}function ngvmf_EnableControl(a,b){if(a){var c=a.binding_updatingEnabled;try{a.binding_updatingEnabled=!0,a.SetEnabled(b)}finally{ng_isEmpty(c)?delete a.binding_updatingEnabled:a.binding_updatingEnabled=c}}}
function ngvmf_IntSetChildControlsEnabled(a,b){if("function"===typeof this._intSetChildControlsEnabled){var c=this.binding_updatingChildEnabled,d=this.SetChildControlsEnabled;try{this.binding_updatingChildEnabled=!0,this.SetChildControlsEnabled=this._intSetChildControlsEnabled,this.SetChildControlsEnabled.apply(this,arguments)}finally{this.SetChildControlsEnabled=d,ng_isEmpty(c)?delete this.binding_updatingChildEnabled:this.binding_updatingChildEnabled=c}}}
function ngvmf_DoSetChildEnabled(a,b,c){b?(this.EnableControl(a,b),"undefined"!==typeof a._intSetChildControlsEnabled&&(a.SetChildControlsEnabled=a._intSetChildControlsEnabled,delete a._intSetChildControlsEnabled)):("function"===typeof a.SetChildControlsEnabled&&"undefined"===typeof a._intSetChildControlsEnabled&&(a._intSetChildControlsEnabled=a.SetChildControlsEnabled,a.SetChildControlsEnabled=ngvmf_IntSetChildControlsEnabled),this.EnableControl(a,b))}
function ngvmf_DisableControls(){0>=this.disablectrlscnt&&(this.disablectrlscnt=0,this.SetChildControlsEnabled(!1));this.disablectrlscnt++}function ngvmf_EnableControls(){0>=this.disablectrlscnt||(this.disablectrlscnt--,this.disablectrlscnt||this.SetChildControlsEnabled(!0))}
function ngvmf_OnCommandRequest(a,b){var c=a.ViewModelForm;if(c){if(c.OnCommandRequest&&!ngVal(c.OnCommandRequest(c,b),!1))return!1;c.ShowLoading(!0);c.DisableOnCommand&&(c.disable_ctrls_timer&&clearTimeout(c.disable_ctrls_timer),c.disable_ctrls_timer=setTimeout(function(){c.disable_ctrls_timer&&clearTimeout(c.disable_ctrls_timer);delete c.disable_ctrls_timer;c.DisableOnCommand&&c.DisableControls()},1))}return!0}
function ngvmf_OnCommandCancel(a){if(a=a.ViewModelForm)a.OnCommandCancel&&a.OnCommandCancel(a),a.disable_ctrls_timer?(clearTimeout(a.disable_ctrls_timer),delete a.disable_ctrls_timer):a.DisableOnCommand&&a.EnableControls()}function ngvmf_OnCommandResults(a,b,c){if(a=a.ViewModelForm)a.OnCommandResults&&a.OnCommandResults(a,b,c),a.disable_ctrls_timer?(clearTimeout(a.disable_ctrls_timer),delete a.disable_ctrls_timer):a.DisableOnCommand&&a.EnableControls();return!0}
function ngvmf_OnCommandFinished(a,b,c){if(a=a.ViewModelForm)a.ShowLoading(!1),a.OnCommandFinished&&a.OnCommandFinished(a,b,c);return!0}function ngvmf_OnShowErrors(a,b,c){(a=a.ViewModelForm)&&a.ShowErrors(c);return!1}function ngvmf_FindFieldControl(a,b,c,d){a=this.FindFieldControls(a,b,c,d);return 0<a.length?a[0]:null}
function ngvmf_FindFieldControls(a,b,c,d){function e(g){if(ng_typeObject(g.ChildControls))for(var n,x,w=0;w<g.ChildControls.length;w++)if((n=g.ChildControls[w])&&(!b||n.Visible)){if(n.DataBindings)for(var y in n.DataBindings)if(!c||"undefined"!==typeof c[y])if(x=n.DataBindings[y],ng_typeObject(x)&&x.ValueAccessor&&(x=x.ValueAccessor())&&x.FieldDef&&x.FieldDef.ID==a&&ngVal(x.FieldDef.Parent,null)===d){k.push(n);break}e(n)}}b=ngVal(b,!0);c=ngVal(c,this.DefaultFindFieldControlsBindings);d=ngVal(d,null);
if(this.OnFindFieldControls){var g=this.OnFindFieldControls(this,a,b,c,d);if(ng_IsArrayVar(g))return g}var k=[];if(c){for(var g={},n=0;n<c.length;n++)g[c[n]]=!0;c=g}e(this);return k}
function ngvmf_ResetErrors(){function a(b){if(!ng_typeObject(b.ChildControls))return!1;for(var c,d=0;d<b.ChildControls.length;d++)c=b.ChildControls[d],!c||ng_typeObject(c.DataBindings)&&c.DataBindings.Error||("function"===typeof c.SetErrorState?c.SetErrorState(!1):(c.ErrorMessage="","function"===typeof c.SetInvalid&&c.SetInvalid(!1)),a(c));return!1}if(!this.OnResetErrors||ngVal(this.OnResetErrors(this),!1))this.ErrorHint&&this.ErrorHint.SetVisible(!1),a(this)}var ngvmf_active_errorhints=[];
function ngvmf_HideErrorHintEvent(a){if(a=ngvmf_active_errorhints)for(var b=a.length-1;0<=b;b--)a[b].SetVisible(!1);return!0}function ngvmf_ErrorHintVisibleChanged(a){for(var b=ngvmf_active_errorhints,c=0;c<b.length;c++)if(b[c]==a){if(a.Visible)return;b.splice(c,1);return}a.Visible&&b.push(a)}function ngvmf_FocusControl(a){a&&(this.OnSetControlFocus?this.OnSetControlFocus(this,a):(a.SetFocus(!1),a.SetFocus()))}
function ngvmf_ShowControlError(a,b,c){if(a){if(!1===b||null===b)b="";b=ng_typeString(b)?b:ng_ViewModelFormatError(b);a.ErrorMessage=b;if(!this.OnSetControlError||ngVal(this.OnSetControlError(this,a,b,c),!1))("function"===typeof a.SetErrorState?a.SetErrorState(""!=b):"function"===typeof a.SetInvalid&&a.SetInvalid(""!=b),""===b)?this.HideControlError(a):ngVal(c,!1)&&("function"!==typeof a.SetErrorState&&(c=this.GetErrorHint())&&(ng_isEmpty(a.HintX)&&(a.HintX=0),"function"===typeof c.SetText&&c.SetText(b),
c.ErrorControl=a,c.ErrorMessage=b,c.PopupCtrl(a),ngvmf_hintevents_initialized||(document.onmousedown=ngAddEvent(ngvmf_HideErrorHintEvent,document.onmousedown),document.onkeydown=ngAddEvent(ngvmf_HideErrorHintEvent,document.onkeydown),ngvmf_hintevents_initialized=!0)),this.FocusControl(a))}}function ngvmf_HideControlError(a){var b=this.GetErrorHint();b&&(a&&a!==b.ErrorControl||b.SetVisible(!1))}
function ngvmf_ShowErrors(a){"undefined"===typeof a&&ng_typeObject(this.ViewModel)&&(a=this.ViewModel.IsValid());if(!ng_typeObject(a))return!1;for(var b in a){if(this.OnShowErrors)this.OnShowErrors(this,ng_ViewModelFormatError(a),a);else{var c=function(a){if(ng_typeObject(a))if(a instanceof ngFieldDefException){var b;if(ngIsFieldDef(a.FieldDef)){var k=function(a){var b=0;if(ng_typeObject(a.ChildErrors)){var c,e;for(e in a.ChildErrors){c=a.ChildErrors[e];if(c instanceof ngFieldDefException){var r=
k(c);r>b&&(b=r)}if(ngIsFieldDef(c.FieldDef)&&(r=d.FindFieldControls(c.FieldDef.ID,!1,void 0,a.FieldDef),0<r.length)){n=!0;for(var u=0;u<r.length;u++)g.push({Control:r[u],Err:c,Level:b})}}b++}return b},n=!1;b=k(a);var u=d.FindFieldControls(a.FieldDef.ID,!1);if(0<u.length)for(var n=!0,x=0;x<u.length;x++)g.push({Control:u[x],Err:a,Level:b});if(n)return;r=ng_Trim(a.FieldDef.GetDisplayName());0<r.length&&(r=":"!=r.charAt(r.length-1)?r+": ":r+" ");b=ng_ViewModelFormatError(a)}else b=ng_ViewModelFormatError(a),
r=ng_typeString(a.FieldDef)?a.FieldDef+": ":"";ng_typeString(b)&&""!==b&&(a=r+b,ng_inArray(a,e)||e.push(a));if(ng_typeObject(b))for(x in b)a=r+b[x],ng_inArray(a,e)||e.push(a)}else for(b in a)a[b]instanceof ngFieldDefException&&c(a[b])},d=this,e=[],g=[];c(a);if(0<g.length){var k=function(a){if(!ng_typeObject(a.ChildControls))return!1;for(var b,c=0;c<a.ChildControls.length;c++)if((b=a.ChildControls[c])&&b.Visible){for(var d=0;d<g.length;d++)if(b===g[d].Control){for(var e=b.ParentControl;e&&e.Visible;)e=
e.ParentControl;if(!e&&(n[g[d].Level]=d,!g[d].Level))return!0}if(k(b))return!0}return!1},n=[];k(this);if(!n.length&&(b=!1,this.OnSetControlVisible&&ngVal(this.OnSetControlVisible(this,g[0].Control),!1)&&(k(this),b=!0),!b)){var r;for(b=0;b<g.length;b++){a=g[b].Err;r=ng_Trim(a.FieldDef.GetDisplayName());0<r.length&&(r=":"!=r.charAt(r.length-1)?r+": ":r+" ");var u=ng_ViewModelFormatError(a);ng_typeString(u)&&""!==u&&(a=r+u,ng_inArray(a,e)||e.push(a));if(ng_typeObject(u))for(var x in u)a=r+u[x],ng_inArray(a,
e)||e.push(a)}}b=-1;for(x=0;x<n.length;x++)if("undefined"!==typeof n[x]){b=n[x];break}for(x=0;x<g.length;x++)x!=b&&this.ShowControlError(g[x].Control,g[x].Err);0<=b&&this.ShowControlError(g[b].Control,g[b].Err,!0)}0<e.length&&(e=e.join("\n"),this.OnShowErrorMsg?d.OnShowErrorMsg(this,e):alert(e))}return!0}return!1}
function ngvmf_SetViewModel(a){ng_typeString(a)&&(a=getViewModelById(a));if(!a||!a.ViewModelForm){var b=this.ViewModel;ng_typeObject(b)&&("function"===typeof b.RemoveEvent&&(b.RemoveEvent("OnShowErrors",ngvmf_OnShowErrors),b.RemoveEvent("OnCommand",ngvmf_OnCommand),b.RemoveEvent("OnCommandRequest",ngvmf_OnCommandRequest),b.RemoveEvent("OnCommandResults",ngvmf_OnCommandResults),b.RemoveEvent("OnCommandFinished",ngvmf_OnCommandFinished),b.RemoveEvent("OnCommandCancel",ngvmf_OnCommandCancel)),delete b.ViewModelForm);
this.ViewModel=a;ng_typeObject(a)&&(a.ViewModelForm=this,"function"===typeof a.AddEvent&&(a.AddEvent("OnShowErrors",ngvmf_OnShowErrors),a.AddEvent(ngvmf_OnCommand,"OnCommand"),a.AddEvent("OnCommandRequest",ngvmf_OnCommandRequest),a.AddEvent("OnCommandResults",ngvmf_OnCommandResults),a.AddEvent("OnCommandFinished",ngvmf_OnCommandFinished),a.AddEvent("OnCommandCancel",ngvmf_OnCommandCancel)));this.OnSetViewModel&&this.OnSetViewModel(this,a,b)}}
function ngvmf_ShowLoading(a){a&&this.OnShowLoading?this.OnShowLoading(this):!a&&this.OnHideLoading?this.OnHideLoading(this):ng_typeObject(this.Controls)&&"object"===typeof this.Controls.Loading&&"function"===typeof this.Controls.Loading.SetVisible&&this.Controls.Loading.SetVisible(a)}
function ngvmf_GetErrorHint(){if(!this.ErrorHint){var a=ngCreateControls({ErrorHint:this.ErrorHintDef},void 0,ngApp?ngApp.TopElm():void 0);if(this.ErrorHint=ngVal(a.ErrorHint,null))ngAddChildControl(this,this.ErrorHint),this.ErrorHint.AddEvent(ngvmf_ErrorHintVisibleChanged,"OnVisibleChanged")}return this.ErrorHint}
function Create_ngViewModelForm(a,b,c){ng_MergeDef(a,{ParentReferences:!1,ErrorHint:{Type:"ngTextHint",ParentReferences:!1,Data:{IsPopup:!0}}});b=ngCreateControlAsType(a,"ngFrame",b,c);if(!b)return b;a.OnCreated=ngAddEvent(a.OnCreated,function(b,c){"undefined"===typeof b.FormID&&(b.FormID=b.ID);var g=null;"undefined"===typeof a.ViewModel&&b.Controls&&b.Controls.ViewModel&&(g=b.Controls.ViewModel);ng_typeObject(g)||(g=ng_FindViewModel(a,b));ng_typeObject(g)&&b.SetViewModel(g)});b.disablectrlscnt=0;
b.DefaultFindFieldControlsBindings="Data Value Checked Selected Lookup Error Link".split(" ");b.ErrorHintDef=a.ErrorHint;b.ErrorHint=null;b.DisableOnCommand=!0;b.ChildHandling=1;b.DoDispose=ngvmf_DoDispose;b.DoSetChildEnabled=ngvmf_DoSetChildEnabled;b.GetErrorHint=ngvmf_GetErrorHint;b.DisableControls=ngvmf_DisableControls;b.EnableControls=ngvmf_EnableControls;b.EnableControl=ngvmf_EnableControl;b.ShowControl=ngvmf_ShowControl;b.FindFieldControl=ngvmf_FindFieldControl;b.FindFieldControls=ngvmf_FindFieldControls;
b.FocusControl=ngvmf_FocusControl;b.ShowControlError=ngvmf_ShowControlError;b.HideControlError=ngvmf_HideControlError;b.SetViewModel=ngvmf_SetViewModel;b.ResetErrors=ngvmf_ResetErrors;b.ShowErrors=ngvmf_ShowErrors;b.ShowLoading=ngvmf_ShowLoading;b.OnSetViewModel=null;b.OnResetErrors=null;b.OnShowErrors=null;b.OnFindFieldControls=null;b.OnSetControlError=null;b.OnSetControlVisible=null;b.OnSetControlFocus=null;b.OnShowLoading=null;b.OnHideLoading=null;b.OnShowErrorMsg=null;b.OnCommand=null;b.OnCommandRequest=
null;b.OnCommandResults=null;b.OnCommandFinished=null;b.OnCommandCancel=null;return b}function ngve_GetFieldDefs(){var a=[];if(this.DataBindings)for(var b,c=0;c<this.ErrorBindings.length;c++)b=this.DataBindings[this.ErrorBindings[c]],ng_typeObject(b)&&(b=b.ValueAccessor())&&ng_typeObject(b.FieldDef)&&a.push(b.FieldDef);return a}
function ngve_Validate(){for(var a,b,c,d={},e=this.GetFieldDefs(),g=0;g<e.length;g++)b=e[g],a=b.Validate(b.Value()),!0!==a&&(c=ng_isEmpty(c)?a:null,d[b.ID]=a);return ng_isEmpty(c)?!0:null!==c?c:d}
function ngve_GetErrorHint(){if(!this.ErrorHint){var a=ngCreateControls({ErrorHint:this.ErrorHintDef},void 0,ngApp?ngApp.TopElm():void 0);if(this.ErrorHint=ngVal(a.ErrorHint,null)){var b=this;this.ErrorHint.AddEvent("OnIsInsidePopup",function(a,d,e,g){return ngGetControlByElement(d)===b});ngAddChildControl(this,this.ErrorHint)}}return this.ErrorHint}
function ngve_ShowErrorHint(a){a=ngVal(a,this.ErrorMessage);if(ng_EmptyVar(a))this.HideErrorHint(),this.ErrorMessage="";else if(this.ErrorMessage=a,this.SetErrorState(!0),!this.OnShowErrorHint||ngVal(this.OnShowErrorHint(this,a),!1)){var b=this.GetErrorHint();b&&("function"===typeof b.SetText&&(ng_IsArrayVar(a)&&(a=a.join("<br/>")),b.SetText(a)),b.PopupCtrl(this))}}
function ngve_HideErrorHint(){(!this.OnHideErrorHint||ngVal(this.OnHideErrorHint(this),!1))&&this.ErrorHint&&this.ErrorHint.SetVisible(!1)}function ngve_SetErrorState(a){this.ErrorState==a||this.OnSetErrorState&&!ngVal(this.OnSetErrorState(this,a),!1)||(this.ErrorState=a,a||(this.HideErrorHint(),this.ErrorMessage=""),"function"===typeof this.SetInvalid&&this.SetInvalid(a?!0:!1))}function ngve_SetEditText(a){this.__setEditText=!0;try{this.SetText(a)}finally{delete this.__setEditText}}
function Create_EditField(a,b,c,d){var e=ngCreateControlAsType(a,ngVal(d,"ngEdit"),b,c);if(!e)return e;ng_MergeDef(a.ErrorHint,{Type:"ngTextHint",ParentReferences:!1,Data:{IsPopup:!0}});e.ErrorHintDef=a.ErrorHint;e.ErrorHint=null;e.ErrorMessage="";e.ErrorState=!1;e.ErrorBindings=["Value","Lookup"];e.GetFieldDefs=ngve_GetFieldDefs;e.GetErrorHint=ngve_GetErrorHint;e.ShowErrorHint=ngve_ShowErrorHint;e.HideErrorHint=ngve_HideErrorHint;e.SetErrorState=ngve_SetErrorState;e.Validate=ngve_Validate;e.OnSetErrorState=
null;e.OnShowErrorHint=null;e.OnHideErrorHint=null;e.__ddlfDropDown=e.DropDown;e.__ddlfDoMouseDown=e.DoMouseDown;e.DoMouseDown=function(a){!e.HasFocus&&e.ErrorState||e.__ddlfDoMouseDown(a)};e.DropDown=function(){e.__ignoreerror=!0;try{var a=e.__ddlfDropDown()}finally{delete e.__ignoreerror}return a};e.SetEditText=ngve_SetEditText;a.OnCreated=ngAddEvent(a.OnCreated,function(a,b){a.AddEvent("OnFocus",function(a){if(a.ErrorState)if(ng_EmptyVar(a.ErrorMessage)){var b=a.Validate();!0!==b?a.ShowErrorHint(ng_ViewModelFormatError(b)):
a.SetErrorState(!1)}else a.ShowErrorHint();return!0});a.AddEvent("OnBlur",function(a){ng_EmptyVar(a.ErrorMessage)&&!a.__ignoreerror&&!0!==a.Validate()&&a.SetErrorState(!0);a.HideErrorHint();return!0});a.AddEvent("OnTextChanged",function(a,b){this.__setEditText||a.SetErrorState(!1)})});return e}"undefined"===typeof ngUserControls&&(ngUserControls={});
ngUserControls.viewmodel_ui={Lib:"ng_controls",ControlsGroup:"Core",OnInit:function(){function a(a,b,c){"function"===typeof a.SetText&&ngCtrlBindingRead("Text",a,b,function(d){d=ngCtrlBindingFormatString(b,d);c&&(d=ngTxt(d));a.SetText(d)})}function b(a,b,c,d){"function"===typeof a.SetText&&a.AddEvent(function(d){d=ngCtrlBindingParseString(b,d);ngCtrlBindingWrite("Text",d,a,b,c)},"SetText")}function c(a,b,c,d){if("undefined"!==typeof b[a]){var e=ng_toString(ko.utils.unwrapObservable(c()));c=ngCtrlBindingFormatString(c,
e);d&&(c=ngTxt(c));c!=b[a]&&(b[a]=c,b.Update())}}function d(a){return"function"===typeof a.HideSubMenu}function e(a){if("object"===typeof a){var b={},c;for(c in a)b[a[c]]=!0;return b}}function g(a,b,c,d){if(ng_typeObject(c)){var e={},g={};"function"===typeof window.ngOnVMPrepareListItemMapping&&(c=ng_CopyVar(c),window.ngOnVMPrepareListItemMapping(a,c,d));for(var k in c)(a=c[k])&&""!=a&&(!0===a&&(a=k),e[k]=a,g[a]=k);b.ItemMapping=e;b.RevItemMapping=g}}function k(a,b,c){for(var d=a.length-1;0<=d;d--)if(ng_VarEquals(a[d],
b))return!1;c?a.push(ng_CopyVar(b)):a.push(b);return!0}function n(a,b,c){for(var d=!1,e=a.length-1;0<=e;e--)if(ng_VarEquals(a[e],b)&&(a.splice(e,1),d=!0,c))return!0;return d}function r(a,b){var c,d,e,g=!1;for(c=0;c<a.length;c++){e=!1;for(d=b.length-1;0<=d;d--)ng_VarEquals(a[c],b[d])&&(b.splice(d,1),e=!0);e||(a.splice(c,1),c--,g=!0)}for(d=0;d<b.length;d++)a.push(ng_CopyVar(b[d])),g=!0;return g}function u(a,b,c,e){if("undefined"===typeof b||null===b)return b;var g=b;b=ko.ng_unwrapobservable(g);if(!ng_typeObject(b)||
ng_typeDate(b))return"undefined"!==typeof c.SimpleArrayItemColumnID?(a={Text:{},_vmSimpleArrayItem:!0},a.Text[c.SimpleArrayItemColumnID]=b,a):{Text:b,_vmSimpleArrayItem:!0};if(c.RevItemMapping){var k,n={},r;for(r in b)(k=c.RevItemMapping[r])&&(n[k]=b[r]);b=n}k=d(a);var n=ko.isWriteableObservable(g),w,x;"undefined"!==typeof b.Items&&(w=b.Items,b.Items=null);k&&"undefined"!==typeof b.SubMenu&&(x=b.SubMenu,b.SubMenu=null);g=ko.ng_getvalue(b);w&&(b.Items=w);x&&(b.SubMenu=x);b===g?g=ng_CopyVar(b):n&&(ko.isObservable(b.Checked)&&
(g._vmChecked=b.Checked),ko.isObservable(b.Collapsed)&&(g._vmCollapsed=b.Collapsed));if(!1!==e){ko.isObservable(w)&&(w=w());if(ng_IsArrayVar(w))for(r in g.Items=[],w)g.Items[r]=u(a,w[r],c);else delete g.Items;if(k)if(ko.isObservable(x)&&(x=x()),ng_IsArrayVar(x))for(r in g.SubMenu=[],x)g.SubMenu[r]=u(a,x[r],c);else delete g.SubMenu}else b!==g&&(w&&(g.Items=w),x&&(g.SubMenu=x));return g}function x(a,b,c,e,g){var k=ko.ng_unwrapobservable(b);if(k!==b&&!ko.isWriteableObservable(b))return b;if(!ng_typeObject(k)){if(e.SimpleArray||
c._vmSimpleArrayItem)c="undefined"!==typeof e.SimpleArrayItemColumnID?c.Text[e.SimpleArrayItemColumnID]:c.Text;if(k!==b)return b(c),b;if(!ng_typeObject(c))return c;k!==b?k={}:b=k={}}var n=d(a),r,u,w;e.ItemMapping?(r=e.ItemMapping.Items,n&&(u=e.ItemMapping.SubMenu)):(r="Items",n&&(u="SubMenu"));var x={};r&&(x[r]=!0);n&&u&&(x[u]=!0);b!==k&&"function"===typeof b.valueWillMutate&&b.valueWillMutate();for(var y in c)switch(y){case "Items":case "Parent":case "Controls":case "ControlsHolder":case "_byRef":case "_vmChecked":case "_vmCollapsed":case "_vmSimpleArrayItem":break;
case "OnClick":if(n&&c.OnClick===ngmn_OnClick)break;case "SubMenu":if(n)break;default:if(e.ItemMapping){if(w=e.ItemMapping[y],!w)break}else w=y;x[w]=!0;k[w]=ko.ng_setvalue(k[w],c[y])}var A={};for(y in k)if(!x[y]&&!ko.isObservable(k[y])){if(ng_typeObject(k[y])&&!ng_typeDate(k[y])&&(w=ko.ng_getvalue(k[y]),w!==k[y]))continue;A[y]=!0}for(y in A)delete k[y];w=c.Items;x=r?k[r]:null;ng_IsArrayVar(w)?ko.isObservable(x)?ko.isWriteableObservable(x)&&(A=x(),r=!0,ng_IsArrayVar(A)||(A=[],r=!1),"function"===typeof x.valueWillMutate&&
x.valueWillMutate(),g(A,w,a),r&&"function"===typeof x.valueHasMutated?x.valueHasMutated():x(A)):(ng_IsArrayVar(x)||(x=[],k[r]=x),g(x,w,a)):ko.isObservable(x)?ko.isWriteableObservable(x)&&x(void 0):delete k[r];n&&(a=c.SubMenu&&d(c.SubMenu)?c.SubMenu.Items:null,n=u?k[u]:null,ng_IsArrayVar(a)?ko.isObservable(n)?ko.isWriteableObservable(n)&&(u=n(),r=!0,ng_IsArrayVar(u)||(u=[],r=!1),"function"===typeof n.valueWillMutate&&n.valueWillMutate(),g(u,a,c.SubMenu),r&&"function"===typeof n.valueHasMutated?n.valueHasMutated():
n(u)):(ng_IsArrayVar(n)||(n=[],k[u]=n),g(n,a,c.SubMenu)):ko.isObservable(n)?ko.isWriteableObservable(n)&&n(void 0):delete k[u]);if(e.ItemMapping){c={};g={};for(y in b)if(w=e.ItemMapping[y])c[w]=b[y],g[y]=!0;for(y in g)delete b[y];for(y in c)b[y]=c[y]}b!==k&&("function"===typeof b.valueHasMutated?b.valueHasMutated():b(k));return b}function w(a,b,c){b._VMChangesRegistered||(b._VMChangesRegistered=!0,b.AddEvent(function(){if(a.need_vmupdate&&1>=a.update_cnt){var b=a.update_cnt;a.update_cnt=0;try{a.UpdateVMValues()}finally{a.update_cnt=
b}}},"EndUpdate"),b.AddEvent(function(b,c){a.UpdateVMValues()},"OnItemsChanged"),a===b&&c||(b.AddEvent(function(b,c){a._vmdispose||c._vmSimpleArrayItem||(ko.isObservable(c._vmCollapsed)?ko.isWriteableObservable(c._vmCollapsed)&&ngCtrlBindingLock("Value",a,function(){c._vmCollapsed(!0)}):a.UpdateVMValues())},"OnCollapsed"),b.AddEvent(function(b,c){a._vmdispose||c._vmSimpleArrayItem||(ko.isObservable(c._vmCollapsed)?ko.isWriteableObservable(c._vmCollapsed)&&ngCtrlBindingLock("Value",a,function(){c._vmCollapsed(!1)}):
a.UpdateVMValues())},"OnExpanded"),b.AddEvent(function(b,c){if(!(ngCtrlBindingIsLocked("Value",a)||ngCtrlBindingIsLocked("Checked",a)||a._vmdispose)){if(a.DataBindings&&a.DataBindings.Checked){var d=a.DataBindings.Checked.ValueAccessor();if(""!=a.CheckedKeyField&&d){var e=d();if(ng_IsArrayVar(e)){var g=vmGetFieldValueByID(c,a.CheckedKeyField);"undefined"!==typeof g&&(c.Checked?k(e,g,!0):n(e,g))&&(z(a,e),d(e))}}}c._vmSimpleArrayItem||(ko.isObservable(c._vmChecked)?ko.isWriteableObservable(c._vmChecked)&&
ngCtrlBindingLock("Value",a,function(){c._vmChecked(c.Checked)}):a.UpdateVMValues())}},"OnItemCheckChanged")))}function y(a,b,c){if("function"===typeof window.ngOnVMCompareListItemProps){var d=window.ngOnVMCompareListItemProps(a,b,c);if("undefined"!==typeof d)return d}if(a._vmSimpleArrayItem&&b._vmSimpleArrayItem)return"undefined"!==typeof c.SimpleArrayItemColumnID?"object"!==typeof a.Text||"object"!==typeof b.Text?!1:a.Text[c.SimpleArrayItemColumnID]==b.Text[c.SimpleArrayItemColumnID]:a.Text==b.Text;
if(a._vmSimpleArrayItem||b._vmSimpleArrayItem)return!1;if("undefined"!==typeof c.KeyField){if(!a||!b)return!1;var d=vmGetFieldValueByID(a,c.KeyField),e=vmGetFieldValueByID(b,c.KeyField);if("undefined"!==typeof d&&"undefined"!==typeof e)return ng_VarEquals(d,e);if("undefined"!==typeof d||"undefined"!==typeof e)return!1}if("undefined"!==typeof c.CompareKeys)d=c.CompareKeys;else{d={};e=window.ngVMIgnoredPropsInCompareListItems;if("object"===typeof e&&e){for(var g in a)e[g]||(d[g]=!0);for(g in b)e[g]||
(d[g]=!0)}c.CompareInfo&&c.CompareInfo.IsMenu&&(delete d.SubMenu,(a.OnClick===ngmn_OnClick&&"undefined"===typeof b.OnClick||b.OnClick===ngmn_OnClick&&"undefined"===typeof a.OnClick)&&delete d.OnClick)}c=a._byRef;e=b._byRef;for(g in d)if(!ng_VarEquals(a[g],b[g],c&&c[g]||e&&e[g]))return!1;return!0}function A(a,b,c){var k="ngToolBar"===a.CtrlType&&a.CtrlInheritsFrom("ngMenuBar");if("ngList"===a.CtrlType||k){var n=function(b,c,e,g){var r=d(g);B.CompareInfo={List:g,IsMenu:r};var u=ng_GetArraysEditScript(c,
b,A);delete B.CompareInfo;if(u)for(var x=0,y=0;x<u.length;x++)switch(u[x].status){case 0:var z=c[y],H=b[y],C;for(C in H)D[C]||(z[C]=H[C]);g.need_update=!0;if(a!==g||!k){"undefined"!==typeof H.Checked&&z.Checked!==H.Checked&&g.CheckItem(z,H.Checked);if(B.Checked&&z.Checked){var G=vmGetFieldValueByID(H,B.CheckedKeyField);"undefined"!==typeof G&&B.Checked.push(G)}"undefined"!==typeof H.Collapsed&&z.Collapsed!==H.Collapsed&&(H.Collapsed?g.Collapse(z):g.Expand(z))}G=H.Items;ng_IsArrayVar(G)?n(G,z.Items,
z,g):a===g&&k||g.Clear(z);r&&(H=H.SubMenu,ng_IsArrayVar(H)&&!z.SubMenu&&"function"===typeof g.CreateSubMenu&&(g.CreateSubMenu(z),z.SubMenu&&w(a,z.SubMenu,k)),z.SubMenu?d(z.SubMenu)&&n(H,z.SubMenu.Items,z.SubMenu,z.SubMenu):a===g&&k||z.SubMenu&&"function"===typeof z.SubMenu.Dispose&&z.SubMenu.Dispose());y++;break;case 2:a===g&&k?g.DeleteItem(y):(a===g&&(z=u[x].value,K&&"undefined"!==typeof Q&&ng_VarEquals(vmGetFieldValueByID(z,K),Q)&&(E.ListItem={},vmSetFieldValueByID(E.ListItem,K,Q),E.SetText(""))),
g.Delete(y,e));break;case 1:z=u[x].value,ng_typeObject(z)||(z={}),a===g&&k?g.InsertItem(y,z):(g.Insert(y,z,e),B.Checked&&z.Checked&&(G=vmGetFieldValueByID(z,B.CheckedKeyField),"undefined"!==typeof G&&B.Checked.push(G)),a===g&&K&&"undefined"!==typeof Q&&ng_VarEquals(vmGetFieldValueByID(z,K),Q)&&a.SelectDropDownItem(z)),r&&(z.SubMenu&&w(a,z.SubMenu,k),g.ScanMenu(function(b,c,d,e){c.SubMenu&&w(a,c.SubMenu,k);return!0},!0,z)),y++}},x=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=u(c,a[e],B);n(d,
b,c,c)},A=function(a,b){return y(a,b,B)},z=function(a,b){for(var c=d(b),e=0;e<a.length;e++){var g=u(b,a[e],B);ng_IsArrayVar(g.Items)&&z(g.Items,b);c&&ng_IsArrayVar(g.SubMenu)&&z(g.SubMenu,b)}};if(!a._vmdispose){var B={},C=c();B.KeyField=C.KeyField;B.CompareKeys=e(C.ItemMatchingProps);ng_IsArrayVar(a.Columns)&&0<a.Columns.length&&(B.SimpleArrayItemColumnID=C.SimpleArrayItemColumnID,"undefined"===typeof B.SimpleArrayItemColumnID&&(B.SimpleArrayItemColumnID=a.Columns[0].ID));g(a,B,C.ItemMapping,c);var D=
window.ngVMIgnoredPropsInCompareListItems;ng_typeObject(D)||(D={});a.DataBindings.Checked&&(B.CheckedKeyField=ngVal(a.CheckedKeyField,B.KeyField),"undefined"===typeof B.CheckedKeyField&&(B.CheckedKeyField="Value"),B.Checked=[],"undefined"===typeof B.KeyField&&(B.KeyField=B.CheckedKeyField));a.DataBindings.Selected&&"undefined"===typeof B.KeyField&&(B.KeyField=ngVal(a.SelectKeyField,"Value"));if(ngCtrlBindingIsLocked("Value",a))z(ko.ng_unwrapobservable(b()),a);else{var E=k?null:a.DropDownOwner;if(E){var Q,
K=ngVal(E.LookupKeyField,"Value");E.ListItem&&(Q=vmGetFieldValueByID(E.ListItem,K))}ngCtrlBindingLock("Value",a,function(){a.need_vmupdate=!1;a.binding_update_timer&&clearTimeout(a.binding_update_timer);a.binding_update_timer=null;if(!k){var c;a.DataBindings.Selected&&(c=a.DataBindings.Selected.ValueAccessor())&&"function"===typeof c.valueWillMutate&&c.valueWillMutate()}var d=ko.ng_unwrapobservable(b());a.BeginUpdate();try{ng_IsArrayVar(d)?x(d,a.Items,a):(k?a.ClearItems():a.Clear(),!k&&K&&"undefined"!==
typeof Q&&(E.ListItem={},vmSetFieldValueByID(E.ListItem,K,Q),E.SetText("")))}finally{d=!1,1==a.update_cnt&&a.need_update&&(a.need_update=!1,d=!0),a.EndUpdate(),d&&(a.need_update=!0,a.UpdateLater())}k||ko.dependencyDetection.ignore(function(){if(a.DataBindings.Checked){var b=a.DataBindings.Checked.ValueAccessor();if(B.Checked&&b){var d=b();r(d,B.Checked)&&b(d)}}c&&("function"===typeof c.valueHasMutated?c.valueHasMutated():c(c()))})})}}}else switch(a.CtrlType){case "ngButton":case "ngSysAction":ngCtrlBindingRead("Value",
a,b,function(b){var c=ng_toNumber(b);if(isNaN(c)||0!=c&&1!=c&&2!=c)c=ng_toBool(b)?1:0;a.Check(c)});break;case "ngPages":ngCtrlBindingRead("Value",a,b,function(b){ng_IsArrayVar(b)&&1==b.length&&(b=b[0]);a.SetPage(b)});break;case "ngWebBrowser":ngCtrlBindingRead("Value",a,b,function(c){c=ngCtrlBindingFormatString(b,c);a.SetURL(ng_formatWWW(c,c))});break;case "ngProgressBar":ngCtrlBindingRead("Value",a,b,function(b){a.SetPosition(ng_toInteger(b,0))});break;case "ngCalendar":ngCtrlBindingRead("Value",
a,b,function(b){a.SetSelected(ng_toDate(b))});break;default:"function"===typeof a.SetText&&ngCtrlBindingRead("Value",a,b,function(c){a.SetText(ngCtrlBindingFormatString(b,c))})}}function z(a,b){var c=ngVal(a.CheckedKeyField,"Value");if(!ng_isEmpty(b)&&!ng_typeArray(b)){var d=[];d.push(b);b=d}a.BeginUpdate();var e=!1,g=ng_isEmpty(b);try{a.Scan(function(a,d,k,n){n=vmGetFieldValueByID(d,c);if("undefined"===typeof n)k=ngVal(d.Checked,0);else if(k=0,!g)for(var r=0;r<b.length;r++)if(ng_VarEquals(n,b[r])){k=
1;break}ngVal(d.Checked,0)==k||k&&2==d.Checked||(a.CheckItem(d,k),e=!0);return!0})}finally{a.EndUpdate()}return e}function B(a,b){a=ko.ng_getvalue(a);if(b){var c=[];if(ng_IsArrayVar(a))for(var d=0;d<a.length;d++)c[d]={Record:a[d]};a=c}return a}function D(a,b){ng_typeObject(b)&&(ko.isObservable(b.Records)&&!b.Records.PagingBindingRegistered&&(b.Records.PagingBindingRegistered=!0,b.Records.subscribe(function(c){if(!b.Records.PagingChanging){c=B(c,a.CtrlInheritsFrom("ngDataSet"));var d=ko.ng_getvalue(b.Offset),
e=setTimeout(function(){clearTimeout(e);a.SetAsyncData(d,c)},1)}})),ko.isObservable(b.TotalCount)&&!b.TotalCount.PagingBindingRegistered&&(b.TotalCount.PagingBindingRegistered=!0,b.TotalCount.subscribe(function(c){if(!b.TotalCount.PagingChanging)var d=setTimeout(function(){clearTimeout(d);if(ng_typeNumber(c)){if(!c){a.Reset(!0);return}a.SetLength(c)}a.SetAsyncData(999999999,null)},1)})))}function C(a,b,c){b=ng_toString(ko.utils.unwrapObservable(b()));for(var d=a.ParentControl;d;){if("function"===
typeof d.ShowControlError){d.ShowControlError(a,b,c);return}d=d.ParentControl}if(!1===b||null===b)b="";a.ErrorMessage=b;c=""!==b;"function"===typeof a.SetErrorState?a.SetErrorState(c):"function"===typeof a.SetInvalid&&a.SetInvalid(c)}ngRegisterControlType("ngViewModelForm",function(a,b,c){return Create_ngViewModelForm(a,b,c)});ngRegisterControlType("ngEditField",function(a,b,c){return Create_EditField(a,b,c)});ngRegisterControlType("ngEditNumField",function(a,b,c){a=Create_EditField(a,b,c,"ngEditNum");
if(!a)return a;a.AddEvent("OnGetNum",function(a){var b=a.GetText(),c=a.DataBindings?a.DataBindings.Value:null;if(c)return ng_toNumber(ngCtrlBindingParseString(c.ValueAccessor,b));b=parseInt(b);if(!isNaN(b))return"undefined"!==typeof a.MinNum&&b<a.MinNum&&(b=a.MinNum),"undefined"!==typeof a.MaxNum&&b>a.MaxNum&&(b=a.MaxNum),b});a.AddEvent("OnSetNum",function(a,b){"undefined"!==typeof a.MinNum&&b<a.MinNum&&(b=a.MinNum);"undefined"!==typeof a.MaxNum&&b>a.MaxNum&&(b=a.MaxNum);var c=a.DataBindings?a.DataBindings.Value:
null;if(c&&(c=c.ValueAccessor(),ko.isObservable(c)&&ko.isWriteableObservable(c))){c(b);return}a.SetText(""+b)});return a});ngUserControls.calendar&&(ngRegisterControlType("ngEditDateField",function(a,b,c){return Create_EditField(a,b,c,"ngEditDate")}),ngRegisterControlType("ngEditTimeField",function(a,b,c){return Create_EditField(a,b,c,"ngEditTime")}));ngRegisterControlType("ngDropDownField",function(a,b,c){return Create_EditField(a,b,c,"ngDropDown")});ngRegisterControlType("ngDropDownListField",function(a,
b,c){return Create_EditField(a,b,c,"ngDropDownList")});ngRegisterControlType("ngMemoField",function(a,b,c){return Create_EditField(a,b,c,"ngMemo")});ngRegisterBindingHandler("Text",function(b,c){a(b,c,!1)},b);ngRegisterBindingHandler("ngText",function(b,c){a(b,c,!0)},b);ngRegisterBindingHandler("Alt",function(a,b){c("Alt",a,b,!1)});ngRegisterBindingHandler("ngAlt",function(a,b){c("Alt",a,b,!0)});ngRegisterBindingHandler("Hint",function(a,b){c("Hint",a,b,!1)});ngRegisterBindingHandler("ngHint",function(a,
b){c("Hint",a,b,!0)});ngRegisterBindingHandler("ReadOnly",function(a,b){var c=ng_toBool(ko.utils.unwrapObservable(b()));"function"===typeof a.SetReadOnly?a.SetReadOnly(c):c!=ngVal(a.ReadOnly,!1)&&(a.ReadOnly=c,a.Update())});ngRegisterBindingHandler("Invalid",function(a,b){"function"===typeof a.SetInvalid&&ngCtrlBindingRead("Invalid",a,b,function(b){a.SetInvalid(ng_toBool(b))})},function(a,b,c,d){"function"===typeof a.SetInvalid&&a.AddEvent(function(d){ngCtrlBindingWrite("Invalid",d,a,b,c)},"SetInvalid")});
ngRegisterBindingHandler("Valid",function(a,b){"function"===typeof a.SetInvalid&&ngCtrlBindingRead("Invalid",a,b,function(b){a.SetInvalid(ng_toBool(b))})},function(a,b,c,d){"function"===typeof a.SetInvalid&&a.AddEvent(function(d){ngCtrlBindingWrite("Invalid",!d,a,b,c)},"SetInvalid")});ngRegisterBindingHandler("OnClick",null,function(a,b,c,d){a.AddEvent("OnClick",function(a){var c=b();ng_typeString(c)&&(c=d[c]);if(!c)return!0;var e=ko.utils.makeArray(arguments);e.unshift(d);return c.apply(d,e)})});
"undefined"===typeof window.ngVMIgnoredPropsInCompareListItems&&(window.ngVMIgnoredPropsInCompareListItems={});var E=window.ngVMIgnoredPropsInCompareListItems;E._byRef=!0;E.Items=!0;E.Parent=!0;E.Controls=!0;E.ControlsHolder=!0;E.Checked=!0;E.Collapsed=!0;E._vmChecked=!0;E._vmCollapsed=!0;ngRegisterBindingHandler("Value",A,function(a,b,c,k){var n="ngToolBar"===a.CtrlType&&a.CtrlInheritsFrom("ngMenuBar");if("ngList"===a.CtrlType||n){var r=function(){a._vmdispose||(a.binding_update_timer&&clearTimeout(a.binding_update_timer),
a.binding_update_timer=null,"undefined"===typeof L.KeyField&&(a.DataBindings.Checked&&(L.KeyField=ngVal(a.CheckedKeyField,"Value")),a.DataBindings.Selected&&(L.KeyField=ngVal(a.SelectKeyField,"Value"))),ngCtrlBindingLock("Value",a,function(){var c=b();if(c&&ko.isWriteableObservable(c)){var d=c.FieldDef;L.SimpleArray=ng_typeObject(d)&&ng_typeObject(d.ValueFieldDef)&&"OBJECT"!==d.ValueFieldDef.DataType;d=c();ng_IsArrayVar(d)?("function"===typeof c.valueWillMutate&&c.valueWillMutate(),z(d,a.Items,a),
"function"===typeof c.valueHasMutated?c.valueHasMutated():c(d)):(d=[],z(d,a.Items,a),c(d))}}))},z=function(a,b,c){for(var e=[],g=0;g<a.length;g++)e[g]=u(c,a[g],L,!1);var k=d(c);L.CompareInfo={List:c,IsMenu:k};e=ng_GetArraysEditScript(e,b,E);delete L.CompareInfo;if(e)for(var n=g=0;g<e.length;g++)switch(e[g].status){case 0:a[n]=x(c,a[n],b[n],L,z);k&&B(c,b[n]);n++;break;case 2:a.splice(n,1);break;case 1:a.splice(n,0,D(b[n],c)),k&&B(c,b[n]),n++}},B=function(b,c){c.SubMenu&&w(a,c.SubMenu,n);b.ScanMenu(function(b,
c,d,e){c.SubMenu&&w(a,c.SubMenu,n);return!0},!0,c)},C=function(a,b,c){for(var d=0;d<b.length;d++)a[d]=D(b[d],c)},D=function(b,c){var d={NewItem:L.SimpleArray?Q:{},BindInfo:L,Owner:a,List:c,ListItem:b};return a.OnCreateViewModelItem&&!ngVal(a.OnCreateViewModelItem(a,d),!1)?d.NewItem:x(c,d.NewItem,d.ListItem,L,C)},E=function(a,b){return y(a,b,L)},L={},Q;k=c();L.DelayedUpdate=ngVal(k.DelayedUpdate,10);L.KeyField=k.KeyField;L.CompareKeys=e(k.ItemMatchingProps);ng_IsArrayVar(a.Columns)&&0<a.Columns.length&&
(L.SimpleArrayItemColumnID=k.SimpleArrayItemColumnID,"undefined"===typeof L.SimpleArrayItemColumnID&&(L.SimpleArrayItemColumnID=a.Columns[0].ID));g(a,L,k.ItemMapping,c);ngBindingDeferUpdates("Value",c,!0);"function"!==typeof a.UpdateVMValues&&(a.UpdateVMValues=function(){ngCtrlBindingIsLocked("Value",a)||a._vmdispose||(0<a.update_cnt?a.need_vmupdate=!0:a._vmdispose||(a.need_vmupdate=!1,0>=L.DelayedUpdate?r():(a.binding_update_timer&&clearTimeout(a.binding_update_timer),a.binding_update_timer=setTimeout(r,
L.DelayedUpdate))))});a.need_vmupdate=!1;a.binding_update_timer=null;a.OnCreateViewModelItem=a.OnCreateViewModelItem||null;w(a,a,n);a.AddEvent(function(){a.binding_update_timer&&clearTimeout(a.binding_update_timer);a.binding_update_timer=null;return a._vmdispose=!0},"DoDispose")}else switch(a.CtrlType){case "ngEdit":if("function"===typeof a.DoUp&&a.CtrlInheritsFrom("ngEditNum")&&(a.OnGetText===ngedn_GetText&&delete a.OnGetText,(k=b())&&"undefined"!==typeof k.FieldDef)){var K=k.FieldDef;ng_isEmpty(K.MinValue)||
(k=parseInt(K.MinValue,10),isNaN(k)||(a.MinNum=k));ng_isEmpty(K.MaxValue)||(k=parseInt(K.MaxValue,10),isNaN(k)||(a.MaxNum=k));ng_isEmpty(K.DefaultValue)||(k=parseInt(K.DefaultValue,10),isNaN(k)||(a.DefaultNum=k));ng_isEmpty(K.Attrs.EditNumStep)||(k=parseInt(K.Attrs.EditNumStep,10),isNaN(k)||(a.Step=k));ng_isEmpty(K.Attrs.EditNumStepRound)||(a.StepRound=ng_toBool(K.Attrs.EditNumStepRound))}case "ngMemo":k=c();var U=ngVal(k.InstantUpdate,!1),T=ngVal(k.DelayedUpdate,500);a.AddEvent(function(a){a.binding_update_timer&&
(clearTimeout(a.binding_update_timer),a.binding_update_timer=null);if(U||!a.HasFocus){var d=ngCtrlBindingParseString(b,a.GetText());ngCtrlBindingWrite("Value",d,a,b,c)}else 0<T&&(a.binding_update_timer=setTimeout(function(){clearTimeout(a.binding_update_timer);a.binding_update_timer=null;if("function"===typeof a.GetText){var d=ngCtrlBindingParseString(b,a.GetText());ngCtrlBindingWrite("Value",d,a,b,c)}},T));return!0},"OnTextChanged");a.AddEvent(function(a){a.binding_update_timer&&(clearTimeout(a.binding_update_timer),
a.binding_update_timer=null);ngCtrlBindingRead("Value",a,b,function(c){if("function"===typeof a.SetText)var d=ngCtrlBindingEditString(b,c);"function"===typeof a.SetEditText?a.SetEditText(d):a.SetText(d)});return!0},"OnFocus");a.AddEvent(function(a){a.binding_update_timer&&clearTimeout(a.binding_update_timer);delete a.binding_update_timer;var d=ngCtrlBindingParseString(b,a.GetText());ngCtrlBindingWrite("Value",d,a,b,c)&&A(a,b);return!0},"OnBlur");break;case "ngPages":a.AddEvent(function(a,d){var e=
a.Page;if(0<=e&&e<a.Pages.length){var g=a.Pages[e];""!=ngVal(g.id,"")&&(e=g.id);ngCtrlBindingWrite("Value",e,a,b,c)&&A(a,b)}return!0},"OnPageChanged");break;case "ngButton":case "ngSysAction":a.AddEvent(function(a){ngCtrlBindingWrite("Value",ng_toNumber(a.Checked),a,b,c)&&A(a,b);return!0},"OnCheckChanged");break;case "ngProgressBar":a.AddEvent("SetPosition",function(d){ngCtrlBindingWrite("Value",d,a,b,c);return!0});break;case "ngWebBrowser":a.AddEvent("SetURL",function(d){d=ngCtrlBindingParseString(b,
d);ngCtrlBindingWrite("Value",d,a,b,c);return!0});break;case "ngCalendar":a.AddEvent(function(a){var d=a.GetSelected();a.SelectType==ngcalSelectSingle&&1==d.length&&(d=d[0]);ngCtrlBindingWrite("Value",d,a,b,c)&&A(a,b);return!0},"OnSelectChanged");break;case "ngFileUploader":a.AddEvent(function(a){ngCtrlBindingWrite(bindingKey,a.GetFiles(),a,b,c)},"OnFileAdded"),a.AddEvent(function(a){ngCtrlBindingWrite(bindingKey,a.GetFiles(),a,b,c)},"OnFileDeleted")}});ngRegisterBindingHandler("Lookup",function(a,
b,c,d){"ngEdit"===a.CtrlType&&ngCtrlBindingRead("Lookup",a,b,function(b){var c=a.DropDownControl;if(c){var d=null,e=ngVal(a.LookupKeyField,"Value");ng_isEmpty(b)||c.Scan(function(a,c,g,k){return ng_VarEquals(vmGetFieldValueByID(c,e),b)?(d=c,!1):!0});d?c.SelectDropDownItem(d):(a.ListItem={},vmSetFieldValueByID(a.ListItem,e,ng_CopyVar(b)),a.SetText(""))}})},function(a,b,c,d){"ngEdit"===a.CtrlType&&(a.LookupKeyField=ngVal(c().KeyField,"Value"),a.AddEvent(function(a,d,e,g){d=ngVal(a.LookupKeyField,"Value");
e=vmGetFieldValueByID(e,d);ng_isEmpty(e)||ngCtrlBindingWrite("Lookup",ng_CopyVar(e),a,b,c);return!0},"OnListItemChanged"),a.AddEvent(function(a,c){var d=b();if(d&&"undefined"!==typeof d.FieldDef&&ngVal(d.FieldDef.ReadOnly,!1))return!1;var e=ngVal(a.LookupKeyField,"Value"),d=a.DropDownControl,g=a.ListItem?vmGetFieldValueByID(a.ListItem,e):void 0;ng_isEmpty(g)||d.Scan(function(a,b,c,d){return ng_VarEquals(vmGetFieldValueByID(b,e),g)?(a.SelectDropDownItem(b),!1):!0});return!0},"OnDropDown"))});ngRegisterBindingHandler("Selected",
function(a,b,c,d){"ngList"===a.CtrlType&&ngCtrlBindingRead("Selected",a,b,function(b){var c=ngVal(a.SelectKeyField,"Value");a.selected={};if(!ng_isEmpty(b)){if(!ng_typeArray(b)){var d=[];d.push(b);b=d}a.Scan(function(a,d,e,g){for(e=0;e<b.length;e++)if(ng_VarEquals(vmGetFieldValueByID(d,c),b[e])){d=a.ItemId(d);""!=d&&(a.last_selected=d,a.selected[d]=!0);break}return!0})}a.SelectChanged()})},function(a,b,c,d){"ngList"===a.CtrlType&&(ngBindingDeferUpdates("Selected",c,!0),a.SelectKeyField=ngVal(c.get("KeyField"),
"Value"),a.AddEvent(function(d){ngCtrlBindingRead("Selected",a,b,function(e){var g=ngVal(a.SelectKeyField,"Value"),k=d.GetSelected(),n=[],u,w;for(w in k)u=vmGetFieldValueByID(k[w],g),"undefined"!==typeof u&&n.push(u);ng_IsArrayVar(e)||(e=[]);r(e,n)&&ngCtrlBindingWriteEx(e,b,c)});return!0},"OnSelectChanged"))});ngRegisterBindingHandler("Checked",function(a,b,c,d){switch(a.CtrlType){case "ngButton":case "ngSysAction":ngCtrlBindingRead("Checked",a,b,function(b){var c=ng_toNumber(b);if(isNaN(c)||0!=c&&
1!=c&&2!=c)c=ng_toBool(b)?1:0;a.Check(c)});break;case "ngList":ngCtrlBindingRead("Checked",a,b,function(b){z(a,b)&&"function"===typeof a.UpdateVMValues&&(ngCtrlBindingIsLocked("Value",a)||a.UpdateVMValues())})}},function(a,b,c,d){switch(a.CtrlType){case "ngButton":case "ngSysAction":a.AddEvent(function(a){ngCtrlBindingWrite("Checked",ng_toNumber(a.Checked),a,b,c);return!0},"OnCheckChanged");break;case "ngList":ngBindingDeferUpdates("Checked",c,!0),a.CheckedKeyField=ngVal(c.get("KeyField"),"Value"),
a.AddEvent(function(d){ngCtrlBindingRead("Checked",a,b,function(d){var e=ngVal(a.CheckedKeyField,"Value"),g=[];a.Scan(function(a,b,c,d){ngVal(b.Checked,0)&&(a=vmGetFieldValueByID(b,e),"undefined"!==typeof a&&g.push(a));return!0});ng_IsArrayVar(d)||(d=[]);r(d,g)&&ngCtrlBindingWriteEx(d,b,c)});return!0},"OnCheckChanged")}});ngRegisterBindingHandler("Paging",function(a,b,c,d){if(a.CtrlInheritsFrom("ngPageList")){b=b();ko.isObservable(b)&&(b=b());a.binding_reset_timer&&clearTimeout(a.binding_reset_timer);
delete a.binding_reset_timer;if(ng_IsArrayVar(b)){if("object"===typeof a.BindingPagingVM){a.BindingPagingVM.Value=b;a.binding_reset_timer=setTimeout(function(){a.binding_reset_timer&&clearTimeout(a.binding_reset_timer);delete a.binding_reset_timer;a.Reset(!0)},1);return}var e={Value:b,Offset:ko.observable(),Count:ko.observable(),Records:ko.observableArray(),GetRecords:function(){var a=e.Offset(),b=e.Count(),c=[];if(ng_IsArrayVar(e.Value))for(var d=e.Value.length,g=0;g<b&&a<d;g++,a++)c.push(e.Value[a]);
e.Records(c)},TotalCount:ko.observable(),GetTotalCount:function(){e.TotalCount(ng_IsArrayVar(e.Value)?e.Value.length:0)}};a.BindingPagingVM=e;a.Reset(!0);b=e}else delete a.BindingPagingVM;D(a,b)}},function(a,b,c,d){if(a.CtrlInheritsFrom("ngPageList")){ngBindingDeferUpdates("Paging",c,!0);var e=a.CtrlInheritsFrom("ngDataSet");ng_OverrideMethod(a,"OnLoadData",function(c,d,g,k){var n=b(),r;ngCtrlBindingLock("Paging",a,function(){"object"===typeof a.BindingPagingVM?n=a.BindingPagingVM:ko.isObservable(n)&&
(n=n());if(ng_typeObject(n)){var b=999999999==g&&(ko.isObservable(n.TotalCount)||"function"===typeof n.GetTotalCount);n.Records&&(n.Records.PagingChanging=!0);n.TotalCount&&(n.TotalCount.PagingChanging=!0);try{b?ko.ng_setvalue(n.TotalCount,void 0):ko.ng_setvalue(n.Records,void 0);ko.ng_setvalue(n.Count,k);ko.ng_setvalue(n.Offset,g);D(a,n);var c=!0;b&&"function"===typeof n.GetTotalCount&&(n.GetTotalCount(),c=!1);if(c){if(e)switch(a.GetRecordsCommand){case "applyfilters":"function"===typeof n.ApplyFilters&&
(n.ApplyFilters(),c=!1);break;case "resetfilters":"function"===typeof n.ResetFilters&&(n.ResetFilters(),c=!1)}c&&"function"===typeof n.GetRecords&&n.GetRecords()}}finally{n.TotalCount&&delete n.TotalCount.PagingChanging,n.Records&&delete n.Records.PagingChanging}if(b){var d=ko.ng_getvalue(n.TotalCount);if("undefined"!==typeof d&&ng_typeNumber(d)){var u=setTimeout(function(){clearTimeout(u);a.SetLength(d);a.SetAsyncData(999999999,null)},1);r=void 0;return}}b=ko.ng_getvalue(n.Records);ng_IsArrayVar(b)&&
(r=B(b,e))}});return r});return!0}return!1});ngRegisterBindingHandler("Command",null,function(a,b,c,d){var e=c.get("ValueNames"),g=""+b();if(""!=g)switch(a.CtrlType){case "ngButton":case "ngSysAction":a.AddEvent("OnClick",function(a){d.Owner&&d.Owner.Command&&d.Owner.Command(g,e?{ValueNames:e}:void 0);return!0}),a.Update()}});ngRegisterBindingHandler("Error",function(a,b){C(a,b,!1)});ngRegisterBindingHandler("ShowError",function(a,b){C(a,b,!0)})}};

/*! Hammer.JS - v1.0.10 - 2017-10-19
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2017 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


(function(t,B){function I(){c.READY||(p.determineEventTypes(),e.each(c.gestures,function(a){l.register(a)}),p.onTouch(c.DOCUMENT,u,l.detect),p.onTouch(c.DOCUMENT,h,l.detect),c.READY=!0)}var c=function(a,b){return new c.Instance(a,b||{})};c.VERSION="1.0.10";c.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};c.HAS_POINTEREVENTS=t.navigator.pointerEnabled||t.navigator.msPointerEnabled;c.HAS_TOUCHEVENTS=
"ontouchstart"in t;c.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;c.NO_MOUSEEVENTS=c.HAS_TOUCHEVENTS&&t.navigator.userAgent.match(c.MOBILE_REGEX);c.EVENT_TYPES={};c.UPDATE_VELOCITY_INTERVAL=16;c.DOCUMENT=t.document;var C=c.DIRECTION_DOWN="down",F=c.DIRECTION_LEFT="left",D=c.DIRECTION_UP="up",G=c.DIRECTION_RIGHT="right",w=c.POINTER_MOUSE="mouse",E=c.POINTER_TOUCH="touch",H=c.POINTER_PEN="pen",m=c.EVENT_START="start",u=c.EVENT_MOVE="move",h=c.EVENT_END="end";c.plugins=c.plugins||{};c.gestures=
c.gestures||{};c.READY=!1;var e=c.utils={extend:function(a,b,f){for(var d in b)a[d]!==B&&f||(a[d]=b[d]);return a},each:function(a,b,f){var d,c;if("forEach"in a)a.forEach(b,f);else if(a.length!==B)for(d=-1;(c=a[++d])&&!1!==b.call(f,c,d,a););else for(d in a)if(a.hasOwnProperty(d)&&!1===b.call(f,a[d],d,a))break},inStr:function(a,b){return-1<a.indexOf(b)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],f=[],d=[],c=[],z=Math.min,k=Math.max;if(1===
a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY};e.each(a,function(a){b.push(a.pageX);f.push(a.pageY);d.push(a.clientX);c.push(a.clientY)});return{pageX:(z.apply(Math,b)+k.apply(Math,b))/2,pageY:(z.apply(Math,f)+k.apply(Math,f))/2,clientX:(z.apply(Math,d)+k.apply(Math,d))/2,clientY:(z.apply(Math,c)+k.apply(Math,c))/2}},getVelocity:function(a,b,f){return{x:Math.abs(b/a)||0,y:Math.abs(f/a)||0}},getAngle:function(a,b){return 180*Math.atan2(b.clientY-a.clientY,
b.clientX-a.clientX)/Math.PI},getDirection:function(a,b){return Math.abs(a.clientX-b.clientX)>=Math.abs(a.clientY-b.clientY)?0<a.clientX-b.clientX?F:G:0<a.clientY-b.clientY?D:C},getDistance:function(a,b){var f=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(f*f+d*d)},getScale:function(a,b){return 2<=a.length&&2<=b.length?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return 2<=a.length&&2<=b.length?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):
0},isVertical:function(a){return a==D||a==C},toggleDefaultBehavior:function(a,b,f){if(b&&a&&a.style){e.each("webkit moz Moz ms o ".split(" "),function(d){e.each(b,function(b,c){d&&(c=d+c.substring(0,1).toUpperCase()+c.substring(1));c in a.style&&(a.style[c]=!f&&b)})});var d=function(){return!1};"none"==b.userSelect&&(a.onselectstart=!f&&d);"none"==b.userDrag&&(a.ondragstart=!f&&d)}}};c.Instance=function(a,b){var f=this;I();this.element=a;this.enabled=!0;this.options=e.extend(e.extend({},c.defaults),
b||{});this.options.stop_browser_behavior&&e.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!1);this.eventStartHandler=p.onTouch(a,m,function(a){f.enabled&&l.startDetect(f,a)});this.eventHandlers=[];return this};c.Instance.prototype={on:function(a,b){var f=a.split(" ");e.each(f,function(a){this.element.addEventListener(a,b,!1);this.eventHandlers.push({gesture:a,handler:b})},this);return this},off:function(a,b){var f=a.split(" "),d,c;e.each(f,function(a){this.element.removeEventListener(a,
b,!1);for(d=-1;c=this.eventHandlers[++d];)c.gesture===a&&c.handler===b&&this.eventHandlers.splice(d,1)},this);return this},trigger:function(a,b){b||(b={});var f=c.DOCUMENT.createEvent("Event");f.initEvent(a,!0,!0);f.gesture=b;var d=this.element;e.hasParent(b.target,d)&&(d=b.target);d.dispatchEvent(f);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var a,b;this.options.stop_browser_behavior&&e.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,!0);
for(a=-1;b=this.eventHandlers[++a];)this.element.removeEventListener(b.gesture,b.handler,!1);this.eventHandlers=[];p.unbindDom(this.element,c.EVENT_TYPES[m],this.eventStartHandler);return null}};var x=null,y=!1,A=!1,p=c.event={bindDom:function(a,b,f){b=b.split(" ");e.each(b,function(b){a.addEventListener(b,f,!1)})},unbindDom:function(a,b,f){b=b.split(" ");e.each(b,function(b){a.removeEventListener(b,f,!1)})},onTouch:function(a,b,f){var d=this,g=function(g){var k=g.type.toLowerCase(),m=e.inStr(k,"touch"),
n=!m&&e.inStr(k,"pointer"),p=!m&&!n&&e.inStr(k,"mouse"),q=b,r;p&&(r=t.event||g,r="buttons"in r?r.buttons:"which"in r?r.which:r.button);if(!p||!A){if(m||n&&e.inStr(k,"down")||p&&1===r)y=!0;else if(p&&!r||n&&"buttons"in g&&!g.buttons&&e.inStr(k,"move")&&v.matchType(w,g))x?(q=h,k=k.replace("move","up"),y=!0):y=!1;if(m||n)A=!0;n=0;if(y){c.HAS_POINTEREVENTS&&q!=h?n=v.updatePointer(q,g):m?n=g.touches.length:A||(n=e.inStr(k,"up")?0:1);0<n&&q==h?q=u:n||(q=h);if(n||null===x)x=g;f.call(l,d.collectEventData(a,
q,d.getTouchList(x,q),g));c.HAS_POINTEREVENTS&&q==h&&(n=v.updatePointer(q,g))}n||(x=null,A=y=!1,v.reset())}};this.bindDom(a,c.EVENT_TYPES[b],g);return g},determineEventTypes:function(){var a;a=c.HAS_POINTEREVENTS?v.getEvents():c.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];c.EVENT_TYPES[m]=a[0];c.EVENT_TYPES[u]=a[1];c.EVENT_TYPES[h]=a[2]},getTouchList:function(a){if(c.HAS_POINTEREVENTS)return v.getTouchList();
if(a.touches)return a.touches;a.identifier=1;return[a]},collectEventData:function(a,b,f,c){a=E;if(e.inStr(c.type,"mouse")||v.matchType(w,c))a=w;return{center:e.getCenter(f),timeStamp:Date.now(),target:c.target,touches:f,eventType:b,pointerType:a,srcEvent:c,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return l.stopDetect()}}}},v=c.PointerEvent=
{pointers:{},getTouchList:function(){var a=[];e.each(this.pointers,function(b){a.push(b)});return a},updatePointer:function(a,b){a==h?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b);return Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};d[w]=c===(b.MSPOINTER_TYPE_MOUSE||w);d[E]=c===(b.MSPOINTER_TYPE_TOUCH||E);d[H]=c===(b.MSPOINTER_TYPE_PEN||H);return d[a]},getEvents:function(){return["pointerdown MSPointerDown",
"pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},l=c.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:e.extend({},b),lastEvent:!1,lastVelocityEvent:!1,velocity:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;e.each(this.gestures,function(d){if(!this.stopped&&
!1!==c[d.name]&&!1!==b.enabled&&!1===d.handler.call(d,a,b))return this.stopDetect(),!1},this);this.current&&(this.current.lastEvent=a);a.eventType==h&&!a.touches.length-1&&this.stopDetect();return a}},stopDetect:function(){this.previous=e.extend({},this.current);this.current=null;this.stopped=!0},getVelocityData:function(a,b,f,d){var g=this.current,h=g.lastVelocityEvent,k=g.velocity;h&&a.timeStamp-h.timeStamp>c.UPDATE_VELOCITY_INTERVAL?(k=e.getVelocity(a.timeStamp-h.timeStamp,a.center.clientX-h.center.clientX,
a.center.clientY-h.center.clientY),g.lastVelocityEvent=a):g.velocity||(k=e.getVelocity(b,f,d),g.lastVelocityEvent=a);g.velocity=k;a.velocityX=k.x;a.velocityY=k.y},getInterimData:function(a){var b=this.current.lastEvent,c;a.eventType==h?(c=b&&b.interimAngle,b=b&&b.interimDirection):(c=b&&e.getAngle(b.center,a.center),b=b&&e.getDirection(b.center,a.center));a.interimAngle=c;a.interimDirection=b},extendEventData:function(a){var b=this.current.startEvent;if(a.touches.length!=b.touches.length||a.touches===
b.touches)b.touches=[],e.each(a.touches,function(a){b.touches.push(e.extend({},a))});var c=a.timeStamp-b.timeStamp,d=a.center.clientX-b.center.clientX,g=a.center.clientY-b.center.clientY;this.getVelocityData(a,c,d,g);this.getInterimData(a);e.extend(a,{startEvent:b,deltaTime:c,deltaX:d,deltaY:g,distance:e.getDistance(b.center,a.center),angle:e.getAngle(b.center,a.center),direction:e.getDirection(b.center,a.center),scale:e.getScale(b.touches,a.touches),rotation:e.getRotation(b.touches,a.touches)});
return a},register:function(a){var b=a.defaults||{};b[a.name]===B&&(b[a.name]=!0);e.extend(c.defaults,b,!0);a.index=a.index||1E3;this.gestures.push(a);this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};c.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(a,
b){var c=l.current;if(c.name!=this.name&&this.triggered)b.trigger(this.name+"end",a),this.triggered=!1;else if(!(0<b.options.drag_max_touches&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case m:this.triggered=!1;break;case u:if(a.distance<b.options.drag_min_distance&&c.name!=this.name)break;var d=c.startEvent.center;if(c.name!=this.name&&(c.name=this.name,b.options.correct_for_drag_min_distance&&0<a.distance)){var g=Math.abs(b.options.drag_min_distance/a.distance);d.pageX+=a.deltaX*
g;d.pageY+=a.deltaY*g;d.clientX+=a.deltaX*g;d.clientY+=a.deltaY*g;a=l.extendEventData(a)}if(c.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)a.drag_locked_to_axis=!0;c=c.lastEvent.direction;a.drag_locked_to_axis&&c!==a.direction&&(e.isVertical(c)?a.direction=0>a.deltaY?D:C:a.direction=0>a.deltaX?F:G);this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0);b.trigger(this.name,a);b.trigger(this.name+a.direction,a);c=e.isVertical(a.direction);
(b.options.drag_block_vertical&&c||b.options.drag_block_horizontal&&!c)&&a.preventDefault();break;case h:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}};c.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:2},timer:null,handler:function(a,b){switch(a.eventType){case m:clearTimeout(this.timer);l.current.name=this.name;this.timer=setTimeout(function(){"hold"==l.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case u:a.distance>b.options.hold_threshold&&
clearTimeout(this.timer);break;case h:clearTimeout(this.timer)}}};c.gestures.Release={name:"release",index:Infinity,handler:function(a,b){a.eventType==h&&b.trigger(this.name,a)}};c.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){a.eventType!=h||a.touches.length<b.options.swipe_min_touches||a.touches.length>b.options.swipe_max_touches||!(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)||(b.trigger(this.name,
a),b.trigger(this.name+a.direction,a))}};c.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},has_moved:!1,handler:function(a,b){var c,d,e;a.eventType==m?this.has_moved=!1:a.eventType!=u||this.moved?a.eventType==h&&"touchcancel"!=a.srcEvent.type&&a.deltaTime<b.options.tap_max_touchtime&&!this.has_moved&&(d=(c=l.previous)&&c.lastEvent&&a.timeStamp-c.lastEvent.timeStamp,e=!1,c&&"tap"==c.name&&d&&d<b.options.doubletap_interval&&
a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),e=!0),!e||b.options.tap_always)&&(l.current.name="tap",b.trigger(l.current.name,a)):this.has_moved=a.distance>b.options.tap_max_distance}};c.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){b.options.prevent_mouseevents&&a.pointerType==w?a.stopDetect():(b.options.prevent_default&&a.preventDefault(),a.eventType==m&&b.trigger(this.name,a))}};c.gestures.Transform=
{name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1,transform_within_instance:!1},triggered:!1,handler:function(a,b){if(l.current.name!=this.name&&this.triggered)b.trigger(this.name+"end",a),this.triggered=!1;else if(!(2>a.touches.length)){b.options.transform_always_block&&a.preventDefault();if(b.options.transform_within_instance)for(var c=-1;a.touches[++c];)if(!e.hasParent(a.touches[c].target,b.element))return;switch(a.eventType){case m:this.triggered=
!1;break;case u:var c=Math.abs(1-a.scale),d=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&d<b.options.transform_min_rotation)break;l.current.name=this.name;this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0);b.trigger(this.name,a);d>b.options.transform_min_rotation&&b.trigger("rotate",a);c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(1>a.scale?"in":"out"),a));break;case h:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}}};"function"==
typeof define&&define.amd?define(function(){return c}):"object"==typeof module&&module.exports?module.exports=c:t.Hammer=c})(window);

/*!
 * Knockout JavaScript library v3.4.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */


var ko="undefined"!==typeof koExports?koExports:{};ko.exportSymbol=function(a,b){for(var d=a.split("."),c=ko,f=0;f<d.length-1;f++)c=c[d[f]];c[d[d.length-1]]=b};ko.exportProperty=function(a,b,d){a[b]=d};ko.version="3.4.0";ko.exportSymbol("version",ko.version);ko.options={deferUpdates:!1,useOnlyNativeEvents:!1};ko.tasks=function(){function a(){if(c)for(var a=c,b=0,f;e<c;)if(f=d[e++]){if(e>a){if(5E3<=++b){e=c;ko.utils.deferError(Error("'Too much recursion' after processing "+b+" task groups."));break}a=c}try{f()}catch(l){ko.utils.deferError(l)}}}function b(){a();e=c=d.length=0}var d=[],c=0,f=1,e=0;return{scheduler:window.MutationObserver?function(a){var b=document.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(b):document&&"onreadystatechange"in
document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;document.documentElement.removeChild(b);b=null;a()};document.documentElement.appendChild(b)}:function(a){setTimeout(a,0)},schedule:function(a){c||ko.tasks.scheduler(b);d[c++]=a;return f++},cancel:function(a){a-=f-c;a>=e&&a<c&&(d[a]=null)},resetForTesting:function(){var a=c-e;e=c=d.length=0;return a},runEarly:a}}();ko.exportSymbol("tasks",ko.tasks);
ko.exportSymbol("tasks.schedule",ko.tasks.schedule);ko.exportSymbol("tasks.runEarly",ko.tasks.runEarly);ko.utils=function(){function a(a,b){for(var g in a)a.hasOwnProperty(g)&&b(g,a[g])}function b(a,b){if(b)for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);return a}function d(a,b){a.__proto__=b;return a}function c(a,b,g,c){var d=a[b].match(k)||[];ko.utils.arrayForEach(g.match(k),function(a){ko.utils.addOrRemoveItem(d,a,c)});a[b]=d.join(" ")}var f={__proto__:[]}instanceof Array,e="function"===typeof Symbol,h={},m={},q=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";h[q]=["keyup",
"keydown","keypress"];h.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");a(h,function(a,b){if(b.length)for(var g=0,c=b.length;g<c;g++)m[b[g]]=a});var l={propertychange:!0},n=document&&function(){for(var a=3,b=document.createElement("div"),g=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",g[0];);return 4<a?a:void 0}(),k=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
arrayForEach:function(a,b){for(var g=0,c=a.length;g<c;g++)b(a[g],g)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var g=0,c=a.length;g<c;g++)if(a[g]===b)return g;return-1},arrayFirst:function(a,b,g){for(var c=0,d=a.length;c<d;c++)if(b.call(g,a[c],c))return a[c];return null},arrayRemoveItem:function(a,b){var g=ko.utils.arrayIndexOf(a,b);0<g?a.splice(g,1):0===g&&a.shift()},arrayGetDistinctValues:function(a){a=a||[];for(var b=[],
g=0,c=a.length;g<c;g++)0>ko.utils.arrayIndexOf(b,a[g])&&b.push(a[g]);return b},arrayMap:function(a,b){a=a||[];for(var g=[],c=0,d=a.length;c<d;c++)g.push(b(a[c],c));return g},arrayFilter:function(a,b){a=a||[];for(var g=[],c=0,d=a.length;c<d;c++)b(a[c],c)&&g.push(a[c]);return g},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var g=0,c=b.length;g<c;g++)a.push(b[g]);return a},addOrRemoveItem:function(a,b,g){var c=ko.utils.arrayIndexOf(ko.utils.peekObservable(a),b);0>c?g&&
a.push(b):g||a.splice(c,1)},canSetPrototype:f,extend:b,setPrototypeOf:d,setPrototypeOfOrExtend:f?d:b,objectForEach:a,objectMap:function(a,b){if(!a)return a;var g={},c;for(c in a)a.hasOwnProperty(c)&&(g[c]=b(a[c],c,a));return g},emptyDomNode:function(a){for(;a.firstChild;)ko.removeNode(a.firstChild)},moveCleanedNodesToContainerElement:function(a){a=ko.utils.makeArray(a);for(var b=(a[0]&&a[0].ownerDocument||document).createElement("div"),g=0,c=a.length;g<c;g++)b.appendChild(ko.cleanNode(a[g]));return b},
cloneNodes:function(a,b){for(var g=0,c=a.length,d=[];g<c;g++){var f=a[g].cloneNode(!0);d.push(b?ko.cleanNode(f):f)}return d},setDomNodeChildren:function(a,b){ko.utils.emptyDomNode(a);if(b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},replaceDomNodes:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],f=d.parentNode,e=0,m=b.length;e<m;e++)f.insertBefore(b[e],d);e=0;for(m=c.length;e<m;e++)ko.removeNode(c[e])}},fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&
b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},setOptionNodeSelectionState:function(a,b){7>n?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return null===a||void 0===a?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?
!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(a){return ko.utils.domNodeIsContainedBy(a,a.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(a){return!!ko.utils.arrayFirst(a,ko.utils.domNodeIsAttachedToDocument)},
tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},catchFunctionErrors:function(a){return ko.onError?function(){try{return a.apply(this,arguments)}catch(b){throw ko.onError&&ko.onError(b),b;}}:a},setTimeout:function(a,b){return setTimeout(ko.utils.catchFunctionErrors(a),b)},deferError:function(a){setTimeout(function(){ko.onError&&ko.onError(a);throw a;},0)},registerEventHandler:function(a,b,c){var d=ko.utils.catchFunctionErrors(c);c=n&&l[b];if(ko.options.useOnlyNativeEvents||c||
!jQueryInstance)if(c||"function"!=typeof a.addEventListener)if("undefined"!=typeof a.attachEvent){var e=function(b){d.call(a,b)},f="on"+b;a.attachEvent(f,e);ko.utils.domNodeDisposal.addDisposeCallback(a,function(){a.detachEvent(f,e)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else a.addEventListener(b,d,!1);else jQueryInstance(a).bind(b,d)},triggerEvent:function(a,b){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var c;"input"===
ko.utils.tagNameLower(a)&&a.type?"click"!=b.toLowerCase()?c=!1:(c=a.type,c="checkbox"==c||"radio"==c):c=!1;if(ko.options.useOnlyNativeEvents||!jQueryInstance||c)if("function"==typeof document.createEvent)if("function"==typeof a.dispatchEvent)c=document.createEvent(m[b]||"HTMLEvents"),c.initEvent(b,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(c);else throw Error("The supplied element doesn't support dispatchEvent");else if(c&&a.click)a.click();else if("undefined"!=typeof a.fireEvent)a.fireEvent("on"+
b);else throw Error("Browser doesn't support triggering events");else jQueryInstance(a).trigger(b)},unwrapObservable:function(a){return ko.isObservable(a)?a():a},peekObservable:function(a){return ko.isObservable(a)?a.peek():a},toggleDomNodeCssClass:function(a,b,d){var e;b&&("object"===typeof a.classList?(e=a.classList[d?"add":"remove"],ko.utils.arrayForEach(b.match(k),function(b){e.call(a.classList,b)})):"string"===typeof a.className.baseVal?c(a.className,"baseVal",b,d):c(a,"className",b,d))},setTextContent:function(a,
b){var c=ko.utils.unwrapObservable(b);if(null===c||void 0===c)c="";var d=ko.virtualElements.firstChild(a);!d||3!=d.nodeType||ko.virtualElements.nextSibling(d)?ko.virtualElements.setDomNodeChildren(a,[a.ownerDocument.createTextNode(c)]):d.data=c;ko.utils.forceRefresh(a)},setElementName:function(a,b){a.name=b;if(7>=n)try{a.mergeAttributes(document.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){9<=n&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},
ensureSelectElementIsRenderedCorrectly:function(a){if(n){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(a,b){a=ko.utils.unwrapObservable(a);b=ko.utils.unwrapObservable(b);for(var c=[],d=a;d<=b;d++)c.push(d);return c},makeArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},createSymbolOrString:function(a){return e?Symbol(a):a},isIe6:6===n,isIe7:7===n,ieVersion:n,getFormFields:function(a,b){for(var c=ko.utils.makeArray(a.getElementsByTagName("input")).concat(ko.utils.makeArray(a.getElementsByTagName("textarea"))),
d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;0<=f;f--)d(c[f])&&e.push(c[f]);return e},parseJson:function(a){return"string"==typeof a&&(a=ko.utils.stringTrim(a))?JSON&&JSON.parse?JSON.parse(a):(new Function("return "+a))():null},stringifyJson:function(a,b,c){if(!JSON||!JSON.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return JSON.stringify(ko.utils.unwrapObservable(a),b,c)},postJson:function(b,c,d){d=d||{};var e=d.params||{},f=d.includeFields||this.fieldsIncludedWithJsonPost,m=b;if("object"==typeof b&&"form"===ko.utils.tagNameLower(b))for(var m=b.action,h=f.length-1;0<=h;h--)for(var l=ko.utils.getFormFields(b,f[h]),n=l.length-1;0<=n;n--)e[l[n].name]=l[n].value;c=ko.utils.unwrapObservable(c);var k=document.createElement("form");k.style.display="none";k.action=m;k.method="post";for(var q in c)b=document.createElement("input"),
b.type="hidden",b.name=q,b.value=ko.utils.stringifyJson(ko.utils.unwrapObservable(c[q])),k.appendChild(b);a(e,function(a,b){var c=document.createElement("input");c.type="hidden";c.name=a;c.value=b;k.appendChild(c)});document.body.appendChild(k);d.submitter?d.submitter(k):k.submit();setTimeout(function(){k.parentNode.removeChild(k)},0)}}}();ko.exportSymbol("utils",ko.utils);ko.exportSymbol("utils.arrayForEach",ko.utils.arrayForEach);ko.exportSymbol("utils.arrayFirst",ko.utils.arrayFirst);
ko.exportSymbol("utils.arrayFilter",ko.utils.arrayFilter);ko.exportSymbol("utils.arrayGetDistinctValues",ko.utils.arrayGetDistinctValues);ko.exportSymbol("utils.arrayIndexOf",ko.utils.arrayIndexOf);ko.exportSymbol("utils.arrayMap",ko.utils.arrayMap);ko.exportSymbol("utils.arrayPushAll",ko.utils.arrayPushAll);ko.exportSymbol("utils.arrayRemoveItem",ko.utils.arrayRemoveItem);ko.exportSymbol("utils.extend",ko.utils.extend);ko.exportSymbol("utils.fieldsIncludedWithJsonPost",ko.utils.fieldsIncludedWithJsonPost);
ko.exportSymbol("utils.getFormFields",ko.utils.getFormFields);ko.exportSymbol("utils.peekObservable",ko.utils.peekObservable);ko.exportSymbol("utils.postJson",ko.utils.postJson);ko.exportSymbol("utils.parseJson",ko.utils.parseJson);ko.exportSymbol("utils.registerEventHandler",ko.utils.registerEventHandler);ko.exportSymbol("utils.stringifyJson",ko.utils.stringifyJson);ko.exportSymbol("utils.range",ko.utils.range);ko.exportSymbol("utils.toggleDomNodeCssClass",ko.utils.toggleDomNodeCssClass);
ko.exportSymbol("utils.triggerEvent",ko.utils.triggerEvent);ko.exportSymbol("utils.unwrapObservable",ko.utils.unwrapObservable);ko.exportSymbol("utils.objectForEach",ko.utils.objectForEach);ko.exportSymbol("utils.addOrRemoveItem",ko.utils.addOrRemoveItem);ko.exportSymbol("utils.setTextContent",ko.utils.setTextContent);ko.exportSymbol("unwrap",ko.utils.unwrapObservable);
Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var c=d.slice(0);c.push.apply(c,arguments);return b.apply(a,c)}});ko.utils.domData=new function(){function a(a,e){var h=a[d];if(!h||"null"===h||!c[h]){if(!e)return;h=a[d]="ko"+b++;c[h]={}}return c[h]}var b=0,d="__ko__"+(new Date).getTime(),c={};return{get:function(b,c){var d=a(b,!1);return void 0===d?void 0:d[c]},set:function(b,c,d){if(void 0!==d||void 0!==a(b,!1))a(b,!0)[c]=d},clear:function(a){var b=a[d];return b?(delete c[b],a[d]=null,!0):!1},nextKey:function(){return b++ +d}}};ko.exportSymbol("utils.domData",ko.utils.domData);
ko.exportSymbol("utils.domData.clear",ko.utils.domData.clear);ko.extenders={throttle:function(a,b){a.throttleEvaluation=b;var d=null;return ko.dependentObservable({read:a,write:function(c){clearTimeout(d);d=ko.utils.setTimeout(function(){a(c)},b)}})},rateLimit:function(a,b){var d,c,f;"number"==typeof b?d=b:(d=b.timeout,c=b.method);a._deferUpdates=!1;f="notifyWhenChangesStop"==c?debounce:throttle;a.limit(function(a){return f(a,d)})},deferred:function(a,b){if(!0!==b)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");
a._deferUpdates||(a._deferUpdates=!0,a.limit(function(b){var c;return function(){ko.tasks.cancel(c);c=ko.tasks.schedule(b);a.notifySubscribers(void 0,"dirty")}}))},notify:function(a,b){a.equalityComparer="always"==b?null:valuesArePrimitiveAndEqual}};var primitiveTypes={undefined:1,"boolean":1,number:1,string:1};function valuesArePrimitiveAndEqual(a,b){return null===a||typeof a in primitiveTypes?a===b:!1}
function throttle(a,b){var d;return function(){d||(d=ko.utils.setTimeout(function(){d=void 0;a()},b))}}function debounce(a,b){var d;return function(){clearTimeout(d);d=ko.utils.setTimeout(a,b)}}function applyExtenders(a){var b=this;a&&ko.utils.objectForEach(a,function(a,c){var f=ko.extenders[a];"function"==typeof f&&(b=f(b,c)||b)});return b}ko.exportSymbol("extenders",ko.extenders);ko.subscription=function(a,b,d){this._target=a;this.callback=b;this.disposeCallback=d;this.isDisposed=!1;ko.exportProperty(this,"dispose",this.dispose)};ko.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};ko.subscribable=function(){ko.utils.setPrototypeOfOrExtend(this,ko_subscribable_fn);ko_subscribable_fn.init(this)};var defaultEvent="change";
function limitNotifySubscribers(a,b){b&&b!==defaultEvent?"beforeChange"===b?this._limitBeforeChange(a):this._origNotifySubscribers(a,b):this._limitChange(a)}
var ko_subscribable_fn={init:function(a){a._subscriptions={};a._versionNumber=1},subscribe:function(a,b,d){var c=this;d=d||defaultEvent;a=b?a.bind(b):a;var f=new ko.subscription(c,a,function(){ko.utils.arrayRemoveItem(c._subscriptions[d],f);c.afterSubscriptionRemove&&c.afterSubscriptionRemove(d)});c.beforeSubscriptionAdd&&c.beforeSubscriptionAdd(d);c._subscriptions[d]||(c._subscriptions[d]=[]);c._subscriptions[d].push(f);return f},notifySubscribers:function(a,b){b=b||defaultEvent;b===defaultEvent&&
this.updateVersion();if(this.hasSubscriptionsForEvent(b))try{ko.dependencyDetection.begin();for(var d=this._subscriptions[b].slice(0),c=0,f;f=d[c];++c)f.isDisposed||f.callback(a)}finally{ko.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(a){return this.getVersion()!==a},updateVersion:function(){++this._versionNumber},limit:function(a){var b=this,d=ko.isObservable(b),c,f,e;b._origNotifySubscribers||(b._origNotifySubscribers=b.notifySubscribers,b.notifySubscribers=
limitNotifySubscribers);var h=a(function(){b._notificationIsPending=!1;d&&e===b&&(e=b());c=!1;b.isDifferent(f,e)&&b._origNotifySubscribers(f=e)});b._limitChange=function(a){b._notificationIsPending=c=!0;e=a;h()};b._limitBeforeChange=function(a){c||(f=a,b._origNotifySubscribers(a,"beforeChange"))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&this._subscriptions[a].length},getSubscriptionsCount:function(a){if(a)return this._subscriptions[a]&&this._subscriptions[a].length||0;
var b=0;ko.utils.objectForEach(this._subscriptions,function(a,c){"dirty"!==a&&(b+=c.length)});return b},isDifferent:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:applyExtenders};ko.exportProperty(ko_subscribable_fn,"subscribe",ko_subscribable_fn.subscribe);ko.exportProperty(ko_subscribable_fn,"extend",ko_subscribable_fn.extend);ko.exportProperty(ko_subscribable_fn,"getSubscriptionsCount",ko_subscribable_fn.getSubscriptionsCount);
ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko_subscribable_fn,Function.prototype);ko.subscribable.fn=ko_subscribable_fn;ko.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};ko.exportSymbol("subscribable",ko.subscribable);ko.exportSymbol("isSubscribable",ko.isSubscribable);ko.computedContext=ko.dependencyDetection=function(){function a(a){d.push(c);c=a}function b(){c=d.pop()}var d=[],c,f=0;return{begin:a,end:b,registerDependency:function(a){if(c){if(!ko.isSubscribable(a))throw Error("Only subscribable things can act as dependencies");c.callback.call(c.callbackTarget,a,a._id||(a._id=++f))}},ignore:function(c,d,f){try{return a(),c.apply(d,f||[])}finally{b()}},getDependenciesCount:function(){if(c)return c.computed.getDependenciesCount()},isInitial:function(){if(c)return c.isInitial}}}();
ko.exportSymbol("computedContext",ko.computedContext);ko.exportSymbol("computedContext.getDependenciesCount",ko.computedContext.getDependenciesCount);ko.exportSymbol("computedContext.isInitial",ko.computedContext.isInitial);ko.exportSymbol("ignoreDependencies",ko.ignoreDependencies=ko.dependencyDetection.ignore);var observableLatestValue=ko.utils.createSymbolOrString("_latestValue");
ko.observable=function(a){function b(){if(0<arguments.length)return b.isDifferent(b[observableLatestValue],arguments[0])&&(b.valueWillMutate(),b[observableLatestValue]=arguments[0],b.valueHasMutated()),this;ko.dependencyDetection.registerDependency(b);return b[observableLatestValue]}b[observableLatestValue]=a;ko.utils.canSetPrototype||ko.utils.extend(b,ko.subscribable.fn);ko.subscribable.fn.init(b);ko.utils.setPrototypeOfOrExtend(b,observableFn);ko.options.deferUpdates&&ko.extenders.deferred(b,!0);
return b};var observableFn={equalityComparer:valuesArePrimitiveAndEqual,peek:function(){return this[observableLatestValue]},valueHasMutated:function(){this.notifySubscribers(this[observableLatestValue])},valueWillMutate:function(){this.notifySubscribers(this[observableLatestValue],"beforeChange")}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(observableFn,ko.subscribable.fn);var protoProperty=ko.observable.protoProperty="__ko_proto__";observableFn[protoProperty]=ko.observable;
ko.hasPrototype=function(a,b){return null===a||void 0===a||void 0===a[protoProperty]?!1:a[protoProperty]===b?!0:ko.hasPrototype(a[protoProperty],b)};ko.isObservable=function(a){return ko.hasPrototype(a,ko.observable)};ko.isWriteableObservable=function(a){return"function"==typeof a&&a[protoProperty]===ko.observable||"function"==typeof a&&a[protoProperty]===ko.dependentObservable&&a.hasWriteFunction?!0:!1};ko.exportSymbol("observable",ko.observable);ko.exportSymbol("isObservable",ko.isObservable);
ko.exportSymbol("isWriteableObservable",ko.isWriteableObservable);ko.exportSymbol("isWritableObservable",ko.isWriteableObservable);ko.exportSymbol("observable.fn",observableFn);ko.exportProperty(observableFn,"peek",observableFn.peek);ko.exportProperty(observableFn,"valueHasMutated",observableFn.valueHasMutated);ko.exportProperty(observableFn,"valueWillMutate",observableFn.valueWillMutate);ko.observableArray=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=ko.observable(a);ko.utils.setPrototypeOfOrExtend(a,ko.observableArray.fn);return a.extend({trackArrayChanges:!0})};
ko.observableArray.fn={remove:function(a){for(var b=this.peek(),d=[],c="function"!=typeof a||ko.isObservable(a)?function(b){return b===a}:a,f=0;f<b.length;f++){var e=b[f];c(e)&&(0===d.length&&this.valueWillMutate(),d.push(e),b.splice(f,1),f--)}d.length&&this.valueHasMutated();return d},removeAll:function(a){if(void 0===a){var b=this.peek(),d=b.slice(0);this.valueWillMutate();b.splice(0,b.length);this.valueHasMutated();return d}return a?this.remove(function(b){return 0<=ko.utils.arrayIndexOf(a,b)}):
[]},destroy:function(a){var b=this.peek(),d="function"!=typeof a||ko.isObservable(a)?function(b){return b===a}:a;this.valueWillMutate();for(var c=b.length-1;0<=c;c--)d(b[c])&&(b[c]._destroy=!0);this.valueHasMutated()},destroyAll:function(a){return void 0===a?this.destroy(function(){return!0}):a?this.destroy(function(b){return 0<=ko.utils.arrayIndexOf(a,b)}):[]},indexOf:function(a){var b=this();return ko.utils.arrayIndexOf(b,a)},replace:function(a,b){var d=this.indexOf(a);0<=d&&(this.valueWillMutate(),
this.peek()[d]=b,this.valueHasMutated())}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko.observableArray.fn,ko.observable.fn);ko.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(a){ko.observableArray.fn[a]=function(){var b=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(b,a,arguments);var d=b[a].apply(b,arguments);this.valueHasMutated();return d===b?this:d}});
ko.utils.arrayForEach(["slice"],function(a){ko.observableArray.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});ko.exportSymbol("observableArray",ko.observableArray);var arrayChangeEventName="arrayChange";
ko.extenders.trackArrayChanges=function(a,b){function d(){if(!c){c=!0;var b=a.notifySubscribers;a.notifySubscribers=function(a,c){c&&c!==defaultEvent||++h;return b.apply(this,arguments)};var d=[].concat(a.peek()||[]);f=null;e=a.subscribe(function(b){b=[].concat(b||[]);if(a.hasSubscriptionsForEvent(arrayChangeEventName)){var c;if(!f||1<h)f=ko.utils.compareArrays(d,b,a.compareArrayOptions);c=f}d=b;f=null;h=0;c&&c.length&&a.notifySubscribers(c,arrayChangeEventName)})}}a.compareArrayOptions={};b&&"object"==
typeof b&&ko.utils.extend(a.compareArrayOptions,b);a.compareArrayOptions.sparse=!0;if(!a.cacheDiffForKnownOperation){var c=!1,f=null,e,h=0,m=a.beforeSubscriptionAdd,q=a.afterSubscriptionRemove;a.beforeSubscriptionAdd=function(b){m&&m.call(a,b);b===arrayChangeEventName&&d()};a.afterSubscriptionRemove=function(b){q&&q.call(a,b);b!==arrayChangeEventName||a.hasSubscriptionsForEvent(arrayChangeEventName)||(e.dispose(),c=!1)};a.cacheDiffForKnownOperation=function(a,b,d){function e(a,b,c){return t[t.length]=
{status:a,value:b,index:c}}if(c&&!h){var t=[],g=a.length,p=d.length,m=0;switch(b){case "push":m=g;case "unshift":for(b=0;b<p;b++)e("added",d[b],m+b);break;case "pop":m=g-1;case "shift":g&&e("deleted",a[m],m);break;case "splice":b=Math.min(Math.max(0,0>d[0]?g+d[0]:d[0]),g);for(var g=1===p?g:Math.min(b+(d[1]||0),g),p=b+p-2,m=Math.max(g,p),y=[],v=[],q=2;b<m;++b,++q)b<g&&v.push(e("deleted",a[b],b)),b<p&&y.push(e("added",d[q],b));ko.utils.findMovesInArrayComparison(v,y);break;default:return}f=t}}}};var computedState=ko.utils.createSymbolOrString("_state");
ko.computed=ko.dependentObservable=function(a,b,d){function c(){if(0<arguments.length){if("function"===typeof f)f.apply(e.evaluatorFunctionTarget,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}ko.dependencyDetection.registerDependency(c);(e.isStale||e.isSleeping&&c.haveDependenciesChanged())&&c.evaluateImmediate();return e.latestValue}"object"===typeof a?d=a:(d=
d||{},a&&(d.read=a));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,e={latestValue:void 0,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:d.read,evaluatorFunctionTarget:b||d.owner,disposeWhenNodeIsRemoved:d.disposeWhenNodeIsRemoved||d.disposeWhenNodeIsRemoved||null,disposeWhen:d.disposeWhen||d.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},
dependenciesCount:0,evaluationTimeoutInstance:null};c[computedState]=e;c.hasWriteFunction="function"===typeof f;ko.utils.canSetPrototype||ko.utils.extend(c,ko.subscribable.fn);ko.subscribable.fn.init(c);ko.utils.setPrototypeOfOrExtend(c,computedFn);d.pure?(e.pure=!0,e.isSleeping=!0,ko.utils.extend(c,pureComputedOverrides)):d.deferEvaluation&&ko.utils.extend(c,deferEvaluationOverrides);ko.options.deferUpdates&&ko.extenders.deferred(c,!0);e.disposeWhenNodeIsRemoved&&(e.suppressDisposalUntilDisposeWhenReturnsFalse=
!0,e.disposeWhenNodeIsRemoved.nodeType||(e.disposeWhenNodeIsRemoved=null));e.isSleeping||d.deferEvaluation||c.evaluateImmediate();e.disposeWhenNodeIsRemoved&&c.isActive()&&ko.utils.domNodeDisposal.addDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback=function(){c.dispose()});return c};function computedDisposeDependencyCallback(a,b){null!==b&&b.dispose&&b.dispose()}
function computedBeginDependencyDetectionCallback(a,b){var d=this.computedObservable,c=d[computedState];c.isDisposed||(this.disposalCount&&this.disposalCandidates[b]?(d.addDependencyTracking(b,a,this.disposalCandidates[b]),this.disposalCandidates[b]=null,--this.disposalCount):c.dependencyTracking[b]||d.addDependencyTracking(b,a,c.isSleeping?{_target:a}:d.subscribeToDependency(a)))}
var computedFn={equalityComparer:valuesArePrimitiveAndEqual,getDependenciesCount:function(){return this[computedState].dependenciesCount},addDependencyTracking:function(a,b,d){if(this[computedState].pure&&b===this)throw Error("A 'pure' computed must not be called recursively");this[computedState].dependencyTracking[a]=d;d._order=this[computedState].dependenciesCount++;d._version=b.getVersion()},haveDependenciesChanged:function(){var a,b,d=this[computedState].dependencyTracking;for(a in d)if(d.hasOwnProperty(a)&&
(b=d[a],b._target.hasChanged(b._version)))return!0},markDirty:function(){this._evalDelayed&&!this[computedState].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[computedState].isStale||0<this[computedState].dependenciesCount},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(a){if(a._deferUpdates&&!this[computedState].disposeWhenNodeIsRemoved){var b=a.subscribe(this.markDirty,this,"dirty"),d=a.subscribe(this.respondToChange,
this);return{_target:a,dispose:function(){b.dispose();d.dispose()}}}return a.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var a=this,b=a.throttleEvaluation;b&&0<=b?(clearTimeout(this[computedState].evaluationTimeoutInstance),this[computedState].evaluationTimeoutInstance=ko.utils.setTimeout(function(){a.evaluateImmediate(!0)},b)):a._evalDelayed?a._evalDelayed():a.evaluateImmediate(!0)},evaluateImmediate:function(a){var b=this[computedState],d=b.disposeWhen;if(!b.isBeingEvaluated&&
!b.isDisposed){if(b.disposeWhenNodeIsRemoved&&!ko.utils.domNodeIsAttachedToDocument(b.disposeWhenNodeIsRemoved)||d&&d()){if(!b.suppressDisposalUntilDisposeWhenReturnsFalse){this.dispose();return}}else b.suppressDisposalUntilDisposeWhenReturnsFalse=!1;b.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(a)}finally{b.isBeingEvaluated=!1}b.dependenciesCount||this.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(a){var b=this[computedState],d=b.pure?void 0:
!b.dependenciesCount,c={computedObservable:this,disposalCandidates:b.dependencyTracking,disposalCount:b.dependenciesCount};ko.dependencyDetection.begin({callbackTarget:c,callback:computedBeginDependencyDetectionCallback,computed:this,isInitial:d});b.dependencyTracking={};b.dependenciesCount=0;c=this.evaluateImmediate_CallReadThenEndDependencyDetection(b,c);this.isDifferent(b.latestValue,c)&&(b.isSleeping||this.notifySubscribers(b.latestValue,"beforeChange"),b.latestValue=c,b.isSleeping?this.updateVersion():
a&&this.notifySubscribers(b.latestValue));d&&this.notifySubscribers(b.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(a,b){try{var d=a.readFunction;return a.evaluatorFunctionTarget?d.call(a.evaluatorFunctionTarget):d()}finally{ko.dependencyDetection.end(),b.disposalCount&&!a.isSleeping&&ko.utils.objectForEach(b.disposalCandidates,computedDisposeDependencyCallback),a.isStale=!1}},peek:function(){var a=this[computedState];(a.isStale&&!a.dependenciesCount||a.isSleeping&&
this.haveDependenciesChanged())&&this.evaluateImmediate();return a.latestValue},limit:function(a){ko.subscribable.fn.limit.call(this,a);this._evalDelayed=function(){this._limitBeforeChange(this[computedState].latestValue);this[computedState].isStale=!0;this._limitChange(this)}},dispose:function(){var a=this[computedState];!a.isSleeping&&a.dependencyTracking&&ko.utils.objectForEach(a.dependencyTracking,function(a,d){d.dispose&&d.dispose()});a.disposeWhenNodeIsRemoved&&a.domNodeDisposalCallback&&ko.utils.domNodeDisposal.removeDisposeCallback(a.disposeWhenNodeIsRemoved,
a.domNodeDisposalCallback);a.dependencyTracking=null;a.dependenciesCount=0;a.isDisposed=!0;a.isStale=!1;a.isSleeping=!1;a.disposeWhenNodeIsRemoved=null}},pureComputedOverrides={beforeSubscriptionAdd:function(a){var b=this,d=b[computedState];if(!d.isDisposed&&d.isSleeping&&"change"==a){d.isSleeping=!1;if(d.isStale||b.haveDependenciesChanged())d.dependencyTracking=null,d.dependenciesCount=0,d.isStale=!0,b.evaluateImmediate();else{var c=[];ko.utils.objectForEach(d.dependencyTracking,function(a,b){c[b._order]=
a});ko.utils.arrayForEach(c,function(a,c){var h=d.dependencyTracking[a],m=b.subscribeToDependency(h._target);m._order=c;m._version=h._version;d.dependencyTracking[a]=m})}d.isDisposed||b.notifySubscribers(d.latestValue,"awake")}},afterSubscriptionRemove:function(a){var b=this[computedState];b.isDisposed||"change"!=a||this.hasSubscriptionsForEvent("change")||(ko.utils.objectForEach(b.dependencyTracking,function(a,c){c.dispose&&(b.dependencyTracking[a]={_target:c._target,_order:c._order,_version:c._version},
c.dispose())}),b.isSleeping=!0,this.notifySubscribers(void 0,"asleep"))},getVersion:function(){var a=this[computedState];a.isSleeping&&(a.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate();return ko.subscribable.fn.getVersion.call(this)}},deferEvaluationOverrides={beforeSubscriptionAdd:function(a){"change"!=a&&"beforeChange"!=a||this.peek()}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(computedFn,ko.subscribable.fn);var protoProp=ko.observable.protoProperty;
ko.computed[protoProp]=ko.observable;computedFn[protoProp]=ko.computed;ko.isComputed=function(a){return ko.hasPrototype(a,ko.computed)};ko.isPureComputed=function(a){return ko.hasPrototype(a,ko.computed)&&a[computedState]&&a[computedState].pure};ko.exportSymbol("computed",ko.computed);ko.exportSymbol("dependentObservable",ko.computed);ko.exportSymbol("isComputed",ko.isComputed);ko.exportSymbol("isPureComputed",ko.isPureComputed);ko.exportSymbol("computed.fn",computedFn);
ko.exportProperty(computedFn,"peek",computedFn.peek);ko.exportProperty(computedFn,"dispose",computedFn.dispose);ko.exportProperty(computedFn,"isActive",computedFn.isActive);ko.exportProperty(computedFn,"getDependenciesCount",computedFn.getDependenciesCount);ko.pureComputed=function(a,b){if("function"===typeof a)return ko.computed(a,b,{pure:!0});a=ko.utils.extend({},a);a.pure=!0;return ko.computed(a,b)};ko.exportSymbol("pureComputed",ko.pureComputed);(function(){function a(c,f,e){e=e||new d;c=f(c);if("object"!=typeof c||null===c||void 0===c||c instanceof RegExp||c instanceof Date||c instanceof String||c instanceof Number||c instanceof Boolean)return c;var h=c instanceof Array?[]:{};e.save(c,h);b(c,function(b){var d=f(c[b]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[b]=d;break;case "object":case "undefined":var l=e.get(d);h[b]=void 0!==l?l:a(d,f,e)}});return h}function b(a,b){if(a instanceof Array){for(var d=
0;d<a.length;d++)b(d);"function"==typeof a.toJSON&&b("toJSON")}else for(d in a)b(d)}function d(){this.keys=[];this.values=[]}ko.toJS=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return a(b,function(a){for(var b=0;ko.isObservable(a)&&10>b;b++)a=a();return a})};ko.toJSON=function(a,b,d){a=ko.toJS(a);return ko.utils.stringifyJson(a,b,d)};d.prototype={constructor:d,save:function(a,b){var d=ko.utils.arrayIndexOf(this.keys,a);0<=d?this.values[d]=
b:(this.keys.push(a),this.values.push(b))},get:function(a){a=ko.utils.arrayIndexOf(this.keys,a);return 0<=a?this.values[a]:void 0}}})();ko.exportSymbol("toJS",ko.toJS);ko.exportSymbol("toJSON",ko.toJSON);(function(){ko.bindingProvider=function(){this.bindingCache={}};ko.utils.extend(ko.bindingProvider.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||ko.components.getComponentNameForNode(a);case 8:return ko.virtualElements.hasBindingValue(a);default:return!1}},getBindings:function(a,b){var d=this.getBindingsString(a,b),d=d?this.parseBindingsString(d,b,a):null;return ko.components.addBindingsForCustomElement(d,a,b,!1)},getBindingAccessors:function(a,
b){var d=this.getBindingsString(a,b),d=d?this.parseBindingsString(d,b,a,{valueAccessors:!0}):null;return ko.components.addBindingsForCustomElement(d,a,b,!0)},getBindingsString:function(a,b){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return ko.virtualElements.virtualNodeBindingValue(a);default:return null}},parseBindingsString:function(a,b,d,c){try{var f=this.bindingCache,e=a+(c&&c.valueAccessors||""),h;if(!(h=f[e])){var m,q="with($context){with($data||{}){return{"+ko.expressionRewriting.preProcessBindings(a,
c)+"}}}";m=new Function("$context","$element",q);h=f[e]=m}return h(b,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+l.message,l;}}});ko.bindingProvider.instance=new ko.bindingProvider})();ko.exportSymbol("bindingProvider",ko.bindingProvider);ko.expressionRewriting=function(){function a(a){a=ko.utils.stringTrim(a);123===a.charCodeAt(0)&&(a=a.slice(1,-1));var b=[],d=a.match(c),h,k=[],r=0;if(d){d.push(",");for(var t=0,g;g=d[t];++t){var p=g.charCodeAt(0);if(44===p){if(0>=r){b.push(h&&k.length?{key:h,value:k.join("")}:{unknown:h||k.join("")});h=r=0;k=[];continue}}else if(58===p){if(!r&&!h&&1===k.length){h=k.pop();continue}}else 47===p&&t&&1<g.length?(p=d[t-1].match(f))&&!e[p[0]]&&(a=a.substr(a.indexOf(g)+1),d=a.match(c),d.push(","),t=-1,g=
"/"):40===p||123===p||91===p?++r:41===p||125===p||93===p?--r:h||k.length||34!==p&&39!==p||(g=g.slice(1,-1));k.push(g)}}return b}var b=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,c=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,e={"in":1,"return":1,"typeof":1},h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:a,
preProcessBindings:function(c,e){function f(a,c){var g;if(!t){var e=ko.getBindingHandler(a);if(e&&e.preprocess&&!(c=e.preprocess(c,a,f)))return;if(e=h[a])g=c,0<=ko.utils.arrayIndexOf(b,g)?g=!1:(e=g.match(d),g=null===e?!1:e[1]?"Object("+e[1]+")"+e[2]:g),e=g;e&&k.push("'"+a+"':function(_z){"+g+"=_z}")}r&&(c="function(){return "+c+" }");n.push("'"+a+"':"+c)}e=e||{};var n=[],k=[],r=e.valueAccessors,t=e.bindingParams,g="string"===typeof c?a(c):c;ko.utils.arrayForEach(g,function(a){f(a.key||a.unknown,a.value)});
k.length&&f("_ko_property_writers","{"+k.join(",")+" }");return n.join(",")},keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(a,b,c,d,e){if(a&&ko.isObservable(a))!ko.isWriteableObservable(a)||e&&a.peek()===d||a(d);else if((a=b.get("_ko_property_writers"))&&a[c])a[c](d)}}}();ko.exportSymbol("expressionRewriting",ko.expressionRewriting);ko.exportSymbol("expressionRewriting.bindingRewriteValidators",ko.expressionRewriting.bindingRewriteValidators);
ko.exportSymbol("expressionRewriting.parseObjectLiteral",ko.expressionRewriting.parseObjectLiteral);ko.exportSymbol("expressionRewriting.preProcessBindings",ko.expressionRewriting.preProcessBindings);ko.exportSymbol("expressionRewriting._twoWayBindings",ko.expressionRewriting.twoWayBindings);ko.exportSymbol("jsonExpressionRewriting",ko.expressionRewriting);ko.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",ko.expressionRewriting.preProcessBindings);(function(){function a(a){return function(){return a}}function b(a){return a()}function d(a){return ko.utils.objectMap(ko.dependencyDetection.ignore(a),function(b,c){return function(){return a()[c]}})}function c(b,c,e){return"function"===typeof b?d(b.bind(null,c,e)):ko.utils.objectMap(b,a)}function f(a,b){return d(this.getBindings.bind(this,a,b))}function e(a,b,c){var d,e=ko.virtualElements.firstChild(b),f=ko.bindingProvider.instance,k=f.preprocessNode;if(k){for(;d=e;)e=ko.virtualElements.nextSibling(d),
k.call(f,d);e=ko.virtualElements.firstChild(b)}for(;d=e;)e=ko.virtualElements.nextSibling(d),h(a,d,c)}function h(a,b,c){var d=!0,f=1===b.nodeType;f&&ko.virtualElements.normaliseVirtualElementDomStructure(b);if(f&&c||ko.bindingProvider.instance.nodeHasBindings(b))d=q(b,null,a,c).shouldBindDescendants;d&&!n[ko.utils.tagNameLower(b)]&&e(a,b,!f)}function m(a){var b=[],c={},d=[];ko.utils.objectForEach(a,function v(e){if(!c[e]){var f=ko.getBindingHandler(e);f&&(f.after&&(d.push(e),ko.utils.arrayForEach(f.after,
function(b){if(a[b]){if(-1!==ko.utils.arrayIndexOf(d,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));v(b)}}),d.length--),b.push({key:e,handler:f}));c[e]=!0}});return b}function q(a,c,d,e){var h=ko.utils.domData.get(a,k);if(!c){if(h)throw Error("You cannot apply bindings multiple times to the same element.");ko.utils.domData.set(a,k,!0)}!h&&e&&ko.storedBindingContextForNode(a,d);var l;if(c&&"function"!==typeof c)l=c;else{var n=ko.bindingProvider.instance,
q=n.getBindingAccessors||f,u=ko.dependentObservable(function(){(l=c?c(d,a):q.call(n,a,d))&&d._subscribable&&d._subscribable();return l},null,{disposeWhenNodeIsRemoved:a});l&&u.isActive()||(u=null)}var w;if(l){var r=function(){return ko.utils.objectMap(u?u():l,b)},x=u?function(a){return function(){return b(u()[a])}}:function(a){return l[a]};r.get=function(a){return l[a]&&b(x(a))};r.has=function(a){return a in l};e=m(l);ko.utils.arrayForEach(e,function(b){var c=b.handler.init,g=b.handler.update,e=b.key;
if(8===a.nodeType&&!ko.virtualElements.allowedBindings[e])throw Error("The binding '"+e+"' cannot be used with virtual elements");try{"function"==typeof c&&ko.dependencyDetection.ignore(function(){var b=c(a,x(e),r,d.$data,d);if(b&&b.controlsDescendantBindings){if(void 0!==w)throw Error("Multiple bindings ("+w+" and "+e+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");w=e}}),"function"==typeof g&&ko.dependentObservable(function(){g(a,
x(e),r,d.$data,d)},null,{disposeWhenNodeIsRemoved:a})}catch(f){throw f.message='Unable to process binding "'+e+": "+l[e]+'"\nMessage: '+f.message,f;}})}return{shouldBindDescendants:void 0===w}}function l(a){return a&&a instanceof ko.bindingContext?a:new ko.bindingContext(a)}ko.bindingHandlers={};var n={script:!0,textarea:!0,template:!0};ko.getBindingHandler=function(a){return ko.bindingHandlers[a]};ko.bindingContext=function(a,b,c,d){var e=this,f="function"==typeof a&&!ko.isObservable(a),h,k=ko.dependentObservable(function(){var h=
f?a():a,l=ko.utils.unwrapObservable(h);b?(b._subscribable&&b._subscribable(),ko.utils.extend(e,b),k&&(e._subscribable=k)):(e.$parents=[],e.$root=l,e.ko=ko);e.$rawData=h;e.$data=l;c&&(e[c]=l);d&&d(e,b,l);return e.$data},null,{disposeWhen:function(){return h&&!ko.utils.anyDomNodeIsAttachedToDocument(h)},disposeWhenNodeIsRemoved:!0});k.isActive()&&(e._subscribable=k,k.equalityComparer=null,h=[],k._addNode=function(a){h.push(a);ko.utils.domNodeDisposal.addDisposeCallback(a,function(a){ko.utils.arrayRemoveItem(h,
a);h.length||(k.dispose(),e._subscribable=k=void 0)})})};ko.bindingContext.prototype.createChildContext=function(a,b,c){return new ko.bindingContext(a,this,b,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);c&&c(a)})};ko.bindingContext.prototype.extend=function(a){return new ko.bindingContext(this._subscribable||this.$data,this,null,function(b,c){b.$rawData=c.$rawData;ko.utils.extend(b,"function"==typeof a?a():a)})};var k=ko.utils.domData.nextKey(),
r=ko.utils.domData.nextKey();ko.storedBindingContextForNode=function(a,b){if(2==arguments.length)ko.utils.domData.set(a,r,b),b._subscribable&&b._subscribable._addNode(a);else return ko.utils.domData.get(a,r)};ko.applyBindingAccessorsToNode=function(a,b,c){1===a.nodeType&&ko.virtualElements.normaliseVirtualElementDomStructure(a);return q(a,b,l(c),!0)};ko.applyBindingsToNode=function(a,b,d){d=l(d);return ko.applyBindingAccessorsToNode(a,c(b,d,a),d)};ko.applyBindingsToDescendants=function(a,b){1!==b.nodeType&&
8!==b.nodeType||e(l(a),b,!0)};ko.applyBindings=function(a,b){!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||window.document.body;h(l(a),b,!0)};ko.contextFor=function(a){switch(a.nodeType){case 1:case 8:var b=ko.storedBindingContextForNode(a);if(b)return b;if(a.parentNode)return ko.contextFor(a.parentNode)}};ko.dataFor=function(a){return(a=
ko.contextFor(a))?a.$data:void 0};ko.exportSymbol("bindingHandlers",ko.bindingHandlers);ko.exportSymbol("applyBindings",ko.applyBindings);ko.exportSymbol("applyBindingsToDescendants",ko.applyBindingsToDescendants);ko.exportSymbol("applyBindingAccessorsToNode",ko.applyBindingAccessorsToNode);ko.exportSymbol("applyBindingsToNode",ko.applyBindingsToNode);ko.exportSymbol("contextFor",ko.contextFor);ko.exportSymbol("dataFor",ko.dataFor)})();
